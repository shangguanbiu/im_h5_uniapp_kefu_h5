if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((i=>t.resolve(e()).then((()=>i))),(i=>t.resolve(e()).then((()=>{throw i}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e,t){"use strict";const i=e=>{(e.$wxs||(e.$wxs=[])).push("handler"),(e.$wxsModules||(e.$wxsModules={})).handler="2f992f8c"},o=(e,t)=>{const i=e.__vccOpts||e;for(const[o,n]of t)i[o]=n;return i},n={name:"node",options:{},data:()=>({ctrl:{}}),props:{name:String,attrs:{type:Object,default:()=>({})},childs:Array,opts:Array},components:{},mounted(){if(this.$nextTick((()=>{for(this.root=this.$parent;"mp-html"!==this.root.$options.name;this.root=this.root.$parent);})),this.opts[0]){let e;for(e=this.childs.length;e--&&"img"!==this.childs[e].name;);-1!==e&&(this.observer=uni.createIntersectionObserver(this).relativeToViewport({top:500,bottom:500}),this.observer.observe("._img",(e=>{e.intersectionRatio&&(this.$set(this.ctrl,"load",1),this.observer.disconnect())})))}},beforeDestroy(){this.observer&&this.observer.disconnect()},methods:{play(e){this.root.$emit("play")},imgTap(e){const t=this.childs[e.currentTarget.dataset.i];t.a?this.linkTap(t.a):t.attrs.ignore||(t.attrs.src=t.attrs.src||t.attrs["data-src"],this.root.$emit("imgtap",t.attrs),this.root.previewImg&&uni.previewImage({current:parseInt(t.attrs.i),urls:this.root.imgList}))},imgLongTap(e){const t=this.childs[e.currentTarget.dataset.i].attrs;this.opts[3]&&!t.ignore&&uni.showActionSheet({itemList:["保存图片"],success:()=>{const e=e=>{uni.saveImageToPhotosAlbum({filePath:e,success(){uni.showToast({title:"保存成功"})}})};this.root.imgList[t.i].startsWith("http")?uni.downloadFile({url:this.root.imgList[t.i],success:t=>e(t.tempFilePath)}):e(this.root.imgList[t.i])}})},imgLoad(e){const t=e.currentTarget.dataset.i;this.childs[t].w?(this.opts[1]&&!this.ctrl[t]||-1===this.ctrl[t])&&this.$set(this.ctrl,t,1):this.$set(this.ctrl,t,e.detail.width),this.checkReady()},checkReady(){this.root&&!this.root.lazyLoad&&(this.root._unloadimgs-=1,this.root._unloadimgs||setTimeout((()=>{this.root.getRect().then((e=>{this.root.$emit("ready",e)})).catch((()=>{this.root.$emit("ready",{})}))}),350))},linkTap(e){const t=e.currentTarget?this.childs[e.currentTarget.dataset.i]:{},i=t.attrs||e,o=i.href;this.root.$emit("linktap",Object.assign({innerText:this.root.getText(t.children||[])},i)),o&&("#"===o[0]?this.root.navigateTo(o.substring(1)).catch((()=>{})):o.split("?")[0].includes("://")?this.root.copyLink&&plus.runtime.openWeb(o):uni.navigateTo({url:o,fail(){uni.switchTab({url:o,fail(){}})}}))},mediaError(e){const t=e.currentTarget.dataset.i,i=this.childs[t];if("video"===i.name||"audio"===i.name){let e=(this.ctrl[t]||0)+1;if(e>i.src.length&&(e=0),e<i.src.length)return void this.$set(this.ctrl,t,e)}else"img"===i.name&&(this.opts[2]&&this.$set(this.ctrl,t,-1),this.checkReady());this.root&&this.root.$emit("error",{source:i.name,attrs:i.attrs,errMsg:e.detail.errMsg})}}};i(n);const s=o(n,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("node",!0);return e.openBlock(),e.createElementBlock("view",{id:o.attrs.id,class:e.normalizeClass("_block _"+o.name+" "+o.attrs.class),style:e.normalizeStyle(o.attrs.style)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.childs,((t,n)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:n},["img"===t.name&&!t.t&&(o.opts[1]&&!s.ctrl[n]||s.ctrl[n]<0)?(e.openBlock(),e.createElementBlock("image",{key:0,class:"_img",style:e.normalizeStyle(t.attrs.style),src:s.ctrl[n]<0?o.opts[2]:o.opts[1],mode:"widthFix"},null,12,["src"])):e.createCommentVNode("",!0),"img"===t.name&&t.t?(e.openBlock(),e.createElementBlock("rich-text",{key:1,style:e.normalizeStyle("display:"+t.t),nodes:[{attrs:{style:t.attrs.style,src:t.attrs.src},name:"img"}],"data-i":n,onClick:i[0]||(i[0]=e.withModifiers(((...e)=>a.imgTap&&a.imgTap(...e)),["stop"]))},null,12,["nodes","data-i"])):"img"===t.name?(e.openBlock(),e.createElementBlock("image",{key:2,id:t.attrs.id,class:e.normalizeClass("_img "+t.attrs.class),style:e.normalizeStyle((-1===s.ctrl[n]?"display:none;":"")+"width:"+(s.ctrl[n]||1)+"px;"+t.attrs.style),src:t.attrs.src||(s.ctrl.load?t.attrs["data-src"]:""),mode:t.h?t.w?"":"heightFix":"widthFix","data-i":n,onLoad:i[1]||(i[1]=(...e)=>a.imgLoad&&a.imgLoad(...e)),onError:i[2]||(i[2]=(...e)=>a.mediaError&&a.mediaError(...e)),onClick:i[3]||(i[3]=e.withModifiers(((...e)=>a.imgTap&&a.imgTap(...e)),["stop"])),onLongpress:i[4]||(i[4]=(...e)=>a.imgLongTap&&a.imgLongTap(...e))},null,46,["id","src","mode","data-i"])):t.text?(e.openBlock(),e.createElementBlock("text",{key:3,decode:""},e.toDisplayString(t.text),1)):"br"===t.name?(e.openBlock(),e.createElementBlock("text",{key:4},"\\n")):"a"===t.name?(e.openBlock(),e.createElementBlock("view",{key:5,id:t.attrs.id,class:e.normalizeClass((t.attrs.href?"_a ":"")+t.attrs.class),"hover-class":"_hover",style:e.normalizeStyle("display:inline;"+t.attrs.style),"data-i":n,onClick:i[5]||(i[5]=e.withModifiers(((...e)=>a.linkTap&&a.linkTap(...e)),["stop"]))},[e.createVNode(r,{name:"span",childs:t.children,opts:o.opts,style:{display:"inherit"}},null,8,["childs","opts"])],14,["id","data-i"])):t.html?(e.openBlock(),e.createElementBlock("view",{key:6,id:t.attrs.id,class:e.normalizeClass("_video "+t.attrs.class),style:e.normalizeStyle(t.attrs.style),innerHTML:t.html,onVplay:i[6]||(i[6]=e.withModifiers(((...e)=>a.play&&a.play(...e)),["stop"]))},null,46,["id","innerHTML"])):"iframe"===t.name?(e.openBlock(),e.createElementBlock("iframe",{key:7,style:e.normalizeStyle(t.attrs.style),allowfullscreen:t.attrs.allowfullscreen,frameborder:t.attrs.frameborder,src:t.attrs.src},null,12,["allowfullscreen","frameborder","src"])):"embed"===t.name?(e.openBlock(),e.createElementBlock("embed",{key:8,style:e.normalizeStyle(t.attrs.style),src:t.attrs.src},null,12,["src"])):"table"===t.name&&t.c||"li"===t.name?(e.openBlock(),e.createElementBlock("view",{key:9,id:t.attrs.id,class:e.normalizeClass("_"+t.name+" "+t.attrs.class),style:e.normalizeStyle(t.attrs.style)},["li"===t.name?(e.openBlock(),e.createBlock(r,{key:0,childs:t.children,opts:o.opts},null,8,["childs","opts"])):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(t.children,((t,i)=>(e.openBlock(),e.createElementBlock("view",{key:i,class:e.normalizeClass("_"+t.name+" "+t.attrs.class),style:e.normalizeStyle(t.attrs.style)},["td"===t.name||"th"===t.name?(e.openBlock(),e.createBlock(r,{key:0,childs:t.children,opts:o.opts},null,8,["childs","opts"])):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(t.children,((t,i)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:i},["td"===t.name||"th"===t.name?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass("_"+t.name+" "+t.attrs.class),style:e.normalizeStyle(t.attrs.style)},[e.createVNode(r,{childs:t.children,opts:o.opts},null,8,["childs","opts"])],6)):(e.openBlock(),e.createElementBlock("view",{key:1,class:e.normalizeClass("_"+t.name+" "+t.attrs.class),style:e.normalizeStyle(t.attrs.style)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.children,((t,i)=>(e.openBlock(),e.createElementBlock("view",{key:i,class:e.normalizeClass("_"+t.name+" "+t.attrs.class),style:e.normalizeStyle(t.attrs.style)},[e.createVNode(r,{childs:t.children,opts:o.opts},null,8,["childs","opts"])],6)))),128))],6))],64)))),128))],6)))),128))],14,["id"])):t.c?2===t.c?(e.openBlock(),e.createElementBlock("view",{key:11,id:t.attrs.id,class:e.normalizeClass("_block _"+t.name+" "+t.attrs.class),style:e.normalizeStyle(t.f+";"+t.attrs.style)},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.children,((t,i)=>(e.openBlock(),e.createBlock(r,{key:i,style:e.normalizeStyle(t.f),name:t.name,attrs:t.attrs,childs:t.children,opts:o.opts},null,8,["style","name","attrs","childs","opts"])))),128))],14,["id"])):(e.openBlock(),e.createBlock(r,{key:12,style:e.normalizeStyle(t.f),name:t.name,attrs:t.attrs,childs:t.children,opts:o.opts},null,8,["style","name","attrs","childs","opts"])):(e.openBlock(),e.createElementBlock("rich-text",{key:10,id:t.attrs.id,style:e.normalizeStyle("display:inline;"+t.f),preview:!1,selectable:o.opts[4],"user-select":o.opts[4],nodes:[t]},null,12,["id","selectable","user-select","nodes"]))],64)))),128))],14,["id"])}],["__scopeId","data-v-9be61c47"]]),a={trustTags:u("a,abbr,ad,audio,b,blockquote,br,code,col,colgroup,dd,del,dl,dt,div,em,fieldset,h1,h2,h3,h4,h5,h6,hr,i,img,ins,label,legend,li,ol,p,q,ruby,rt,source,span,strong,sub,sup,table,tbody,td,tfoot,th,thead,tr,title,ul,video"),blockTags:u("address,article,aside,body,caption,center,cite,footer,header,html,nav,pre,section"),inlineTags:u("abbr,b,big,code,del,em,i,ins,label,q,small,span,strong,sub,sup"),ignoreTags:u("area,base,canvas,embed,frame,head,iframe,input,link,map,meta,param,rp,script,source,style,textarea,title,track,wbr"),voidTags:u("area,base,br,col,circle,ellipse,embed,frame,hr,img,input,line,link,meta,param,path,polygon,rect,source,track,use,wbr"),entities:{lt:"<",gt:">",quot:'"',apos:"'",ensp:" ",emsp:" ",nbsp:" ",semi:";",ndash:"–",mdash:"—",middot:"·",lsquo:"‘",rsquo:"’",ldquo:"“",rdquo:"”",bull:"•",hellip:"…",larr:"←",uarr:"↑",rarr:"→",darr:"↓"},tagStyle:{address:"font-style:italic",big:"display:inline;font-size:1.2em",caption:"display:table-caption;text-align:center",center:"text-align:center",cite:"font-style:italic",dd:"margin-left:40px",mark:"background-color:yellow",pre:"font-family:monospace;white-space:pre",s:"text-decoration:line-through",small:"display:inline;font-size:0.8em",strike:"text-decoration:line-through",u:"text-decoration:underline"},svgDict:{animatetransform:"animateTransform",lineargradient:"linearGradient",viewbox:"viewBox",attributename:"attributeName",repeatcount:"repeatCount",repeatdur:"repeatDur"}},r={},{windowWidth:l}=uni.getSystemInfoSync(),c=u(" ,\r,\n,\t,\f");let d=0;function u(e){const t=Object.create(null),i=e.split(",");for(let o=i.length;o--;)t[i[o]]=!0;return t}function m(e,t){let i=e.indexOf("&");for(;-1!==i;){const o=e.indexOf(";",i+3);let n;if(-1===o)break;"#"===e[i+1]?(n=parseInt(("x"===e[i+2]?"0":"")+e.substring(i+2,o)),isNaN(n)||(e=e.substr(0,i)+String.fromCharCode(n)+e.substr(o+1))):(n=e.substring(i+1,o),(a.entities[n]||"amp"===n&&t)&&(e=e.substr(0,i)+(a.entities[n]||"&")+e.substr(o+1))),i=e.indexOf("&",i+1)}return e}function h(e){let t=e.length-1;for(let i=t;i>=-1;i--)(-1===i||e[i].c||!e[i].name||"div"!==e[i].name&&"p"!==e[i].name&&"h"!==e[i].name[0]||(e[i].attrs.style||"").includes("inline"))&&(t-i>=5&&e.splice(i+1,t-i,{name:"div",attrs:{},children:e.slice(i+1,t+1)}),t=i-1)}function p(e){this.options=e||{},this.tagStyle=Object.assign({},a.tagStyle,this.options.tagStyle),this.imgList=e.imgList||[],this.imgList._unloadimgs=0,this.plugins=e.plugins||[],this.attrs=Object.create(null),this.stack=[],this.nodes=[],this.pre=(this.options.containerStyle||"").includes("white-space")&&this.options.containerStyle.includes("pre")?2:0}function g(e){this.handler=e}a.ignoreTags.iframe=void 0,a.trustTags.iframe=!0,a.ignoreTags.embed=void 0,a.trustTags.embed=!0,p.prototype.parse=function(e){for(let t=this.plugins.length;t--;)this.plugins[t].onUpdate&&(e=this.plugins[t].onUpdate(e,a)||e);for(new g(this).parse(e);this.stack.length;)this.popNode();return this.nodes.length>50&&h(this.nodes),this.nodes},p.prototype.expose=function(){for(let e=this.stack.length;e--;){const t=this.stack[e];if(t.c||"a"===t.name||"video"===t.name||"audio"===t.name)return;t.c=1}},p.prototype.hook=function(e){for(let t=this.plugins.length;t--;)if(this.plugins[t].onParse&&!1===this.plugins[t].onParse(e,this))return!1;return!0},p.prototype.getUrl=function(e){const t=this.options.domain;return"/"===e[0]?e="/"===e[1]?(t?t.split("://")[0]:"http")+":"+e:t?t+e:plus.io.convertLocalFileSystemURL(e):e.includes("data:")||e.includes("://")||(e=t?t+"/"+e:plus.io.convertLocalFileSystemURL(e)),e},p.prototype.parseStyle=function(e){const t=e.attrs,i=(this.tagStyle[e.name]||"").split(";").concat((t.style||"").split(";")),o={};let n="";t.id&&!this.xml&&(this.options.useAnchor?this.expose():"img"!==e.name&&"a"!==e.name&&"video"!==e.name&&"audio"!==e.name&&(t.id=void 0)),t.width&&(o.width=parseFloat(t.width)+(t.width.includes("%")?"%":"px"),t.width=void 0),t.height&&(o.height=parseFloat(t.height)+(t.height.includes("%")?"%":"px"),t.height=void 0);for(let s=0,a=i.length;s<a;s++){const e=i[s].split(":");if(e.length<2)continue;const t=e.shift().trim().toLowerCase();let a=e.join(":").trim();if("-"===a[0]&&a.lastIndexOf("-")>0||a.includes("safe"))n+=`;${t}:${a}`;else if(!o[t]||a.includes("import")||!o[t].includes("import")){if(a.includes("url")){let e=a.indexOf("(")+1;if(e){for(;'"'===a[e]||"'"===a[e]||c[a[e]];)e++;a=a.substr(0,e)+this.getUrl(a.substr(e))}}else a.includes("rpx")&&(a=a.replace(/[0-9.]+\s*rpx/g,(e=>parseFloat(e)*l/750+"px")));o[t]=a}}return e.attrs.style=n,o},p.prototype.onTagName=function(e){this.tagName=this.xml?e:e.toLowerCase(),"svg"===this.tagName&&(this.xml=(this.xml||0)+1,a.ignoreTags.style=void 0)},p.prototype.onAttrName=function(e){"data-"===(e=this.xml?e:e.toLowerCase()).substr(0,5)?"data-src"!==e||this.attrs.src?"img"===this.tagName||"a"===this.tagName?this.attrName=e:this.attrName=void 0:this.attrName="src":(this.attrName=e,this.attrs[e]="T")},p.prototype.onAttrVal=function(e){const t=this.attrName||"";"style"===t||"href"===t?this.attrs[t]=m(e,!0):t.includes("src")?this.attrs[t]=this.getUrl(m(e,!0)):t&&(this.attrs[t]=e)},p.prototype.onOpenTag=function(e){const t=Object.create(null);t.name=this.tagName,t.attrs=this.attrs,this.options.nodes.length&&(t.type="node"),this.attrs=Object.create(null);const i=t.attrs,o=this.stack[this.stack.length-1],n=o?o.children:this.nodes,s=this.xml?e:a.voidTags[t.name];if(r[t.name]&&(i.class=r[t.name]+(i.class?" "+i.class:"")),"embed"===t.name&&this.expose(),"video"!==t.name&&"audio"!==t.name||("video"!==t.name||i.id||(i.id="v"+d++),i.controls||i.autoplay||(i.controls="T"),t.src=[],i.src&&(t.src.push(i.src),i.src=void 0),this.expose()),s){if(!this.hook(t)||a.ignoreTags[t.name])return void("base"!==t.name||this.options.domain?"source"===t.name&&o&&("video"===o.name||"audio"===o.name)&&i.src&&o.src.push(i.src):this.options.domain=i.href);const e=this.parseStyle(t);if("img"===t.name){if(i.src&&(i.src.includes("webp")&&(t.webp="T"),i.src.includes("data:")&&!i["original-src"]&&(i.ignore="T"),!i.ignore||t.webp||i.src.includes("cloud://"))){for(let n=this.stack.length;n--;){const o=this.stack[n];"a"===o.name&&(t.a=o.attrs),"table"!==o.name||t.webp||i.src.includes("cloud://")||(!e.display||e.display.includes("inline")?t.t="inline-block":t.t=e.display,e.display=void 0),o.c=1}i.i=this.imgList.length.toString();let o=i["original-src"]||i.src;this.imgList.push(o),t.t||(this.imgList._unloadimgs+=1),this.options.lazyLoad&&(i["data-src"]=i.src,i.src=void 0)}"inline"===e.display&&(e.display=""),i.ignore&&(e["max-width"]=e["max-width"]||"100%",i.style+=";-webkit-touch-callout:none"),parseInt(e.width)>l&&(e.height=void 0),isNaN(parseInt(e.width))||(t.w="T"),!isNaN(parseInt(e.height))&&(!e.height.includes("%")||o&&(o.attrs.style||"").includes("height"))&&(t.h="T")}else if("svg"===t.name)return n.push(t),this.stack.push(t),void this.popNode();for(const t in e)e[t]&&(i.style+=`;${t}:${e[t].replace(" !important","")}`);i.style=i.style.substr(1)||void 0}else("pre"===t.name||(i.style||"").includes("white-space")&&i.style.includes("pre"))&&2!==this.pre&&(this.pre=t.pre=1),t.children=[],this.stack.push(t);n.push(t)},p.prototype.onCloseTag=function(e){let t;for(e=this.xml?e:e.toLowerCase(),t=this.stack.length;t--&&this.stack[t].name!==e;);if(-1!==t)for(;this.stack.length>t;)this.popNode();else if("p"===e||"br"===e){(this.stack.length?this.stack[this.stack.length-1].children:this.nodes).push({name:e,attrs:{class:r[e]||"",style:this.tagStyle[e]||""}})}},p.prototype.popNode=function(){const e=this.stack.pop();let t=e.attrs;const i=e.children,o=this.stack[this.stack.length-1],n=o?o.children:this.nodes;if(!this.hook(e)||a.ignoreTags[e.name])return"title"===e.name&&i.length&&"text"===i[0].type&&this.options.setTitle&&uni.setNavigationBarTitle({title:i[0].text}),void n.pop();if(e.pre&&2!==this.pre){this.pre=e.pre=void 0;for(let e=this.stack.length;e--;)this.stack[e].pre&&(this.pre=1)}const s={};if("svg"===e.name){if(this.xml>1)return void this.xml--;let i="";const o=t.style;return t.style="",t.xmlns="http://www.w3.org/2000/svg",function e(t){if("text"===t.type)return void(i+=t.text);const o=a.svgDict[t.name]||t.name;i+="<"+o;for(const n in t.attrs){const e=t.attrs[n];e&&(i+=` ${a.svgDict[n]||n}="${e}"`)}if(t.children){i+=">";for(let i=0;i<t.children.length;i++)e(t.children[i]);i+="</"+o+">"}else i+="/>"}(e),e.name="img",e.attrs={src:"data:image/svg+xml;utf8,"+i.replace(/#/g,"%23"),style:o,ignore:"T"},e.children=void 0,this.xml=!1,void(a.ignoreTags.style=!0)}if(t.align&&("table"===e.name?"center"===t.align?s["margin-inline-start"]=s["margin-inline-end"]="auto":s.float=t.align:s["text-align"]=t.align,t.align=void 0),t.dir&&(s.direction=t.dir,t.dir=void 0),"font"===e.name&&(t.color&&(s.color=t.color,t.color=void 0),t.face&&(s["font-family"]=t.face,t.face=void 0),t.size)){let e=parseInt(t.size);isNaN(e)||(e<1?e=1:e>7&&(e=7),s["font-size"]=["x-small","small","medium","large","x-large","xx-large","xxx-large"][e-1]),t.size=void 0}if((t.class||"").includes("align-center")&&(s["text-align"]="center"),Object.assign(s,this.parseStyle(e)),"table"!==e.name&&parseInt(s.width)>l&&(s["max-width"]="100%",s["box-sizing"]="border-box"),a.blockTags[e.name]?e.name="div":a.trustTags[e.name]||this.xml||(e.name="span"),"a"===e.name||"ad"===e.name||"iframe"===e.name)this.expose();else if("video"===e.name){(s.height||"").includes("auto")&&(s.height=void 0);let i='<video style="width:100%;height:100%"';for(const e in t)t[e]&&(i+=" "+e+'="'+t[e]+'"');this.options.pauseVideo&&(i+=" onplay=\"this.dispatchEvent(new CustomEvent('vplay',{bubbles:!0}));for(var e=document.getElementsByTagName('video'),t=0;t<e.length;t++)e[t]!=this&&e[t].pause()\""),i+=">";for(let t=0;t<e.src.length;t++)i+='<source src="'+e.src[t]+'">';i+="</video>",e.html=i}else if("ul"!==e.name&&"ol"!==e.name||!e.c){if("table"===e.name){let o=parseFloat(t.cellpadding),n=parseFloat(t.cellspacing);const a=parseFloat(t.border),r=s["border-color"],l=s["border-style"];if(e.c&&(isNaN(o)&&(o=2),isNaN(n)&&(n=2)),a&&(t.style+=`;border:${a}px ${l||"solid"} ${r||"gray"}`),e.flag&&e.c){s.display="grid",n?(s["grid-gap"]=n+"px",s.padding=n+"px"):a&&(t.style+=";border-left:0;border-top:0");const c=[],d=[],u=[],m={};!function e(t){for(let i=0;i<t.length;i++)"tr"===t[i].name?d.push(t[i]):e(t[i].children||[])}(i);for(let e=1;e<=d.length;e++){let t=1;for(let i=0;i<d[e-1].children.length;i++){const s=d[e-1].children[i];if("td"===s.name||"th"===s.name){for(;m[e+"."+t];)t++;let i=s.attrs.style||"",d=i.indexOf("width")?i.indexOf(";width"):0;if(-1!==d){let e=i.indexOf(";",d+6);-1===e&&(e=i.length),s.attrs.colspan||(c[t]=i.substring(d?d+7:6,e)),i=i.substr(0,d)+i.substr(e)}if(i+=";display:flex",d=i.indexOf("vertical-align"),-1!==d){const e=i.substr(d+15,10);e.includes("middle")?i+=";align-items:center":e.includes("bottom")&&(i+=";align-items:flex-end")}else i+=";align-items:center";if(d=i.indexOf("text-align"),-1!==d){const e=i.substr(d+11,10);e.includes("center")?i+=";justify-content: center":e.includes("right")&&(i+=";justify-content: right")}if(i=(a?`;border:${a}px ${l||"solid"} ${r||"gray"}`+(n?"":";border-right:0;border-bottom:0"):"")+(o?`;padding:${o}px`:"")+";"+i,s.attrs.colspan&&(i+=`;grid-column-start:${t};grid-column-end:${t+parseInt(s.attrs.colspan)}`,s.attrs.rowspan||(i+=`;grid-row-start:${e};grid-row-end:${e+1}`),t+=parseInt(s.attrs.colspan)-1),s.attrs.rowspan){i+=`;grid-row-start:${e};grid-row-end:${e+parseInt(s.attrs.rowspan)}`,s.attrs.colspan||(i+=`;grid-column-start:${t};grid-column-end:${t+1}`);for(let i=1;i<s.attrs.rowspan;i++)for(let o=0;o<(s.attrs.colspan||1);o++)m[e+i+"."+(t-o)]=1}i&&(s.attrs.style=i),u.push(s),t++}}if(1===e){let e="";for(let i=1;i<t;i++)e+=(c[i]?c[i]:"auto")+" ";s["grid-template-columns"]=e}}e.children=u}else e.c&&(s.display="table"),isNaN(n)||(s["border-spacing"]=n+"px"),(a||o)&&function e(t){for(let i=0;i<t.length;i++){const n=t[i];"th"===n.name||"td"===n.name?(a&&(n.attrs.style=`border:${a}px ${l||"solid"} ${r||"gray"};${n.attrs.style||""}`),o&&(n.attrs.style=`padding:${o}px;${n.attrs.style||""}`)):n.children&&e(n.children)}}(i);if(this.options.scrollTable&&!(t.style||"").includes("inline")){const i=Object.assign({},e);e.name="div",e.attrs={style:"overflow:auto"},e.children=[i],t=i.attrs}}else if("td"!==e.name&&"th"!==e.name||!t.colspan&&!t.rowspan)if("ruby"===e.name){e.name="span";for(let e=0;e<i.length-1;e++)"text"===i[e].type&&"rt"===i[e+1].name&&(i[e]={name:"div",attrs:{style:"display:inline-block;text-align:center"},children:[{name:"div",attrs:{style:"font-size:50%;"+(i[e+1].attrs.style||"")},children:i[e+1].children},i[e]]},i.splice(e+1,1))}else e.c&&function e(t){t.c=2;for(let i=t.children.length;i--;){const o=t.children[i];o.name&&(a.inlineTags[o.name]||(o.attrs.style||"").includes("inline")&&o.children)&&!o.c&&e(o),o.c&&"table"!==o.name||(t.c=1)}}(e);else for(let a=this.stack.length;a--;)if("table"===this.stack[a].name){this.stack[a].flag=1;break}}else{const e={a:"lower-alpha",A:"upper-alpha",i:"lower-roman",I:"upper-roman"};e[t.type]&&(t.style+=";list-style-type:"+e[t.type],t.type=void 0);for(let t=i.length;t--;)"li"===i[t].name&&(i[t].c=1)}if((s.display||"").includes("flex")&&!e.c)for(let a=i.length;a--;){const e=i[a];e.f&&(e.attrs.style=(e.attrs.style||"")+e.f,e.f=void 0)}const r=o&&((o.attrs.style||"").includes("flex")||(o.attrs.style||"").includes("grid"))&&!e.c;r&&(e.f=";max-width:100%"),i.length>=50&&e.c&&!(s.display||"").includes("flex")&&h(i);for(const a in s)if(s[a]){const i=`;${a}:${s[a].replace(" !important","")}`;r&&(a.includes("flex")&&"flex-direction"!==a||"align-self"===a||a.includes("grid")||"-"===s[a][0]||a.includes("width")&&i.includes("%"))?(e.f+=i,"width"===a&&(t.style+=";width:100%")):t.style+=i}t.style=t.style.substr(1)||void 0},p.prototype.onText=function(e){if(!this.pre){let t,i="";for(let o=0,n=e.length;o<n;o++)c[e[o]]?(" "!==i[i.length-1]&&(i+=" "),"\n"!==e[o]||t||(t=!0)):i+=e[o];if(" "===i){if(t)return;{const e=this.stack[this.stack.length-1];if(e&&"t"===e.name[0])return}}e=i}const t=Object.create(null);if(t.type="text",t.text=m(e),this.hook(t)){(this.stack.length?this.stack[this.stack.length-1].children:this.nodes).push(t)}},g.prototype.parse=function(e){this.content=e||"",this.i=0,this.start=0,this.state=this.text;for(let t=this.content.length;-1!==this.i&&this.i<t;)this.state()},g.prototype.checkClose=function(e){const t="/"===this.content[this.i];return!!(">"===this.content[this.i]||t&&">"===this.content[this.i+1])&&(e&&this.handler[e](this.content.substring(this.start,this.i)),this.i+=t?2:1,this.start=this.i,this.handler.onOpenTag(t),"script"===this.handler.tagName?(this.i=this.content.indexOf("</",this.i),-1!==this.i&&(this.i+=2,this.start=this.i),this.state=this.endTag):this.state=this.text,!0)},g.prototype.text=function(){if(this.i=this.content.indexOf("<",this.i),-1===this.i)return void(this.start<this.content.length&&this.handler.onText(this.content.substring(this.start,this.content.length)));const e=this.content[this.i+1];if(e>="a"&&e<="z"||e>="A"&&e<="Z")this.start!==this.i&&this.handler.onText(this.content.substring(this.start,this.i)),this.start=++this.i,this.state=this.tagName;else if("/"===e||"!"===e||"?"===e){this.start!==this.i&&this.handler.onText(this.content.substring(this.start,this.i));const t=this.content[this.i+2];if("/"===e&&(t>="a"&&t<="z"||t>="A"&&t<="Z"))return this.i+=2,this.start=this.i,void(this.state=this.endTag);let i="--\x3e";"!"===e&&"-"===this.content[this.i+2]&&"-"===this.content[this.i+3]||(i=">"),this.i=this.content.indexOf(i,this.i),-1!==this.i&&(this.i+=i.length,this.start=this.i)}else this.i++},g.prototype.tagName=function(){if(c[this.content[this.i]]){for(this.handler.onTagName(this.content.substring(this.start,this.i));c[this.content[++this.i]];);this.i<this.content.length&&!this.checkClose()&&(this.start=this.i,this.state=this.attrName)}else this.checkClose("onTagName")||this.i++},g.prototype.attrName=function(){let e=this.content[this.i];if(c[e]||"="===e){this.handler.onAttrName(this.content.substring(this.start,this.i));let t="="===e;const i=this.content.length;for(;++this.i<i;)if(e=this.content[this.i],!c[e]){if(this.checkClose())return;if(t)return this.start=this.i,void(this.state=this.attrVal);if("="!==this.content[this.i])return this.start=this.i,void(this.state=this.attrName);t=!0}}else this.checkClose("onAttrName")||this.i++},g.prototype.attrVal=function(){const e=this.content[this.i],t=this.content.length;if('"'===e||"'"===e){if(this.start=++this.i,this.i=this.content.indexOf(e,this.i),-1===this.i)return;this.handler.onAttrVal(this.content.substring(this.start,this.i))}else for(;this.i<t;this.i++){if(c[this.content[this.i]]){this.handler.onAttrVal(this.content.substring(this.start,this.i));break}if(this.checkClose("onAttrVal"))return}for(;c[this.content[++this.i]];);this.i<t&&!this.checkClose()&&(this.start=this.i,this.state=this.attrName)},g.prototype.endTag=function(){const e=this.content[this.i];if(c[e]||">"===e||"/"===e){if(this.handler.onCloseTag(this.content.substring(this.start,this.i)),">"!==e&&(this.i=this.content.indexOf(">",this.i),-1===this.i))return;this.start=++this.i,this.state=this.text}else this.i++};const f=[];const v=o({name:"mp-html",data:()=>({nodes:[]}),props:{containerStyle:{type:String,default:""},content:{type:String,default:""},copyLink:{type:[Boolean,String],default:!0},domain:String,errorImg:{type:String,default:""},lazyLoad:{type:[Boolean,String],default:!1},loadingImg:{type:String,default:""},pauseVideo:{type:[Boolean,String],default:!0},previewImg:{type:[Boolean,String],default:!0},scrollTable:[Boolean,String],selectable:[Boolean,String],setTitle:{type:[Boolean,String],default:!0},showImgMenu:{type:[Boolean,String],default:!0},tagStyle:Object,useAnchor:[Boolean,Number]},emits:["load","ready","imgtap","linktap","play","error"],components:{node:s},watch:{content(e){this.setContent(e)}},created(){this.plugins=[];for(let e=f.length;e--;)this.plugins.push(new f[e](this))},mounted(){this.content&&!this.nodes.length&&this.setContent(this.content)},beforeDestroy(){this._hook("onDetached")},methods:{in(e,t,i){e&&t&&i&&(this._in={page:e,selector:t,scrollTop:i})},navigateTo(e,t){return new Promise(((i,o)=>{if(!this.useAnchor)return void o(Error("Anchor is disabled"));t=t||parseInt(this.useAnchor)||0;const n=uni.createSelectorQuery().in(this._in?this._in.page:this).select((this._in?this._in.selector:"._root")+(e?` #${e}`:"")).boundingClientRect();this._in?n.select(this._in.selector).scrollOffset().select(this._in.selector).boundingClientRect():n.selectViewport().scrollOffset(),n.exec((e=>{if(!e[0])return void o(Error("Label not found"));const n=e[1].scrollTop+e[0].top-(e[2]?e[2].top:0)+t;this._in?this._in.page[this._in.scrollTop]=n:uni.pageScrollTo({scrollTop:n,duration:300}),i()}))}))},getText(e){let t="";return function e(i){for(let o=0;o<i.length;o++){const n=i[o];if("text"===n.type)t+=n.text.replace(/&amp;/g,"&");else if("br"===n.name)t+="\n";else{const i="p"===n.name||"div"===n.name||"tr"===n.name||"li"===n.name||"h"===n.name[0]&&n.name[1]>"0"&&n.name[1]<"7";i&&t&&"\n"!==t[t.length-1]&&(t+="\n"),n.children&&e(n.children),i&&"\n"!==t[t.length-1]?t+="\n":"td"!==n.name&&"th"!==n.name||(t+="\t")}}}(e||this.nodes),t},getRect(){return new Promise(((e,t)=>{uni.createSelectorQuery().in(this).select("#_root").boundingClientRect().exec((i=>i[0]?e(i[0]):t(Error("Root label not found"))))}))},pauseMedia(){for(let t=(this._videos||[]).length;t--;)this._videos[t].pause();let e=this.$parent;for(;!e.$scope;)e=e.$parent;e.$scope.$getAppWebview().evalJS('for(var e=document.getElementsByTagName("video"),i=e.length;i--;)e[i].pause()')},setPlaybackRate(e){this.playbackRate=e;for(let o=(this._videos||[]).length;o--;)this._videos[o].playbackRate(e);const t='for(var e=document.getElementsByTagName("video"),i=e.length;i--;)e[i].playbackRate='+e;let i=this.$parent;for(;!i.$scope;)i=i.$parent;i.$scope.$getAppWebview().evalJS(t)},setContent(e,t){t&&this.imgList||(this.imgList=[]);const i=new p(this).parse(e);if(this.$set(this,"nodes",t?(this.nodes||[]).concat(i):i),this._videos=[],this.$nextTick((()=>{this._hook("onLoad"),this.$emit("load")})),this.lazyLoad||this.imgList._unloadimgs<this.imgList.length/2){let e=0;const t=i=>{i&&i.height||(i={}),i.height===e?this.$emit("ready",i):(e=i.height,setTimeout((()=>{this.getRect().then(t).catch(t)}),350))};this.getRect().then(t).catch(t)}else this.imgList._unloadimgs||this.getRect().then((e=>{this.$emit("ready",e)})).catch((()=>{this.$emit("ready",{})}))},_hook(e){for(let t=f.length;t--;)this.plugins[t][e]&&this.plugins[t][e]()}}},[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("node");return e.openBlock(),e.createElementBlock("view",{id:"_root",class:e.normalizeClass((o.selectable?"_select ":"")+"_root"),style:e.normalizeStyle(o.containerStyle)},[s.nodes[0]?(e.openBlock(),e.createBlock(r,{key:1,childs:s.nodes,opts:[o.lazyLoad,o.loadingImg,o.errorImg,o.showImgMenu,o.selectable],name:"span"},null,8,["childs","opts"])):e.renderSlot(t.$slots,"default",{key:0},void 0,!0)],6)}],["__scopeId","data-v-ccecb8e3"]]);function _(e,t,...i){uni.__log__?uni.__log__(e,t,...i):console[e].apply(console,[...i,t])}function y(e,i){return t.isString(e)?i:e}const w=[{label:"表情",icon:"cuIcon-emoji",children:[{name:"1f600",title:"微笑",src:"https://emoji.raingad.com/72x72/1f600.png"},{name:"1f62c",title:"微笑",src:"https://emoji.raingad.com/72x72/1f62c.png"},{name:"1f601",title:"微笑",src:"https://emoji.raingad.com/72x72/1f601.png"},{name:"1f602",title:"微笑",src:"https://emoji.raingad.com/72x72/1f602.png"},{name:"1f923",title:"微笑",src:"https://emoji.raingad.com/72x72/1f923.png"},{name:"1f973",title:"微笑",src:"https://emoji.raingad.com/72x72/1f973.png"},{name:"1f603",title:"微笑",src:"https://emoji.raingad.com/72x72/1f603.png"},{name:"1f604",title:"微笑",src:"https://emoji.raingad.com/72x72/1f604.png"},{name:"1f605",title:"微笑",src:"https://emoji.raingad.com/72x72/1f605.png"},{name:"1f606",title:"微笑",src:"https://emoji.raingad.com/72x72/1f606.png"},{name:"1f607",title:"微笑",src:"https://emoji.raingad.com/72x72/1f607.png"},{name:"1f609",title:"微笑",src:"https://emoji.raingad.com/72x72/1f609.png"},{name:"1f60a",title:"微笑",src:"https://emoji.raingad.com/72x72/1f60a.png"},{name:"1f642",title:"微笑",src:"https://emoji.raingad.com/72x72/1f642.png"},{name:"1f643",title:"微笑",src:"https://emoji.raingad.com/72x72/1f643.png"},{name:"1263a",title:"微笑",src:"https://emoji.raingad.com/72x72/263a.png"},{name:"1f60b",title:"微笑",src:"https://emoji.raingad.com/72x72/1f60b.png"},{name:"1f60c",title:"微笑",src:"https://emoji.raingad.com/72x72/1f60c.png"},{name:"1f60d",title:"微笑",src:"https://emoji.raingad.com/72x72/1f60d.png"},{name:"1f970",title:"微笑",src:"https://emoji.raingad.com/72x72/1f970.png"},{name:"1f618",title:"微笑",src:"https://emoji.raingad.com/72x72/1f618.png"},{name:"1f617",title:"微笑",src:"https://emoji.raingad.com/72x72/1f617.png"},{name:"1f619",title:"微笑",src:"https://emoji.raingad.com/72x72/1f619.png"},{name:"1f61a",title:"微笑",src:"https://emoji.raingad.com/72x72/1f61a.png"},{name:"1f61c",title:"微笑",src:"https://emoji.raingad.com/72x72/1f61c.png"},{name:"1f92a",title:"微笑",src:"https://emoji.raingad.com/72x72/1f92a.png"},{name:"1f928",title:"微笑",src:"https://emoji.raingad.com/72x72/1f928.png"},{name:"1f9d0",title:"微笑",src:"https://emoji.raingad.com/72x72/1f9d0.png"},{name:"1f61d",title:"微笑",src:"https://emoji.raingad.com/72x72/1f61d.png"},{name:"1f61b",title:"微笑",src:"https://emoji.raingad.com/72x72/1f61b.png"},{name:"1f911",title:"微笑",src:"https://emoji.raingad.com/72x72/1f911.png"},{name:"1f913",title:"微笑",src:"https://emoji.raingad.com/72x72/1f913.png"},{name:"1f60e",title:"微笑",src:"https://emoji.raingad.com/72x72/1f60e.png"},{name:"1f929",title:"微笑",src:"https://emoji.raingad.com/72x72/1f929.png"},{name:"1f921",title:"微笑",src:"https://emoji.raingad.com/72x72/1f921.png"},{name:"1f920",title:"微笑",src:"https://emoji.raingad.com/72x72/1f920.png"},{name:"1f917",title:"微笑",src:"https://emoji.raingad.com/72x72/1f917.png"},{name:"1f60f",title:"微笑",src:"https://emoji.raingad.com/72x72/1f60f.png"},{name:"1f636",title:"微笑",src:"https://emoji.raingad.com/72x72/1f636.png"},{name:"1f610",title:"微笑",src:"https://emoji.raingad.com/72x72/1f610.png"},{name:"1f611",title:"微笑",src:"https://emoji.raingad.com/72x72/1f611.png"},{name:"1f612",title:"微笑",src:"https://emoji.raingad.com/72x72/1f612.png"},{name:"1f644",title:"微笑",src:"https://emoji.raingad.com/72x72/1f644.png"},{name:"1f914",title:"微笑",src:"https://emoji.raingad.com/72x72/1f914.png"},{name:"1f925",title:"微笑",src:"https://emoji.raingad.com/72x72/1f925.png"},{name:"1f92d",title:"微笑",src:"https://emoji.raingad.com/72x72/1f92d.png"},{name:"1f92b",title:"微笑",src:"https://emoji.raingad.com/72x72/1f92b.png"},{name:"1f92c",title:"微笑",src:"https://emoji.raingad.com/72x72/1f92c.png"},{name:"1f92f",title:"微笑",src:"https://emoji.raingad.com/72x72/1f92f.png"},{name:"1f633",title:"微笑",src:"https://emoji.raingad.com/72x72/1f633.png"},{name:"1f61e",title:"微笑",src:"https://emoji.raingad.com/72x72/1f61e.png"},{name:"1f61f",title:"微笑",src:"https://emoji.raingad.com/72x72/1f61f.png"},{name:"1f620",title:"微笑",src:"https://emoji.raingad.com/72x72/1f620.png"},{name:"1f621",title:"微笑",src:"https://emoji.raingad.com/72x72/1f621.png"}]},{label:"收藏",icon:"cuIcon-favor",children:[{name:"1f62c",title:"微笑",src:"https://emoji.raingad.com/72x72/1f62c.png"},{name:"1f621",title:"微笑",src:"https://emoji.raingad.com/72x72/1f621.png"}]}];const k=o({props:{type:{type:String,default:"primary"},pulse:{type:[Boolean,Number],default:!0}}},[["render",function(t,i,o,n,s,a){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["sc-state",[{"sc-status-processing":o.pulse},"sc-state-bg--"+o.type]])},null,2)}],["__scopeId","data-v-ebb30904"]]);
/*!
    * pinia v2.0.33
    * (c) 2023 Eduardo San Martin Morote
    * @license MIT
    */
let x;const b=e=>x=e,C=Symbol();function B(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var N,S;(S=N||(N={})).direct="direct",S.patchObject="patch object",S.patchFunction="patch function";const E=()=>{};function V(t,i,o,n=E){t.push(i);const s=()=>{const e=t.indexOf(i);e>-1&&(t.splice(e,1),n())};return!o&&e.getCurrentScope()&&e.onScopeDispose(s),s}function T(e,...t){e.slice().forEach((e=>{e(...t)}))}function I(t,i){t instanceof Map&&i instanceof Map&&i.forEach(((e,i)=>t.set(i,e))),t instanceof Set&&i instanceof Set&&i.forEach(t.add,t);for(const o in i){if(!i.hasOwnProperty(o))continue;const n=i[o],s=t[o];B(s)&&B(n)&&t.hasOwnProperty(o)&&!e.isRef(n)&&!e.isReactive(n)?t[o]=I(s,n):t[o]=n}return t}const P=Symbol();const{assign:D}=Object;function A(t,i,o={},n,s,a){let r;const l=D({actions:{}},o),c={deep:!0};let d,u,m,h=e.markRaw([]),p=e.markRaw([]);const g=n.state.value[t];let f;function v(i){let o;d=u=!1,"function"==typeof i?(i(n.state.value[t]),o={type:N.patchFunction,storeId:t,events:m}):(I(n.state.value[t],i),o={type:N.patchObject,payload:i,storeId:t,events:m});const s=f=Symbol();e.nextTick().then((()=>{f===s&&(d=!0)})),u=!0,T(h,o,n.state.value[t])}a||g||(n.state.value[t]={}),e.ref({});const _=a?function(){const{state:e}=o,t=e?e():{};this.$patch((e=>{D(e,t)}))}:E;function y(e,i){return function(){b(n);const o=Array.from(arguments),s=[],a=[];function r(e){s.push(e)}function l(e){a.push(e)}let c;T(p,{args:o,name:e,store:k,after:r,onError:l});try{c=i.apply(this&&this.$id===t?this:k,o)}catch(d){throw T(a,d),d}return c instanceof Promise?c.then((e=>(T(s,e),e))).catch((e=>(T(a,e),Promise.reject(e)))):(T(s,c),c)}}const w={_p:n,$id:t,$onAction:V.bind(null,p),$patch:v,$reset:_,$subscribe(i,o={}){const s=V(h,i,o.detached,(()=>a())),a=r.run((()=>e.watch((()=>n.state.value[t]),(e=>{("sync"===o.flush?u:d)&&i({storeId:t,type:N.direct,events:m},e)}),D({},c,o))));return s},$dispose:function(){r.stop(),h=[],p=[],n._s.delete(t)}},k=e.reactive(w);n._s.set(t,k);const x=n._e.run((()=>(r=e.effectScope(),r.run((()=>i())))));for(const b in x){const i=x[b];if(e.isRef(i)&&(S=i,!e.isRef(S)||!S.effect)||e.isReactive(i))a||(!g||B(C=i)&&C.hasOwnProperty(P)||(e.isRef(i)?i.value=g[b]:I(i,g[b])),n.state.value[t][b]=i);else if("function"==typeof i){const e=y(b,i);x[b]=e,l.actions[b]=i}}var C,S;return D(k,x),D(e.toRaw(k),x),Object.defineProperty(k,"$state",{get:()=>n.state.value[t],set:e=>{v((t=>{D(t,e)}))}}),n._p.forEach((e=>{D(k,r.run((()=>e({store:k,app:n._a,pinia:n,options:l}))))})),g&&a&&o.hydrate&&o.hydrate(k.$state,g),d=!0,u=!0,k}function $(t,i,o){let n,s;const a="function"==typeof i;function r(t,o){const r=e.getCurrentInstance();(t=t||r&&e.inject(C,null))&&b(t),(t=x)._s.has(n)||(a?A(n,i,s,t):function(t,i,o,n){const{state:s,actions:a,getters:r}=i,l=o.state.value[t];let c;c=A(t,(function(){l||(o.state.value[t]=s?s():{});const i=e.toRefs(o.state.value[t]);return D(i,a,Object.keys(r||{}).reduce(((i,n)=>(i[n]=e.markRaw(e.computed((()=>{b(o);const e=o._s.get(t);return r[n].call(e,e)}))),i)),{}))}),i,o,0,!0)}(n,s,t));return t._s.get(n)}return"string"==typeof t?(n=t,s=a?o:i):(s=t,n=t.id),r.$id=n,r}function L(t){{t=e.toRaw(t);const i={};for(const o in t){const n=t[o];(e.isRef(n)||e.isReactive(n))&&(i[o]=e.toRef(t,o))}return i}}class M{constructor(){this.handlers=[],this.forEach={asc:e=>{for(let t=0,i=this.handlers.length;t<i;t++)null!==this.handlers[t]&&e(this.handlers[t])},desc:e=>{for(let t=this.handlers.length-1;t>=0;t--)null!==this.handlers[t]&&e(this.handlers[t])}}}use(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}}const O=Object.prototype.toString;function F(e){return"[object Array]"===O.call(e)}function U(e){return"[object Object]"===O.call(e)}function R(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),F(e))for(let i=0,o=e.length;i<o;i++)t.call(null,e[i],i,e);else for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function z(...e){const t={};for(let i=0,o=e.length;i<o;i++)U(e[i])&&R(e[i],((e,i)=>{t[i]=j(t[i],e)}));return t}function j(e,t){return U(e)&&U(t)?z(e,t):U(t)?z({},t):F(t)?t.slice():t}function H(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function W(e,t){let i;const o=[];if(R(t,((e,t)=>{null!=e&&(F(e)?t+="[]":e=[e],R(e,(e=>{null!==e&&"object"==typeof e&&(e=JSON.stringify(e)),o.push(H(t)+"="+H(e))})))})),i=o.join("&"),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}function q({baseURL:e,url:t,params:i,query:o}={}){let n=function(e="",t=""){return/^https?:\/\//.test(t)?t:t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t);return i||o?(i&&(/\/:/.test(n)?R(i,((e,t)=>{n=n.replace(`/:${t}`,`/${H(String(e))}`)})):o||(n=W(n,i))),o&&(n=W(n,o)),n):n}function J(e){return["success","fail","complete"].includes(e)}function G(e,t,i){let o=null;const n={},s="object"==typeof e;return R(s?e:{...i,url:e,data:t},((e,t)=>{var i;s&&J(t)?(o||(o={}))[t]=(i=e,function(...e){try{return i.apply(i,e)}catch(t){_("error","at uni_modules/u-ajax/js_sdk/lib/utils.js:89",t)}}):n[t]=e})),{callback:o,config:n}}function Y(e={},t={}){const i={};return R(Object.keys({...e,...t}),(o=>{void 0!==t[o]?i[o]=j(e[o],t[o]):void 0!==e[o]&&(i[o]=j(void 0,e[o]))})),i}async function X(...e){let t={};for(let i=0,o=e.length;i<o;i++){t=Y(t,"function"==typeof e[i]?await e[i]():e[i])}return t.method=t.method.toUpperCase(),t}const K=["get","post","put","delete","connect","head","options","trace"],Q=["common",...K],Z={adapter:function(e,t){return new Promise(((i,o)=>{var n;if(t.aborted)return o({config:e,errMsg:"request:fail abort"});t.task=uni.request({...e,complete:t=>{const n={config:e,...t};!e.validateStatus||e.validateStatus(t.statusCode)?i(n):o(n)}}),t.onHeadersReceived(),t.offHeadersReceived(),null==(n=e.xhr)||n.call(e,t.task,e)}))},header:{},method:"GET",validateStatus:e=>e>=200&&e<300};function ee(e){return t=>(t.url=q(t),t.method=(t.method||"get").toUpperCase(),t.header=z(t.header.common,t.header[t.method.toLowerCase()],t.header),R(Q,(e=>U(t.header[e])&&delete t.header[e])),R(t,((e,i)=>J(i)&&delete t[i])),t.adapter(t,e))}R(Q,(e=>Z.header[e]={}));const te=Symbol("$$cancel");function ie(e){return null!=e&&Object.prototype.hasOwnProperty.call(e,te)}function oe(e){return Promise.reject({[te]:e})}function ne(e){return Promise.reject(ie(e)?e[te]:e)}function se(e){const t="object"==typeof e?z(e):e;function i(...t){const{callback:o,config:n}=G(...t),s=function(){const e=function e(t){return Reflect.construct(Promise,[t],e)};return Object.setPrototypeOf(e,Promise),(e.prototype=Object.create(Promise.prototype)).constructor=e,e.task=null,e.aborted=!1,e.onHeadersReceivedCallback=null,e.offHeadersReceivedCallback=null,e.onHeadersReceived=function(t){var i,o;"function"==typeof t&&(e.onHeadersReceivedCallback=t),e.onHeadersReceivedCallback&&e.task&&(null==(o=(i=e.task).onHeadersReceived)||o.call(i,e.onHeadersReceivedCallback))},e.offHeadersReceived=function(t){var i,o;"function"==typeof t&&(e.offHeadersReceivedCallback=t),e.offHeadersReceivedCallback&&e.task&&(null==(o=(i=e.task).offHeadersReceived)||o.call(i,e.offHeadersReceivedCallback))},e.prototype.abort=function(){var t;return e.aborted=!0,null==(t=e.task)||t.abort(),this},e.prototype.onHeadersReceived=function(t){return e.onHeadersReceived(t),this},e.prototype.offHeadersReceived=function(t){return e.offHeadersReceived(t),this},e}(),a=[ee(s),oe];i.interceptors.request.forEach.desc((({fulfilled:e,rejected:t})=>a.unshift(e,t))),i.interceptors.response.forEach.asc((({fulfilled:e,rejected:t})=>a.push(e,function(e){return e&&(t=>ie(t)?Promise.reject(t):e(t))}(t)))),a.unshift((t=>X(Z,e,t)),void 0),a.push(void 0,ne),a.push((e=>{var t,i;if(!o)return e;null==(t=o.success)||t.call(o,e),null==(i=o.complete)||i.call(o,e)}),(e=>{var t,i;if(!o)return Promise.reject(e);null==(t=o.fail)||t.call(o,e),null==(i=o.complete)||i.call(o,e)}));let r=s.resolve(n);for(;a.length;)r=r.then(a.shift(),a.shift());return r}return i.config=Object.freeze(t),i.defaults=Z,i.interceptors={request:new M,response:new M},i.getURL=async function(t){return q(await X(Z,e,t)).replace(/^\?/,"")},R(K,(e=>{i[e]=function(t,o,n){return"string"==typeof t?i(t,o,{...n,method:e}):i({...t,method:e})}})),i}const ae=se();ae.create=function(e){return se(e)};const re={apiUrl:"https://imweb.baobaoi.vip",wssUrl:"wss://imweb.baobaoi.vip/wss",now:Date.now||function(){return(new Date).getTime()},isArray:Array.isArray||function(e){return e instanceof Array}},le=ae.create({baseURL:re.apiUrl,timeout:1e4});le.interceptors.request.use((e=>e),(e=>(uni.showToast({title:"网络超时！",icon:"none"}),e))),le.interceptors.response.use((e=>{const t=e.data;let i=t.msg;if(i)if([400,401,402,403,404,405,502,500].includes(t.code))uni.showToast({title:i,icon:"none",duration:2500});else if(0==t.code){"en"==localStorage.getItem("language")?"登录成功！"==i?uni.showToast({title:"Login succeeded",icon:"none",duration:2500}):"退出成功！"==i?uni.showToast({title:"Exit successful",icon:"none",duration:2500}):"注册成功"==i?uni.showToast({title:"Register successful",icon:"none",duration:2500}):uni.showToast({title:i,icon:"none",duration:2500}):uni.showToast({title:i,icon:"none",duration:2500})}else-1==t.code&&uni.showToast({title:i,icon:"none",duration:2500,success(){setTimeout((()=>{uni.reLaunch({url:"/pages/login/index"})}),1e3)}});return t}),(e=>{switch(e.statusCode){case 401:uni.showModal({title:"提示",content:"授权信息已经失效,请重新登录！",success:e=>{e.confirm&&uni.reLaunch({url:"/pages/login/index"})},fail:e=>{_("log","at utils/request.js:108","fail")}});break;case 500:uni.showToast({title:"服务器返回错误，请检查！",icon:"none",duration:2500});break;default:uni.showToast({title:e.errMsg,icon:"none",duration:2500})}return e}));const ce=re.apiUrl,de=(e,t)=>le({method:"post",url:`${e}`,data:t,header:{"Content-Type":"application/json",Authorization:uni.getStorageSync("authToken"),clientId:uni.getStorageSync("client_id"),cid:uni.getStorageSync("cid")}});let ue={login:e=>de("/common/Pub/login",e),logout:e=>de("/common/Pub/logout",e),register:e=>de("/common/pub/register",e),bindUid:e=>de("/common/Pub/bindUid",e),bindGroup:e=>de("common/pub/bindGroup",e),getSystemInfo:e=>de("/common/pub/getSystemInfo",e),sendCode:e=>de("/common/pub/sendCode",e)};const me=$({id:"login",state:()=>({userInfo:uni.getStorageSync("userInfo")?uni.getStorageSync("userInfo"):{},globalConfig:uni.getStorageSync("globalConfig")?uni.getStorageSync("globalConfig"):[],appSetting:uni.getStorageSync("appSetting")?uni.getStorageSync("appSetting"):[],multiport:!1,language:uni.getStorageSync("language")?uni.getStorageSync("language"):"zhCN"}),actions:{login(e){uni.setStorageSync("userInfo",e),this.userInfo=e},set_language(e){this.language=e,uni.setStorageSync("language",e)},logout(){uni.removeStorageSync("userInfo"),uni.removeStorageSync("authToken"),this.userInfo={},uni.reLaunch({url:"/pages/login/index"})},getGlobalConfig(){ue.getSystemInfo().then((e=>{this.globalConfig=e.data,uni.setStorageSync("globalConfig",e.data)}))},setAppSetting(e){uni.setStorageSync("appSetting",e),this.appSetting=e}}}),he=function(){const t=e.effectScope(!0),i=t.run((()=>e.ref({})));let o=[],n=[];const s=e.markRaw({install(e){b(s),s._a=e,e.provide(C,s),e.config.globalProperties.$pinia=s,n.forEach((e=>o.push(e))),n=[]},use(e){return this._a?o.push(e):n.push(e),this},_p:o,_a:null,_e:t,_s:new Map,state:i});return s}(),pe=me(he),ge={name:"message-list",props:{msgs:{type:Array,default:function(){return[]}},btnWidth:{type:Number,default:320}},components:{statusPoint:k},data:()=>({msgsIn:[],damping:.29,moveIndex:-1,x:0,oX:0,scY:!0,btnWidthpx:160,touchStart:!1,modalName:null,listTouchStart:0,listTouchDirection:null,emojiMap:[],chatStatus:!0,paddingB:0,appSetting:pe.appSetting,globalConfig:pe.globalConfig}),created:function(){this.init(this.msgs),this.btnWidthpx=-1*uni.upx2px(this.btnWidth)+2;let e=[];w.forEach((function(t){let i=t.children;i.length>0&&i.forEach((function(t){let i=t.name,o=t.src;e[i]=o}))})),this.emojiMap=e,this.paddingB=this.navBarHeight+this.inlineTools},watch:{msgs:function(e){this.init(e)}},methods:{init:function(e){this.moveIndex=-1,this.msgsIn=e.filter((e=>e.lastContent))},scrolltolower:function(){},emojiToHtml(e){if(!e)return;let t=this.emojiMap;return e.replace(/\[!(\w+)\]/gi,(function(e,i){var o=i;return t[o]?'<img class=\'mr-5\' style="width:18px;height:18px" emoji-name="'.concat(i,'" src="').concat(t[o],'" />'):"[!".concat(i,"]")}))},ListTouchStart(e){this.listTouchStart=e.touches[0].pageX},ListTouchMove(e){let t=e.touches[0].pageX-this.listTouchStart;Math.abs(t)>100&&t<0?this.listTouchDirection="left":this.listTouchDirection="right"},ListTouchEnd(e){"left"==this.listTouchDirection?(this.modalName=e.currentTarget.dataset.target,this.chatStatus=!1):this.modalName=null,this.listTouchDirection=null},openChat(e,t){this.chatStatus?this.$emit("itemTap",e,t):this.chatStatus=!0},from_time(e){return this.$util.timeFormat(e)},btnTap(e,t){this.$emit("btnTap",e,t)}}};const fe=o(ge,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("Tags"),l=e.resolveComponent("statusPoint"),c=y(e.resolveDynamicComponent("mp-html"),v),d=e.resolveComponent("Empty");return e.openBlock(),e.createElementBlock("view",{class:"im-message-list"},[s.msgsIn.length>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cu-list menu-avatar",style:e.normalizeStyle({paddingBottom:s.paddingB+"px"})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.msgsIn,((o,n)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["cu-item",[s.modalName=="move-box-"+n?"move-cur":"",1==o.is_top?"top-contacts":"",0==o.is_group?"third":"second"]]),key:n,onTouchstart:i[0]||(i[0]=(...e)=>a.ListTouchStart&&a.ListTouchStart(...e)),onTouchmove:i[1]||(i[1]=(...e)=>a.ListTouchMove&&a.ListTouchMove(...e)),onTouchend:i[2]||(i[2]=(...e)=>a.ListTouchEnd&&a.ListTouchEnd(...e)),onClick:e=>a.openChat(n,o),"data-target":"move-box-"+n},[e.createElementVNode("view",{class:e.normalizeClass(["cu-avatar lg",s.appSetting.circleAvatar?"round":"radius"]),style:e.normalizeStyle([{backgroundImage:"url("+o.avatar+")"}])},null,6),e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"c-333"},[1==o.is_group?(e.openBlock(),e.createBlock(r,{key:0,text:t.$t("message.group_title"),size:"mini"},null,8,["text"])):e.createCommentVNode("",!0),o.is_online&&0==o.is_group&&1==s.globalConfig.chatInfo.online?(e.openBlock(),e.createBlock(l,{key:1,type:"success"})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"text-overflow f-16",style:{width:"80%"}},e.toDisplayString(o.displayName),1)]),e.createElementVNode("view",{class:"im-flex im-justify-content-start im-align-items-start pt-5",style:{height:"50rpx",overflow:"hidden"}},[e.createElementVNode("view",{class:"text-gray text-sm"},[o.unread>0&&0==o.is_notice?(e.openBlock(),e.createElementBlock("text",{key:0},"["+e.toDisplayString(o.unread)+e.toDisplayString(t.$t("message.no_read"))+"] ",1)):e.createCommentVNode("",!0)]),e.createVNode(c,{content:a.emojiToHtml(o.lastContent),class:"im-flex text-gray text-sm text-overflow no-click"},null,8,["content"])])]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("view",{class:"text-grey text-xs"},e.toDisplayString(a.from_time(o.lastSendTime)),1),o.unread>0&&o.is_notice?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cu-tag round bg-red sm"},e.toDisplayString(o.unread),1)):e.createCommentVNode("",!0),0==o.is_notice?(e.openBlock(),e.createElementBlock("view",{key:1,class:"c-999"},[e.createElementVNode("text",{class:"cuIcon-musicforbidfill"})])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:e.normalizeClass(["move",0==o.is_group?"third":"second"])},[1==o.is_top?(e.openBlock(),e.createElementBlock("view",{key:0,class:"bg-grey",onClick:e=>a.btnTap(0,o)},e.toDisplayString(t.$t("message.cancle_top")),9,["onClick"])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"bg-blue",onClick:e=>a.btnTap(0,o)},e.toDisplayString(t.$t("message.set_top")),9,["onClick"])),1==o.is_notice?(e.openBlock(),e.createElementBlock("view",{key:2,class:"bg-orange",onClick:e=>a.btnTap(2,o)},e.toDisplayString(t.$t("message.set_notice")),9,["onClick"])):(e.openBlock(),e.createElementBlock("view",{key:3,class:"bg-orange",onClick:e=>a.btnTap(2,o)},e.toDisplayString(t.$t("message.cancle_notice")),9,["onClick"])),0==o.is_group?(e.openBlock(),e.createElementBlock("view",{key:4,class:"bg-red",onClick:e=>a.btnTap(1,o)},e.toDisplayString(t.$t("message.del_talk")),9,["onClick"])):e.createCommentVNode("",!0)],2)],42,["onClick","data-target"])))),128))],4)):(e.openBlock(),e.createBlock(d,{key:1,noDatatext:t.$t("message.no_data"),textcolor:"#999"},null,8,["noDatatext"]))])}],["__scopeId","data-v-19f4cb55"]]),ve=e=>{var t,i,o=new Array("零","壹","贰","叁","肆","伍","陆","柒","捌","玖"),n=new Array("","拾","佰","仟"),s=new Array("","万","亿","兆"),a=new Array("角","分","毫","厘"),r="";if(!e)return"";if((e=parseFloat(e))>=1e15)return"超出最大处理数字";if(0==e)return r=o[0]+"元整";if(t=(e=Math.round(100*e).toString()).substr(0,e.length-2),i=e.substr(e.length-2),parseInt(t,10)>0){for(var l=0,c=t.length,d=0;d<c;d++){var u=c-d-1,m=u/4,h=u%4;"0"==(g=t.substr(d,1))?l++:(l>0&&(r+=o[0]),l=0,r+=o[parseInt(g)]+n[h]),0==h&&l<4&&(r+=s[m])}r+="元"}if(""!=i){var p=i.length;for(d=0;d<p;d++){var g;"0"!=(g=i.substr(d,1))&&(r+=o[Number(g)]+a[d])}}return""==r?r+=o[0]+"元整":(""==i||/^0*$/.test(i))&&(r+="整"),r},_e=(e,t)=>{t<9e10&&(t*=1e3);var i=t?new Date(t):new Date,o=function(e,t){return(e+="").length<t?new Array(++t-e.length).join("0")+e:e},n=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],s={1:"st",2:"nd",3:"rd",21:"st",22:"nd",23:"rd",31:"st"},a=["","January","February","March","April","May","June","July","August","September","October","November","December"],r={d:function(){return o(r.j(),2)},D:function(){return r.l().substr(0,3)},j:function(){return i.getDate()},l:function(){return n[r.w()]},N:function(){return r.w()+1},S:function(){return s[r.j()]?s[r.j()]:"th"},w:function(){return i.getDay()},z:function(){return(i-new Date(i.getFullYear()+"/1/1"))/864e5>>0},W:function(){var e,t=r.z(),o=364+r.L()-t,n=(new Date(i.getFullYear()+"/1/1").getDay()||7)-1;return o<=2&&(i.getDay()||7)-1<=2-o?1:t<=2&&n>=4&&t>=6-n?(e=new Date(i.getFullYear()-1+"/12/31"),_e("W",Math.round(e.getTime()/1e3))):1+(n<=3?(t+n)/7:(t-(7-n))/7)>>0},F:function(){return a[r.n()]},m:function(){return o(r.n(),2)},M:function(){return r.F().substr(0,3)},n:function(){return i.getMonth()+1},t:function(){var e;return 2===(e=i.getMonth()+1)?28+r.L():1&e&&e<8||!(1&e)&&e>7?31:30},L:function(){var e=r.Y();return 3&e||!(e%100)&&e%400?0:1},Y:function(){return i.getFullYear()},y:function(){return(i.getFullYear()+"").slice(2)},a:function(){return i.getHours()>11?"pm":"am"},A:function(){return r.a().toUpperCase()},B:function(){var e=60*(i.getTimezoneOffset()+60),t=3600*i.getHours()+60*i.getMinutes()+i.getSeconds()+e,o=Math.floor(t/86.4);return o>1e3&&(o-=1e3),o<0&&(o+=1e3),1===String(o).length&&(o="00"+o),2===String(o).length&&(o="0"+o),o},g:function(){return i.getHours()%12||12},G:function(){return i.getHours()},h:function(){return o(r.g(),2)},H:function(){return o(i.getHours(),2)},i:function(){return o(i.getMinutes(),2)},s:function(){return o(i.getSeconds(),2)},O:function(){var e=o(Math.abs(i.getTimezoneOffset()/60*100),4);return e=i.getTimezoneOffset()>0?"-"+e:"+"+e},P:function(){var e=r.O();return e.substr(0,3)+":"+e.substr(3,2)},c:function(){return r.Y()+"-"+r.m()+"-"+r.d()+"T"+r.h()+":"+r.i()+":"+r.s()+r.P()},U:function(){return Math.round(i.getTime()/1e3)}};let l="";return e.replace(/[\\]?([a-zA-Z])/g,(function(e,t){return l=e!==t?t:r[t]?r[t]():t,l}))},ye={bgAvatar:e=>1!==e&&e?2===e?"bg-orange":3===e?"bg-red":4===e?"bg-green":5===e?"bg-grey":void 0:"bg-blue",fromTime:e=>{e>9e10&&(e/=1e3);let t=new Date;t.getDate();let i=60*t.getHours()*60+60*t.getMinutes()+t.getSeconds();_e("H",e),_e("i",e);let o=(new Date).getTime(),n=parseInt(o/1e3-e);return n<60?"刚刚":n>=60&&n<3600?Math.floor(n/60)+"分钟前":n>=3600&&n<=i?Math.floor(n/3600)+"小时前":n>i&&n<i+86400?"昨天":n>=86400&&n<2592e3?parseInt(n/86400)+"天前":_e("Y/m/d",e)},overTime:e=>{for(var t=(e+"").split(""),i=0;i<13;i++)t[i]||(t[i]="0");e=1*t.join("");var o=36e5,n=24*o,s=(new Date).getTime()-e;if(s<0)return"不久前";var a,r=s/2592e6,l=s/(7*n),c=s/n,d=s/o,u=s/6e4,m=function(e){return e<10?"0"+e:e};if(r>12)return(a=new Date(e)).getFullYear()+"年"+m(a.getMonth()+1)+"月"+m(a.getDate())+"日";if(r>=1)return"已过期"+parseInt(r)+"月";if(l>=1)return"已过期"+parseInt(l)+"周";if(c>=1)return"已过期"+parseInt(c)+"天";if(d>=1)return"已过期"+parseInt(d)+"小时";if(u>=1)return"已过期";if(u<1)return parseInt(u)+"分钟后过期";if(d<1)return parseInt(d)+"小时后过期";if(c<1)return parseInt(c)+"天后过期";if(l<1){var h=new Date(e);return h.getFullYear()+"年"+m(h.getMonth()+1)+"月"+m(h.getDate())+"日"}},setFrom:(e,t,i,o)=>(e.forEach((e=>{if(e.rules={errMess:`${e.name}不能为空`},e.relevant&&e.form_type==e.relevant&&(e.disabled=!0),"money"===e.form_type&&(e.default_value?e.capitalize=ve(e.default_value):e.capitalize=null),"tags"!==e.form_type&&"select"!==e.form_type&&"invoice_info"!==e.form_type&&"pm_type"!==e.form_type&&"finance_type"!==e.form_type&&"visit_user"!==e.form_type&&"area"!==e.form_type||(e.show=!1),e.setting)if(e.list=[],e.setting instanceof Array)e.setting.forEach(((t,i)=>{e.list.push({value:i,label:t})}));else for(let t in e.setting)e.list.push({value:t,label:e.setting[t]});if("select"===e.form_type&&e.default_value&&e.setting&&e.list.forEach((t=>{t.value==e.default_value&&(e.value=t.label)})),"business"==e.form_type&&"add"==i&&(e.default_value=t.leads_id,e.value=t.name,e.disabled=!0),"customer"==e.form_type&&t&&"add"==i?(e.default_value=t.name,e.value=t.leads_id,e.disabled=!0):("business"==e.form_type&&"edit"==i||"customer"==e.form_type&&t&&"add"==i||"customer"==e.form_type&&t&&"edit"==i)&&(e.default_value=e.value,e.value=e.default_value,e.disabled=!0),"company"==e.field&&"edit"==i&&(e.disabled=!0),"project"!=e.form_type||"add"!=i||t||(e.disabled=!0),"project"==e.form_type&&"add"==i&&o&&(_("log","at utils/utils.js:248",o),e.disabled=!0,e.default_value=o.project_id,e.value=o.title),"receivable"==e.form_type&&("add"!=i||o||(e.disabled=!0),""!=e.default_value)){let t=e.value.map((e=>e.receivables_id));uni.setStorageSync("relationReceivableId",t),e.default_value=t.join(""),e.value=e.value.map((e=>e.number))}"user_receivables"==e.form_type&&(e.value&&e.value.forEach(((t,i)=>{e.default_value[i].realname=e.value[i].user_id_info.realname})),e.value||(e.default_value=[],e.default_value.push({realname:"",user_id:"",proportion:""})))})),e),setPmType:e=>{let t=[];return e.forEach(((e,i)=>{t.push({label:e.name,value:e.type_id}),e.children&&(t[i].children=[],e.children.forEach(((o,n)=>{t[i].children.push({label:o.name,value:o.type_id}),e.children[n].children&&(t[i].children[n].children=[],e.children[n].children.forEach(((e,o)=>{t[i].children[n].children.push({label:e.name,value:e.type_id})})))})))})),t},judgeListComplete:e=>{let t="";return e.every((e=>{for(let i in e)t=""!=e[i]||""})),t},judgeobjduplicate:e=>{let t="",i=0;return e.forEach((e=>{i+=parseInt(e.proportion)})),t=!(i>=100),t},getUuid:()=>{var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var i=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"==t?i:3&i|8).toString(16)}))},findArray:(e,t)=>e.find((function(e){var i=e.id;return t==i})),sortContacts:e=>{const t=JSON.parse(JSON.stringify(e));return t.sort((function(e,t){return parseInt(t.lastSendTime)-parseInt(e.lastSendTime)})),t},menoyToUppercase:ve,filterValue:(e,t,i)=>{i=void 0!==i&&i;for(var o=[],n=0;n<e.length;n++)o.push(e[n][t]);return!0===i?o.join(","):o},date:_e,timeFormat:e=>{const t=new Date,i=new Date(e),o=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(o-864e5),s=new Date(o-24*(o.getDay()-1)*60*60*1e3),a=new Date(t.getFullYear(),0,1);if(i>=o)return _e("H:i",e/1e3);if(i>=n&&i<o)return"昨天";if(i>=s&&i<n){return["周日","周一","周二","周三","周四","周五","周六"][i.getDay()]}return _e(i>=a&&i<s?"m-d":"Y-m-d",e/1e3)},isToday:e=>(new Date).getTime()-e<864e5,getFileSize:e=>{let t=new Array(" B"," KB"," MB"," GB"," TB"),i=e+"B";for(let o=0;e>=1024&&o<4;o++)i=(e/=1024).toFixed(2)+t[o+1];return i},parseUrl:e=>{var t=e.substring(e.indexOf("?")+1).split("&"),i={};for(let o=0;o<t.length;o++)i[t[o].split("=")[0]]=decodeURI(t[o].split("=")[1]);return i},getDom:(e,t)=>{let i={};const o=uni.createSelectorQuery().in(e);return setTimeout((()=>{o.select(t).boundingClientRect(),o.exec((e=>{i=e[0]}))}),10),i},findObjectByField:(e,t,i,o)=>{const n=e.find((e=>e.field==i));return n?o?n[o]:n:null},searchObject:(e,t,i)=>{if("object"!=typeof e)return!1;for(var o=[],n=0;e.length>n;n++){if("object"==typeof t)for(var s=0;t.length>s;s++){var a=t[s];if(-1!=e[n][a].indexOf(i)){o.push(e[n]);break}}else-1!=e[n][t].indexOf(i)&&o.push(e[n])}return o},mergeArrays:(e,t)=>{const i=e.concat(t),o=new Set(i.map(JSON.stringify));return Array.from(o).map(JSON.parse)},intersection:(e,t)=>{const i=new Set(e.map(JSON.stringify));return t.filter((e=>i.has(JSON.stringify(e))))},difference:(e,t)=>{const i=new Set(t.map(JSON.stringify));return e.filter((e=>!i.has(JSON.stringify(e))))}},we=$({id:"message",state:()=>({pushSocket:"",chatSocket:"",instantSocket:"",webrtc:"",topContacts:[],contacts:[],wsSendData:"",unread:0,sysUnread:0,newMessage:{},msgList:[],webrtcLock:!1}),actions:{catchSocketAction(e){this.chatSocket=e,2==e.is_group&&(this.unread+=1)},updateUnread(e){this.unread=parseInt(e)},setLastContent(e){switch(e.type){case"image":e.lastContent="[图片]";break;case"video":e.lastContent="[视频]";break;case"file":e.lastContent="[文件]";break;case"voice":e.lastContent="[语音]";break;case"webrtc":e.lastContent="[音视频通话]"}return e},initContacts(e){let t=ye.sortContacts(e),i=[],o=[],n=0;t.forEach(((e,t)=>{e.lastContent&&(n+=e.unread),"群聊"==(e=this.setLastContent(e)).index&&(e.index="#"),1==e.is_top?i.push(e):o.push(e)})),this.unread=n,this.contacts=i.concat(o),uni.setStorageSync("allContacts",this.contacts)},updateContacts(e){const t=this.contacts;t.forEach(((i,o)=>{let n=t[o];i.id==e.id&&(t[o]=Object.assign(n,e))})),this.initContacts(t)},appendContacts(e){const t=this.contacts;if(t.filter((t=>t.id==e.id)).length>0)return this.updateContacts(e);t.push(e),this.initContacts(t)},deleteContacts(e){const t=JSON.parse(JSON.stringify(this.contacts)).filter((t=>t.id!=e.id));this.contacts=t,uni.setStorageSync("allContacts",this.contacts)},initMsg(e){this.msgList=e},checkMsg(e){let t=this.msgList,i=!1;t.forEach(((t,o)=>{t.id==e.id&&(i=!0)})),i||this.msgList.push(e)},getContact:e=>uni.getStorageSync("allContacts").find((t=>t.id==e)),appendMsg(e){this.newMessage=e},wsSend(e){this.wsSendData=e}}}),ke=we(he),{contacts:xe}=L(ke),be=me(he),{multiport:Ce}=L(be),Be={components:{messageList:fe},data:()=>({navCurrent:0,msgs:xe,mainHeight:500,pageLoading:!0,multiport:Ce,socketStatus:!0}),mounted(){uni.$on("socketStatus",(e=>{e||(this.multiport=!1),this.socketStatus=e}))},methods:{btnTap:function(e,t){0==e?(t.is_top=0==t.is_top?1:0,this.$api.msgApi.setChatTopAPI({id:t.id,is_top:t.is_top,is_group:t.is_group}).then((e=>{0==e.code&&ke.updateContacts(t)}))):1==e?uni.showModal({title:this.$t("message.pop_no_t3"),success:e=>{e.confirm&&this.$api.msgApi.delChatAPI({id:t.id,is_group:t.is_group}).then((e=>{0==e.code&&ke.deleteContacts(t)}))}}):2==e&&(t.is_notice=0==t.is_notice?1:0,this.$api.msgApi.setIsNotice({id:t.id,is_notice:t.is_notice,is_group:t.is_group}).then((e=>{0==e.code&&ke.updateContacts(t)})))},itemTap:function(e,t){ke.unread-=t.unread;let i=this.msgs;i[e].unread=0,ke.initContacts(i),uni.navigateTo({url:"/pages/message/chat?id="+t.id})},reconnect(){uni.showLoading({title:"重连中..."}),this.socketIo.connectSocketInit({type:"ping"}),setTimeout((()=>{uni.hideLoading()}),1500)}}};const Ne=o(Be,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("messageList");return e.openBlock(),e.createElementBlock("view",null,[s.socketStatus?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"socket-status pd-10 im-flex justify-between im-align-items-center"},[e.createElementVNode("view",{class:"cuIcon-infofill text-red f-18"}),e.createElementVNode("view",{class:"c-666 f-12"}," WS通信已断开，检查网络设置是否正常"),e.createElementVNode("view",{onClick:i[0]||(i[0]=e=>a.reconnect())},"重连")])),s.multiport?(e.openBlock(),e.createElementBlock("view",{key:1,class:"border-b pd-10 text-gray im-flex im-justify-content-start"},[e.createElementVNode("view",{class:"iconfont icon-web f-18 ml-20"}),e.createElementVNode("view",{class:"f-12 ml-20"}," Web网页端已登录")])):e.createCommentVNode("",!0),e.createVNode(r,{msgs:s.msgs,onItemTap:a.itemTap,onBtnTap:a.btnTap},null,8,["msgs","onItemTap","onBtnTap"])])}],["__scopeId","data-v-60eb2c36"]]);const Se=o({name:"breadcrum",props:{tree:{type:Array,default:()=>({})},icon:{type:String,default:()=>"cuIcon-right"}},data:()=>({}),methods:{open(e){this.$emit("openBread",e)}}},[["render",function(t,i,o,n,s,a){return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("scroll-view",{class:"folder-wap","scroll-x":!0,"scroll-left":99999999},[e.createElementVNode("view",{class:"im-flex im-justify-content-start im-align-items-center"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.tree,((i,n)=>(e.openBlock(),e.createElementBlock("view",{class:"tab-item im-flex im-justify-content-start im-align-items-center",onClick:e=>a.open(i),key:n},[e.createElementVNode("view",{class:e.normalizeClass(["mar10 lz-tree-name font-color-999",{"font-color-333":n==o.tree.length-1}])},e.toDisplayString(i.name),3),e.renderSlot(t.$slots,"icon",{},(()=>[n<o.tree.length-1?(e.openBlock(),e.createElementBlock("text",{key:0,class:e.normalizeClass(["font-color-999",[o.icon?o.icon:"cuIcon-right"]])},null,2)):e.createCommentVNode("",!0)]),!0)],8,["onClick"])))),128))])])])}],["__scopeId","data-v-b66ec5ca"]]),Ee=we(he),Ve=me(he),{unread:Te,contacts:Ie,sysUnread:Pe}=L(Ee),De={components:{breadcurm:Se,statusPoint:k},name:"contacts",props:{},data:()=>({PageCur:"contacts",navList:[],TabCur:0,tabbarH:100,hidden:!0,listCurID:"",list:[],listCur:"",total:0,scrollLeft:0,msgs:Ie,unread:Pe,globalConfig:Ve.globalConfig,appSetting:Ve.appSetting,tree:[{id:1,name:"技术部"},{id:2,name:"产品部"},{id:3,name:"信息部"}],depList:[{id:1,name:"技术部"},{id:2,name:"财务部"}],userList:[{id:1,realname:"张三",avatar:"https://api.multiavatar.com/raingad1.png?apikey=zdvXV3W4MjwhP9"},{id:2,realname:"李四",avatar:"https://api.multiavatar.com/raingad2.png?apikey=zdvXV3W4MjwhP9"}],tabList:["普通通讯录","企业通讯录"],contacts:[],userinfo:{}}),watch:{msgs(e){this.initContacts(e)}},created(){this.listCur=this.contacts[0]},mounted(){this.initContacts(this.msgs),this.userinfo=uni.getStorageSync("userInfo")},onShow(){this.navList=[{name:"home",title:this.$t("nav.home"),notice:0},{name:"message",title:this.$t("nav.message"),notice:Te},{name:"serve",title:this.$t("nav.serve"),notice:0},{name:"contacts",title:this.$t("nav.contacts"),notice:Pe},{name:"mine",title:this.$t("nav.mine"),notice:0}]},methods:{NavChange:function(e){"mine"==e.name?uni.navigateTo({url:"/pages/mine/index"}):"message"==e.name?uni.navigateTo({url:"/pages/index/mv_index"}):"compass"==e.name?uni.navigateTo({url:"/pages/compass/index"}):"home"==e.name?uni.switchTab({url:"/pages/index/index"}):"serve"==e.name&&uni.navigateTo({url:"/pages/movie/kefu/kefu"})},initContacts(e){const t=JSON.parse(JSON.stringify(e)).filter((e=>0==e.is_group));this.total=t.length;const i=t.sort(((e,t)=>"#"===e.index?1:"#"===t.index?-1:e.index.localeCompare(t.index,"zh"))).reduce(((e,t)=>{const i=t.index,o=e.findIndex((e=>e.name===i));return-1===o?e.push({name:i,children:[t]}):e[o].children.push(t),e}),[]);this.contacts=i},openDep(e){},openDetails(e){uni.navigateTo({url:"/pages/contacts/detail?id="+e.id})},openGroup(){uni.navigateTo({url:"/pages/contacts/group"})},openFriend(){uni.navigateTo({url:"/pages/contacts/friend"})},tabSelect(e){this.TabCur=e.currentTarget.dataset.id,this.scrollLeft=60*(e.currentTarget.dataset.id-1)},getCur(e){this.hidden=!1,this.listCur=this.contacts[e.target.id].name},setCur(e){this.hidden=!0,this.listCur=this.listCur},tMove(e){let t=e.touches[0].clientY,i=this.boxTop,o=this;if(t>i){let e=parseInt((t-i)/20);this.listCur=o.contacts[e].name}},tStart(){this.hidden=!1},tEnd(){this.hidden=!0,this.listCurID=this.listCur},indexSelect(e){let t=this,i=this.barHeight,o=this.contacts,n=Math.ceil(o.length*e.detail.y/i);for(let s=0;s<o.length;s++)if(n<s+1)return t.listCur=o[s].name,t.movableY=20*s,!1}}};const Ae=o(De,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom"),l=e.resolveComponent("statusPoint"),c=e.resolveComponent("Empty"),d=e.resolveComponent("breadcurm");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!1},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("nav.contacts")),1)])),_:1}),0==s.TabCur?(e.openBlock(),e.createElementBlock("scroll-view",{key:0,"scroll-y":"",class:"indexes","scroll-into-view":"indexes-"+s.listCurID,style:e.normalizeStyle([{height:"calc(100vh - "+(t.CustomBar+t.inlineTools+t.StatusBar)+"px)"}]),"scroll-with-animation":!0,"enable-back-to-top":!0},[e.createElementVNode("view",{style:{"padding-bottom":"30rpx"}},[e.createElementVNode("view",{class:"cu-list menu"},[e.createElementVNode("view",{class:"cu-item arrow",onClick:i[0]||(i[0]=(...e)=>a.openFriend&&a.openFriend(...e))},[e.createElementVNode("view",{class:e.normalizeClass(["cu-avatar mr-15 invite-bg",s.appSetting.circleAvatar?"round":"radius"])},null,2),e.createElementVNode("view",{class:"content"},[e.createElementVNode("text",{class:"c-333"},e.toDisplayString(t.$t("contact.invite")),1)]),e.createElementVNode("view",{class:"action"},[s.unread>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cu-tag round bg-red sm"},e.toDisplayString(s.unread),1)):e.createCommentVNode("",!0)])]),e.createElementVNode("view",{class:"cu-item arrow",onClick:i[1]||(i[1]=(...e)=>a.openGroup&&a.openGroup(...e))},[e.createElementVNode("view",{class:e.normalizeClass(["cu-avatar mr-15 group-bg",s.appSetting.circleAvatar?"round":"radius"])},null,2),e.createElementVNode("view",{class:"content"},[e.createElementVNode("text",{class:"c-333"},e.toDisplayString(t.$t("contact.group_tit")),1)])])]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.contacts,((t,i)=>(e.openBlock(),e.createElementBlock("view",{key:i,class:e.normalizeClass("indexItem-"+t.name),id:"indexes-"+t.name,"data-index":t.name},[e.createElementVNode("view",{class:"padding"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"cu-list menu no-padding"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.children,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:"cu-item",key:i,onClick:e=>a.openDetails(t)},[e.createElementVNode("view",{class:e.normalizeClass(["cu-avatar mr-15",s.appSetting.circleAvatar?"round":"radius"]),style:e.normalizeStyle([{backgroundImage:"url("+t.avatar+")"}])},null,6),e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"c-333"},[t.is_online&&0==t.is_group&&1==s.globalConfig.chatInfo.online?(e.openBlock(),e.createBlock(l,{key:0,type:"success"})):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(t.displayName),1)])])],8,["onClick"])))),128))])],10,["id","data-index"])))),128)),e.createElementVNode("view",{class:"text-center m-20 text-grey"},e.toDisplayString(s.total)+" "+e.toDisplayString(t.$t("contact.total")),1),s.contacts.length?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(c,{key:0,noDatatext:t.$t("contact.no_user"),textcolor:"#999"},null,8,["noDatatext"]))])],12,["scroll-into-view"])):e.createCommentVNode("",!0),0==s.TabCur?(e.openBlock(),e.createElementBlock("view",{key:1,class:"indexBar",style:e.normalizeStyle([{height:"calc(100vh - "+t.CustomBar+"px - 50px)"}])},[e.createElementVNode("view",{class:"indexBar-box",onTouchstart:i[4]||(i[4]=(...e)=>a.tStart&&a.tStart(...e)),onTouchend:i[5]||(i[5]=(...e)=>a.tEnd&&a.tEnd(...e)),onTouchmove:i[6]||(i[6]=e.withModifiers(((...e)=>a.tMove&&a.tMove(...e)),["stop"]))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.contacts,((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:"indexBar-item",key:o,id:o,onTouchstart:i[2]||(i[2]=(...e)=>a.getCur&&a.getCur(...e)),onTouchend:i[3]||(i[3]=(...e)=>a.setCur&&a.setCur(...e))},e.toDisplayString(t.name),41,["id"])))),128))],32)],4)):e.createCommentVNode("",!0),1==s.TabCur?(e.openBlock(),e.createElementBlock("view",{key:2,class:"cu-bar bg-white search fixed",style:e.normalizeStyle([{top:t.CustomBar+"px"}])},[e.createElementVNode("view",{class:"search-form round"},[e.createElementVNode("text",{class:"cuIcon-search"}),e.withDirectives(e.createElementVNode("input",{type:"text","onUpdate:modelValue":i[7]||(i[7]=e=>t.keywords=e),placeholder:t.$t("contact.search_placeholder"),"confirm-type":"search"},null,8,["placeholder"]),[[e.vModelText,t.keywords]])])],4)):e.createCommentVNode("",!0),1==s.TabCur?(e.openBlock(),e.createElementBlock("scroll-view",{key:3,"scroll-y":"",class:"indexes",style:e.normalizeStyle([{top:"50px",height:"calc(100vh - "+(t.CustomBar+t.inlineTools+t.StatusBar)+"px)"}]),"scroll-with-animation":!0,"enable-back-to-top":!0},[e.createElementVNode("view",{class:""},[e.createVNode(d,{tree:s.tree,onOpenBread:a.openDep},null,8,["tree","onOpenBread"])]),e.createElementVNode("view",{class:"im-department-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.depList,((t,i)=>(e.openBlock(),e.createElementBlock("navigator",{class:"im-flex im-justify-content-start im-align-items-center mt-10",onClick:e=>a.openDep(t),key:i},[e.createElementVNode("view",{class:"im-folder-bar mr-10"},[e.createElementVNode("text",{class:"cuIcon-file color-blue"})]),e.createElementVNode("view",{class:"im-list-body im-border-b"},[e.createElementVNode("view",{class:"im-list-title word"},e.toDisplayString(t.name),1)])],8,["onClick"])))),128)),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.userList,((t,i)=>(e.openBlock(),e.createElementBlock("navigator",{class:"im-flex im-justify-content-start im-align-items-center mt-10",key:t.id,url:"/pages/contacts/detail?user_id="+t.id},[e.createElementVNode("view",{class:"im-folder-bar im-image mr-10"},[e.createElementVNode("image",{src:t.avatar,mode:"widthFix"},null,8,["src"])]),e.createElementVNode("view",{class:"im-list-body im-border-b"},[e.createElementVNode("view",{class:"im-list-title word"},e.toDisplayString(t.realname),1)])],8,["url"])))),128)),0==s.depList.length&&0==s.userList.length?(e.openBlock(),e.createBlock(c,{key:0})):e.createCommentVNode("",!0)])],4)):e.createCommentVNode("",!0),e.withDirectives(e.createElementVNode("view",{class:"indexToast"},e.toDisplayString(s.listCur),513),[[e.vShow,!s.hidden]]),e.createElementVNode("view",{class:"cu-bar tabbar bg-white shadow foot"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.navList,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:"action",onClick:e=>a.NavChange(t),key:i,"data-cur":"message"},[e.createElementVNode("view",{class:"cuIcon-cu-image"},[e.createElementVNode("image",{src:"/static/image/tabbar/"+[t.name]+[s.PageCur==t.name?"-active":""]+".svg"},null,8,["src"]),t.notice>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cu-tag badge"},e.toDisplayString(t.notice),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:e.normalizeClass(s.PageCur==t.name?"text-mauve":"text-black")},e.toDisplayString(t.title),3)],8,["onClick"])))),128))])])}],["__scopeId","data-v-930f4510"]]),$e=e=>{e.includes(ce)?(e=>{let t=e.replace(ce,""),i=t.split("/"),o=i[i.length-1];de(t,{realToken:o}).then((e=>{if(0==e.code)switch(e.data.action){case"groupInfo":uni.navigateTo({url:"/pages/message/group/info?group_id="+e.data.id});break;case"userInfo":uni.navigateTo({url:"/pages/contacts/detail?id="+e.data.id})}}))})(e):uni.showModal({title:"已识别内容",content:e,confirmText:"复制内容",success:function(t){t.confirm&&uni.setClipboardData({data:e,success:function(){uni.showToast({title:"复制成功",icon:"none"})}})}})},Le={scanQr:()=>{uni.scanCode({success:function(e){$e(e.result)}})},checkQr:$e},Me=me(),Oe=we(he);me(he);const{unread:Fe,sysUnread:Ue}=L(Oe),Re={data:()=>({isCard:!0,userInfo:Me.userInfo,paddingB:0,current:0,list:[],total:0,params:{page:1,limit:10,is_mine:0},PageCur:"compass",navList:[{name:"message",title:"消息",notice:Fe},{name:"contacts",title:"通讯录",notice:Ue},{name:"compass",title:"探索",notice:0},{name:"mine",title:"我的",notice:0}]}),created:function(){this.paddingB=this.navBarHeight+this.inlineTools,this.getList()},mounted(){var e=document.getElementsByClassName("uni-page-head-hd")[0];e&&(e.style.display="none"),uni.getStorageSync("allContacts").length||this.initContacts(),uni.$on("socketStatus",(e=>{e&&this.initContacts()}))},methods:{NavChange(e){_("log","at pages/compass/index.vue:145","fff",e),"message"==e.name?uni.switchTab({url:"/pages/index/index"}):"contacts"==e.name?uni.switchTab({url:"/pages/contacts/index"}):"compass"==e.name?uni.navigateTo({url:"/pages/compass/index"}):uni.navigateTo({url:"/pages/mine/index"})},initContacts(){this.modelName="",this.$api.msgApi.initContacts().then((e=>{Oe.sysUnread=e.count,Oe.initContacts(e.data)}))},IsCard(e){this.isCard=e.detail.value},getList(){this.$api.third_openApi.thirdList(this.params).then((e=>{0==e.code&&(this.list=e.data.data,this.total=e.count)}))},To_third(e,t){uni.getStorageSync("userInfo"),1==e?uni.navigateTo({url:"/pages/nearby/nearby"}):2==e?uni.navigateTo({url:"/pages/opengroup/opengroup"}):uni.navigateTo({url:"/pages/movie/index/index"})}}};const ze=o(Re,[["render",function(t,i,o,n,s,a){return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("view",{style:e.normalizeStyle({paddingBottom:s.paddingB+"px"})},[e.createElementVNode("view",{style:{"padding-bottom":"30rpx"}},[e.createElementVNode("view",{style:{padding:"5px 10px"},onClick:i[0]||(i[0]=e=>a.To_third(1,""))},[e.createElementVNode("image",{src:"/static/image/nearby_ico.jpg",mode:"widthFix",style:{width:"100%"}})]),e.createElementVNode("view",{class:"cu-list menu mt-10"},[e.createElementVNode("view",{class:"cu-item arrow",onClick:i[1]||(i[1]=e=>a.To_third(2,""))},[e.createElementVNode("view",{class:e.normalizeClass(["cu-avatar mr-15 group-bg","round"])}),e.createElementVNode("view",{class:"content"},[e.createElementVNode("text",{class:"c-333"},"公开的群")])]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.list,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:"cu-item arrow",key:i,onClick:e=>a.To_third(3,t)},[e.createElementVNode("view",{class:e.normalizeClass(["cu-avatar mr-15","round"])},[e.createElementVNode("image",{src:t.logo,mode:"widthFix",style:{width:"100%"}},null,8,["src"])]),e.createElementVNode("view",{class:"content"},[e.createElementVNode("text",{class:"c-333"},e.toDisplayString(t.name),1)])],8,["onClick"])))),128))])]),e.createElementVNode("view",{class:"cu-bar tabbar bg-white shadow foot"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.navList,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:"action",onClick:e=>a.NavChange(t),key:i,"data-cur":"message"},[e.createElementVNode("view",{class:"cuIcon-cu-image"},[e.createElementVNode("image",{src:"/static/image/tabbar/"+[t.name]+[s.PageCur==t.name?"-active":""]+".svg"},null,8,["src"]),t.notice>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cu-tag badge"},e.toDisplayString(t.notice),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:e.normalizeClass(s.PageCur==t.name?"text-green":"text-black")},e.toDisplayString(t.title),3)],8,["onClick"])))),128))])],4)])}]]),je={id:"2852637",name:"uniui图标库",font_family:"uniicons",css_prefix_text:"uniui-",description:"",glyphs:[{icon_id:"25027049",name:"yanse",font_class:"color",unicode:"e6cf",unicode_decimal:59087},{icon_id:"25027048",name:"wallet",font_class:"wallet",unicode:"e6b1",unicode_decimal:59057},{icon_id:"25015720",name:"settings-filled",font_class:"settings-filled",unicode:"e6ce",unicode_decimal:59086},{icon_id:"25015434",name:"shimingrenzheng-filled",font_class:"auth-filled",unicode:"e6cc",unicode_decimal:59084},{icon_id:"24934246",name:"shop-filled",font_class:"shop-filled",unicode:"e6cd",unicode_decimal:59085},{icon_id:"24934159",name:"staff-filled-01",font_class:"staff-filled",unicode:"e6cb",unicode_decimal:59083},{icon_id:"24932461",name:"VIP-filled",font_class:"vip-filled",unicode:"e6c6",unicode_decimal:59078},{icon_id:"24932462",name:"plus_circle_fill",font_class:"plus-filled",unicode:"e6c7",unicode_decimal:59079},{icon_id:"24932463",name:"folder_add-filled",font_class:"folder-add-filled",unicode:"e6c8",unicode_decimal:59080},{icon_id:"24932464",name:"yanse-filled",font_class:"color-filled",unicode:"e6c9",unicode_decimal:59081},{icon_id:"24932465",name:"tune-filled",font_class:"tune-filled",unicode:"e6ca",unicode_decimal:59082},{icon_id:"24932455",name:"a-rilidaka-filled",font_class:"calendar-filled",unicode:"e6c0",unicode_decimal:59072},{icon_id:"24932456",name:"notification-filled",font_class:"notification-filled",unicode:"e6c1",unicode_decimal:59073},{icon_id:"24932457",name:"wallet-filled",font_class:"wallet-filled",unicode:"e6c2",unicode_decimal:59074},{icon_id:"24932458",name:"paihangbang-filled",font_class:"medal-filled",unicode:"e6c3",unicode_decimal:59075},{icon_id:"24932459",name:"gift-filled",font_class:"gift-filled",unicode:"e6c4",unicode_decimal:59076},{icon_id:"24932460",name:"fire-filled",font_class:"fire-filled",unicode:"e6c5",unicode_decimal:59077},{icon_id:"24928001",name:"refreshempty",font_class:"refreshempty",unicode:"e6bf",unicode_decimal:59071},{icon_id:"24926853",name:"location-ellipse",font_class:"location-filled",unicode:"e6af",unicode_decimal:59055},{icon_id:"24926735",name:"person-filled",font_class:"person-filled",unicode:"e69d",unicode_decimal:59037},{icon_id:"24926703",name:"personadd-filled",font_class:"personadd-filled",unicode:"e698",unicode_decimal:59032},{icon_id:"24923351",name:"back",font_class:"back",unicode:"e6b9",unicode_decimal:59065},{icon_id:"24923352",name:"forward",font_class:"forward",unicode:"e6ba",unicode_decimal:59066},{icon_id:"24923353",name:"arrowthinright",font_class:"arrow-right",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923353",name:"arrowthinright",font_class:"arrowthinright",unicode:"e6bb",unicode_decimal:59067},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrow-left",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923354",name:"arrowthinleft",font_class:"arrowthinleft",unicode:"e6bc",unicode_decimal:59068},{icon_id:"24923355",name:"arrowthinup",font_class:"arrow-up",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923355",name:"arrowthinup",font_class:"arrowthinup",unicode:"e6bd",unicode_decimal:59069},{icon_id:"24923356",name:"arrowthindown",font_class:"arrow-down",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923356",name:"arrowthindown",font_class:"arrowthindown",unicode:"e6be",unicode_decimal:59070},{icon_id:"24923349",name:"arrowdown",font_class:"bottom",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923349",name:"arrowdown",font_class:"arrowdown",unicode:"e6b8",unicode_decimal:59064},{icon_id:"24923346",name:"arrowright",font_class:"right",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923346",name:"arrowright",font_class:"arrowright",unicode:"e6b5",unicode_decimal:59061},{icon_id:"24923347",name:"arrowup",font_class:"top",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923347",name:"arrowup",font_class:"arrowup",unicode:"e6b6",unicode_decimal:59062},{icon_id:"24923348",name:"arrowleft",font_class:"left",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923348",name:"arrowleft",font_class:"arrowleft",unicode:"e6b7",unicode_decimal:59063},{icon_id:"24923334",name:"eye",font_class:"eye",unicode:"e651",unicode_decimal:58961},{icon_id:"24923335",name:"eye-filled",font_class:"eye-filled",unicode:"e66a",unicode_decimal:58986},{icon_id:"24923336",name:"eye-slash",font_class:"eye-slash",unicode:"e6b3",unicode_decimal:59059},{icon_id:"24923337",name:"eye-slash-filled",font_class:"eye-slash-filled",unicode:"e6b4",unicode_decimal:59060},{icon_id:"24923305",name:"info-filled",font_class:"info-filled",unicode:"e649",unicode_decimal:58953},{icon_id:"24923299",name:"reload-01",font_class:"reload",unicode:"e6b2",unicode_decimal:59058},{icon_id:"24923195",name:"mic_slash_fill",font_class:"micoff-filled",unicode:"e6b0",unicode_decimal:59056},{icon_id:"24923165",name:"map-pin-ellipse",font_class:"map-pin-ellipse",unicode:"e6ac",unicode_decimal:59052},{icon_id:"24923166",name:"map-pin",font_class:"map-pin",unicode:"e6ad",unicode_decimal:59053},{icon_id:"24923167",name:"location",font_class:"location",unicode:"e6ae",unicode_decimal:59054},{icon_id:"24923064",name:"starhalf",font_class:"starhalf",unicode:"e683",unicode_decimal:59011},{icon_id:"24923065",name:"star",font_class:"star",unicode:"e688",unicode_decimal:59016},{icon_id:"24923066",name:"star-filled",font_class:"star-filled",unicode:"e68f",unicode_decimal:59023},{icon_id:"24899646",name:"a-rilidaka",font_class:"calendar",unicode:"e6a0",unicode_decimal:59040},{icon_id:"24899647",name:"fire",font_class:"fire",unicode:"e6a1",unicode_decimal:59041},{icon_id:"24899648",name:"paihangbang",font_class:"medal",unicode:"e6a2",unicode_decimal:59042},{icon_id:"24899649",name:"font",font_class:"font",unicode:"e6a3",unicode_decimal:59043},{icon_id:"24899650",name:"gift",font_class:"gift",unicode:"e6a4",unicode_decimal:59044},{icon_id:"24899651",name:"link",font_class:"link",unicode:"e6a5",unicode_decimal:59045},{icon_id:"24899652",name:"notification",font_class:"notification",unicode:"e6a6",unicode_decimal:59046},{icon_id:"24899653",name:"staff",font_class:"staff",unicode:"e6a7",unicode_decimal:59047},{icon_id:"24899654",name:"VIP",font_class:"vip",unicode:"e6a8",unicode_decimal:59048},{icon_id:"24899655",name:"folder_add",font_class:"folder-add",unicode:"e6a9",unicode_decimal:59049},{icon_id:"24899656",name:"tune",font_class:"tune",unicode:"e6aa",unicode_decimal:59050},{icon_id:"24899657",name:"shimingrenzheng",font_class:"auth",unicode:"e6ab",unicode_decimal:59051},{icon_id:"24899565",name:"person",font_class:"person",unicode:"e699",unicode_decimal:59033},{icon_id:"24899566",name:"email-filled",font_class:"email-filled",unicode:"e69a",unicode_decimal:59034},{icon_id:"24899567",name:"phone-filled",font_class:"phone-filled",unicode:"e69b",unicode_decimal:59035},{icon_id:"24899568",name:"phone",font_class:"phone",unicode:"e69c",unicode_decimal:59036},{icon_id:"24899570",name:"email",font_class:"email",unicode:"e69e",unicode_decimal:59038},{icon_id:"24899571",name:"personadd",font_class:"personadd",unicode:"e69f",unicode_decimal:59039},{icon_id:"24899558",name:"chatboxes-filled",font_class:"chatboxes-filled",unicode:"e692",unicode_decimal:59026},{icon_id:"24899559",name:"contact",font_class:"contact",unicode:"e693",unicode_decimal:59027},{icon_id:"24899560",name:"chatbubble-filled",font_class:"chatbubble-filled",unicode:"e694",unicode_decimal:59028},{icon_id:"24899561",name:"contact-filled",font_class:"contact-filled",unicode:"e695",unicode_decimal:59029},{icon_id:"24899562",name:"chatboxes",font_class:"chatboxes",unicode:"e696",unicode_decimal:59030},{icon_id:"24899563",name:"chatbubble",font_class:"chatbubble",unicode:"e697",unicode_decimal:59031},{icon_id:"24881290",name:"upload-filled",font_class:"upload-filled",unicode:"e68e",unicode_decimal:59022},{icon_id:"24881292",name:"upload",font_class:"upload",unicode:"e690",unicode_decimal:59024},{icon_id:"24881293",name:"weixin",font_class:"weixin",unicode:"e691",unicode_decimal:59025},{icon_id:"24881274",name:"compose",font_class:"compose",unicode:"e67f",unicode_decimal:59007},{icon_id:"24881275",name:"qq",font_class:"qq",unicode:"e680",unicode_decimal:59008},{icon_id:"24881276",name:"download-filled",font_class:"download-filled",unicode:"e681",unicode_decimal:59009},{icon_id:"24881277",name:"pengyouquan",font_class:"pyq",unicode:"e682",unicode_decimal:59010},{icon_id:"24881279",name:"sound",font_class:"sound",unicode:"e684",unicode_decimal:59012},{icon_id:"24881280",name:"trash-filled",font_class:"trash-filled",unicode:"e685",unicode_decimal:59013},{icon_id:"24881281",name:"sound-filled",font_class:"sound-filled",unicode:"e686",unicode_decimal:59014},{icon_id:"24881282",name:"trash",font_class:"trash",unicode:"e687",unicode_decimal:59015},{icon_id:"24881284",name:"videocam-filled",font_class:"videocam-filled",unicode:"e689",unicode_decimal:59017},{icon_id:"24881285",name:"spinner-cycle",font_class:"spinner-cycle",unicode:"e68a",unicode_decimal:59018},{icon_id:"24881286",name:"weibo",font_class:"weibo",unicode:"e68b",unicode_decimal:59019},{icon_id:"24881288",name:"videocam",font_class:"videocam",unicode:"e68c",unicode_decimal:59020},{icon_id:"24881289",name:"download",font_class:"download",unicode:"e68d",unicode_decimal:59021},{icon_id:"24879601",name:"help",font_class:"help",unicode:"e679",unicode_decimal:59001},{icon_id:"24879602",name:"navigate-filled",font_class:"navigate-filled",unicode:"e67a",unicode_decimal:59002},{icon_id:"24879603",name:"plusempty",font_class:"plusempty",unicode:"e67b",unicode_decimal:59003},{icon_id:"24879604",name:"smallcircle",font_class:"smallcircle",unicode:"e67c",unicode_decimal:59004},{icon_id:"24879605",name:"minus-filled",font_class:"minus-filled",unicode:"e67d",unicode_decimal:59005},{icon_id:"24879606",name:"micoff",font_class:"micoff",unicode:"e67e",unicode_decimal:59006},{icon_id:"24879588",name:"closeempty",font_class:"closeempty",unicode:"e66c",unicode_decimal:58988},{icon_id:"24879589",name:"clear",font_class:"clear",unicode:"e66d",unicode_decimal:58989},{icon_id:"24879590",name:"navigate",font_class:"navigate",unicode:"e66e",unicode_decimal:58990},{icon_id:"24879591",name:"minus",font_class:"minus",unicode:"e66f",unicode_decimal:58991},{icon_id:"24879592",name:"image",font_class:"image",unicode:"e670",unicode_decimal:58992},{icon_id:"24879593",name:"mic",font_class:"mic",unicode:"e671",unicode_decimal:58993},{icon_id:"24879594",name:"paperplane",font_class:"paperplane",unicode:"e672",unicode_decimal:58994},{icon_id:"24879595",name:"close",font_class:"close",unicode:"e673",unicode_decimal:58995},{icon_id:"24879596",name:"help-filled",font_class:"help-filled",unicode:"e674",unicode_decimal:58996},{icon_id:"24879597",name:"plus-filled",font_class:"paperplane-filled",unicode:"e675",unicode_decimal:58997},{icon_id:"24879598",name:"plus",font_class:"plus",unicode:"e676",unicode_decimal:58998},{icon_id:"24879599",name:"mic-filled",font_class:"mic-filled",unicode:"e677",unicode_decimal:58999},{icon_id:"24879600",name:"image-filled",font_class:"image-filled",unicode:"e678",unicode_decimal:59e3},{icon_id:"24855900",name:"locked-filled",font_class:"locked-filled",unicode:"e668",unicode_decimal:58984},{icon_id:"24855901",name:"info",font_class:"info",unicode:"e669",unicode_decimal:58985},{icon_id:"24855903",name:"locked",font_class:"locked",unicode:"e66b",unicode_decimal:58987},{icon_id:"24855884",name:"camera-filled",font_class:"camera-filled",unicode:"e658",unicode_decimal:58968},{icon_id:"24855885",name:"chat-filled",font_class:"chat-filled",unicode:"e659",unicode_decimal:58969},{icon_id:"24855886",name:"camera",font_class:"camera",unicode:"e65a",unicode_decimal:58970},{icon_id:"24855887",name:"circle",font_class:"circle",unicode:"e65b",unicode_decimal:58971},{icon_id:"24855888",name:"checkmarkempty",font_class:"checkmarkempty",unicode:"e65c",unicode_decimal:58972},{icon_id:"24855889",name:"chat",font_class:"chat",unicode:"e65d",unicode_decimal:58973},{icon_id:"24855890",name:"circle-filled",font_class:"circle-filled",unicode:"e65e",unicode_decimal:58974},{icon_id:"24855891",name:"flag",font_class:"flag",unicode:"e65f",unicode_decimal:58975},{icon_id:"24855892",name:"flag-filled",font_class:"flag-filled",unicode:"e660",unicode_decimal:58976},{icon_id:"24855893",name:"gear-filled",font_class:"gear-filled",unicode:"e661",unicode_decimal:58977},{icon_id:"24855894",name:"home",font_class:"home",unicode:"e662",unicode_decimal:58978},{icon_id:"24855895",name:"home-filled",font_class:"home-filled",unicode:"e663",unicode_decimal:58979},{icon_id:"24855896",name:"gear",font_class:"gear",unicode:"e664",unicode_decimal:58980},{icon_id:"24855897",name:"smallcircle-filled",font_class:"smallcircle-filled",unicode:"e665",unicode_decimal:58981},{icon_id:"24855898",name:"map-filled",font_class:"map-filled",unicode:"e666",unicode_decimal:58982},{icon_id:"24855899",name:"map",font_class:"map",unicode:"e667",unicode_decimal:58983},{icon_id:"24855825",name:"refresh-filled",font_class:"refresh-filled",unicode:"e656",unicode_decimal:58966},{icon_id:"24855826",name:"refresh",font_class:"refresh",unicode:"e657",unicode_decimal:58967},{icon_id:"24855808",name:"cloud-upload",font_class:"cloud-upload",unicode:"e645",unicode_decimal:58949},{icon_id:"24855809",name:"cloud-download-filled",font_class:"cloud-download-filled",unicode:"e646",unicode_decimal:58950},{icon_id:"24855810",name:"cloud-download",font_class:"cloud-download",unicode:"e647",unicode_decimal:58951},{icon_id:"24855811",name:"cloud-upload-filled",font_class:"cloud-upload-filled",unicode:"e648",unicode_decimal:58952},{icon_id:"24855813",name:"redo",font_class:"redo",unicode:"e64a",unicode_decimal:58954},{icon_id:"24855814",name:"images-filled",font_class:"images-filled",unicode:"e64b",unicode_decimal:58955},{icon_id:"24855815",name:"undo-filled",font_class:"undo-filled",unicode:"e64c",unicode_decimal:58956},{icon_id:"24855816",name:"more",font_class:"more",unicode:"e64d",unicode_decimal:58957},{icon_id:"24855817",name:"more-filled",font_class:"more-filled",unicode:"e64e",unicode_decimal:58958},{icon_id:"24855818",name:"undo",font_class:"undo",unicode:"e64f",unicode_decimal:58959},{icon_id:"24855819",name:"images",font_class:"images",unicode:"e650",unicode_decimal:58960},{icon_id:"24855821",name:"paperclip",font_class:"paperclip",unicode:"e652",unicode_decimal:58962},{icon_id:"24855822",name:"settings",font_class:"settings",unicode:"e653",unicode_decimal:58963},{icon_id:"24855823",name:"search",font_class:"search",unicode:"e654",unicode_decimal:58964},{icon_id:"24855824",name:"redo-filled",font_class:"redo-filled",unicode:"e655",unicode_decimal:58965},{icon_id:"24841702",name:"list",font_class:"list",unicode:"e644",unicode_decimal:58948},{icon_id:"24841489",name:"mail-open-filled",font_class:"mail-open-filled",unicode:"e63a",unicode_decimal:58938},{icon_id:"24841491",name:"hand-thumbsdown-filled",font_class:"hand-down-filled",unicode:"e63c",unicode_decimal:58940},{icon_id:"24841492",name:"hand-thumbsdown",font_class:"hand-down",unicode:"e63d",unicode_decimal:58941},{icon_id:"24841493",name:"hand-thumbsup-filled",font_class:"hand-up-filled",unicode:"e63e",unicode_decimal:58942},{icon_id:"24841494",name:"hand-thumbsup",font_class:"hand-up",unicode:"e63f",unicode_decimal:58943},{icon_id:"24841496",name:"heart-filled",font_class:"heart-filled",unicode:"e641",unicode_decimal:58945},{icon_id:"24841498",name:"mail-open",font_class:"mail-open",unicode:"e643",unicode_decimal:58947},{icon_id:"24841488",name:"heart",font_class:"heart",unicode:"e639",unicode_decimal:58937},{icon_id:"24839963",name:"loop",font_class:"loop",unicode:"e633",unicode_decimal:58931},{icon_id:"24839866",name:"pulldown",font_class:"pulldown",unicode:"e632",unicode_decimal:58930},{icon_id:"24813798",name:"scan",font_class:"scan",unicode:"e62a",unicode_decimal:58922},{icon_id:"24813786",name:"bars",font_class:"bars",unicode:"e627",unicode_decimal:58919},{icon_id:"24813788",name:"cart-filled",font_class:"cart-filled",unicode:"e629",unicode_decimal:58921},{icon_id:"24813790",name:"checkbox",font_class:"checkbox",unicode:"e62b",unicode_decimal:58923},{icon_id:"24813791",name:"checkbox-filled",font_class:"checkbox-filled",unicode:"e62c",unicode_decimal:58924},{icon_id:"24813794",name:"shop",font_class:"shop",unicode:"e62f",unicode_decimal:58927},{icon_id:"24813795",name:"headphones",font_class:"headphones",unicode:"e630",unicode_decimal:58928},{icon_id:"24813796",name:"cart",font_class:"cart",unicode:"e631",unicode_decimal:58929}]};const He=o({name:"UniIcons",emits:["click"],props:{type:{type:String,default:""},color:{type:String,default:"#333333"},size:{type:[Number,String],default:16},customPrefix:{type:String,default:""}},data:()=>({icons:je.glyphs}),computed:{unicode(){let e=this.icons.find((e=>e.font_class===this.type));return e?unescape(`%u${e.unicode}`):""},iconSize(){return"number"==typeof(e=this.size)||/^[0-9]*$/g.test(e)?e+"px":e;var e}},methods:{_onClick(){this.$emit("click")}}},[["render",function(t,i,o,n,s,a){return e.openBlock(),e.createElementBlock("text",{style:e.normalizeStyle({color:o.color,"font-size":a.iconSize}),class:e.normalizeClass(["uni-icons",["uniui-"+o.type,o.customPrefix,o.customPrefix?o.type:""]]),onClick:i[0]||(i[0]=(...e)=>a._onClick&&a._onClick(...e))},null,6)}],["__scopeId","data-v-7c2f6cb0"]]);const We=o({name:"UniNoticeBar",emits:["click","getmore","close"],props:{text:{type:String,default:""},moreText:{type:String,default:""},backgroundColor:{type:String,default:"#FFF9EA"},speed:{type:Number,default:100},color:{type:String,default:"#FF9A43"},moreColor:{type:String,default:"#FF9A43"},single:{type:[Boolean,String],default:!1},scrollable:{type:[Boolean,String],default:!1},showIcon:{type:[Boolean,String],default:!1},showGetMore:{type:[Boolean,String],default:!1},showClose:{type:[Boolean,String],default:!1}},data:()=>({textWidth:0,boxWidth:0,wrapWidth:"",webviewHide:!1,elId:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,elIdBox:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,show:!0,animationDuration:"none",animationPlayState:"paused",animationDelay:"0s"}),mounted(){var e=getCurrentPages(),t=e[e.length-1].$getAppWebview();t.addEventListener("hide",(()=>{this.webviewHide=!0})),t.addEventListener("show",(()=>{this.webviewHide=!1})),this.$nextTick((()=>{this.initSize()}))},methods:{initSize(){if(this.scrollable){let e=[],t=new Promise(((e,t)=>{uni.createSelectorQuery().in(this).select(`#${this.elId}`).boundingClientRect().exec((t=>{this.textWidth=t[0].width,e()}))})),i=new Promise(((e,t)=>{uni.createSelectorQuery().in(this).select(`#${this.elIdBox}`).boundingClientRect().exec((t=>{this.boxWidth=t[0].width,e()}))}));e.push(t),e.push(i),Promise.all(e).then((()=>{this.animationDuration=this.textWidth/this.speed+"s",this.animationDelay=`-${this.boxWidth/this.speed}s`,setTimeout((()=>{this.animationPlayState="running"}),1e3)}))}},loopAnimation(){},clickMore(){this.$emit("getmore")},close(){this.show=!1,this.$emit("close")},onClick(){this.$emit("click")}}},[["render",function(t,i,o,n,s,a){const r=y(e.resolveDynamicComponent("uni-icons"),He);return s.show?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-noticebar",style:e.normalizeStyle({backgroundColor:o.backgroundColor}),onClick:i[1]||(i[1]=(...e)=>a.onClick&&a.onClick(...e))},[!0===o.showIcon||"true"===o.showIcon?(e.openBlock(),e.createBlock(r,{key:0,class:"uni-noticebar-icon",type:"sound",color:o.color,size:"22"},null,8,["color"])):e.createCommentVNode("",!0),e.createElementVNode("view",{ref:"textBox",class:e.normalizeClass(["uni-noticebar__content-wrapper",{"uni-noticebar__content-wrapper--scrollable":o.scrollable,"uni-noticebar__content-wrapper--single":!o.scrollable&&(o.single||o.moreText)}])},[e.createElementVNode("view",{id:s.elIdBox,class:e.normalizeClass(["uni-noticebar__content",{"uni-noticebar__content--scrollable":o.scrollable,"uni-noticebar__content--single":!o.scrollable&&(o.single||o.moreText)}])},[e.createElementVNode("text",{id:s.elId,ref:"animationEle",class:e.normalizeClass(["uni-noticebar__content-text",{"uni-noticebar__content-text--scrollable":o.scrollable,"uni-noticebar__content-text--single":!o.scrollable&&(o.single||o.showGetMore)}]),style:e.normalizeStyle({color:o.color,width:s.wrapWidth+"px",animationDuration:s.animationDuration,"-webkit-animationDuration":s.animationDuration,animationPlayState:s.webviewHide?"paused":s.animationPlayState,"-webkit-animationPlayState":s.webviewHide?"paused":s.animationPlayState,animationDelay:s.animationDelay,"-webkit-animationDelay":s.animationDelay})},e.toDisplayString(o.text),15,["id"])],10,["id"])],2),!0===o.showGetMore||"true"===o.showGetMore?(e.openBlock(),e.createElementBlock("view",{key:1,class:"uni-noticebar__more uni-cursor-point",onClick:i[0]||(i[0]=(...e)=>a.clickMore&&a.clickMore(...e))},[o.moreText.length>0?(e.openBlock(),e.createElementBlock("text",{key:0,style:e.normalizeStyle({color:o.moreColor}),class:"uni-noticebar__more-text"},e.toDisplayString(o.moreText),5)):(e.openBlock(),e.createBlock(r,{key:1,type:"right",color:o.moreColor,size:"16"},null,8,["color"]))])):e.createCommentVNode("",!0),!0!==o.showClose&&"true"!==o.showClose||!1!==o.showGetMore&&"false"!==o.showGetMore?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:2,class:"uni-noticebar-close uni-cursor-point"},[e.createVNode(r,{type:"closeempty",color:o.color,size:"16",onClick:a.close},null,8,["color","onClick"])]))],4)):e.createCommentVNode("",!0)}],["__scopeId","data-v-6e8c36e8"]]),qe=me(he),Je={data:()=>({pop_notice:!1,getitem:0,if_long:!1,scrollW:0,show_login:!1,indicatorDots:!0,autoplay:!0,interval:3e3,duration:500,list_t:[],bannerdata:[],indicatorColor:"#292b40",indicatorActiveColor:"#ffffff",show_team:!1,team:"",get_data:"",compay_name:"正在获取中正在获取中",select_compay:!1,compay_list:[],if_login_check:!1,compay_id:"",index_ico:"",index_ico_h:"",cz_ico:"",cz_ico_h:"",kf_ico:"",kf_ico_h:"",user_ico:"",user_ico_h:"",index_ft_bg:"",room:[],list:[],hot_list:[],run_txt:[],run_text_string:"",userinfo:{},back:!1}),props:["run"],watch:{$route(e){"/"==e.fullPath&&(this.back=!0,this.get_notice(2),this.getList(1,6,1),this.getList(2,10,2))}},methods:{pop_ok(){uni.navigateTo({url:"/pages/movie/kefu/kefu"})},postMsg(){uni.switchTab({url:"/pages/index/index"})},async get_userinfo(){let e=JSON.parse(JSON.stringify(qe.userInfo));const t=await this.$myRuquest({url:"/api/front/index/getImUserInfo",method:"POST",data:{user_id:e.user_id}});if(200==t.code){this.userinfo=t.data;let e=JSON.parse(JSON.stringify(t.data));qe.login(e)}},on_func_notice(e){0!=this.userinfo.isview||0!=this.userinfo.role?(uni.setStorageSync("movice_info",e),uni.navigateTo({url:"/pages/movie/list/detial?id="+e.id})):this.pop_notice=!0},jump(e){1==e?uni.navigateTo({url:"/pages/movie/index/index"}):2==e?uni.navigateTo({url:"/pages/movie/list/index"}):3==e?uni.navigateTo({url:"/pages/movie/bet/bet"}):4==e?uni.navigateTo({url:"/pages/kefu/kefu_index"}):5==e&&uni.navigateTo({url:"/pages/mine/index"})},async getList(e,t,i){1==e&&this.get_userinfo(),this.list=[];const o=await this.$myRuquest({method:"Post",url:"/api/front/movie/getList",data:{page:1,pagesize:t,tag:i}});200==o.code&&(1==e?this.room=o.data.list:this.hot_list=o.data.list)},async get_banner(e){this.bannerdata=[],window.scrollTo({top:0,behavior:"smooth"});const t=await this.$myRuquest({url:"/api/front/notice/getList",method:"POST",data:{type:e}});200==t.code&&(this.bannerdata=t.data.list)},async get_notice(e){var t=this;const i=await this.$myRuquest({url:"/api/front/notice/getList",method:"POST",data:{type:e}});200==i.code&&(this.back||this.get_banner(1),t.run_txt=i.data.list,0!==t.run_txt.length&&t.run_txt.forEach((e=>{this.run_text_string+=e.title})))},onClose(){this.show_login=!this.show_login},noOk(){uni.navigateTo({url:"/pages/login/login"})},to_notice(){uni.navigateTo({url:"/pages/movie/notice/notice"})},to_more(){uni.navigateTo({url:"/pages/movie/list/index"})},to_home(){uni.postMessage({type:"backToHome"})},onNavigationBarButtonTap(e){""!==uni.getStorageSync("token")?0==e.index?uni.navigateTo({url:"/pages/notice/notice"}):uni.navigateTo({url:"/pages/login/login"}):this.show_login=!0}},onLoad(){},onShow(){uni.removeStorageSync("movice_info"),this.pop_notice=!1,this.show_login=!1,uni.getStorageSync("ifLogin")},mounted(){uni.getStorageSync("ifLogin")}};const Ge=o(Je,[["render",function(t,i,o,n,s,a){const r=y(e.resolveDynamicComponent("uni-notice-bar"),We);return e.openBlock(),e.createElementBlock("view",{style:{"background-color":"#190D30"}},[e.createElementVNode("view",{class:"index_topline"},[e.createElementVNode("view",{class:"index_top_l",style:{width:"47px"},onClick:i[0]||(i[0]=(...e)=>a.to_notice&&a.to_notice(...e))},[e.createElementVNode("view",{style:{"padding-top":"5px"}},[e.createElementVNode("image",{src:"/static/image/ding.png",style:{width:"25px",height:"25px","margin-top":"3px"},mode:"widthFix"})])]),e.createElementVNode("view",{class:"index_top_mdl"}),e.createElementVNode("view",{class:"index_top_l"})]),e.createElementVNode("view",{class:"page-section swiper"},[e.createElementVNode("view",{style:{position:"relative"}},[0!==s.bannerdata.length?(e.openBlock(),e.createElementBlock("swiper",{key:0,"indicator-dots":s.indicatorDots,"indicator-color":s.indicatorColor,"indicator-active-color":s.indicatorActiveColor,autoplay:s.autoplay,interval:s.interval,duration:s.duration,style:{width:"100%",height:"210px"}},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.bannerdata,((t,i)=>(e.openBlock(),e.createElementBlock("swiper-item",{key:i},[e.createElementVNode("image",{src:t.img,mode:"widthFix",style:{width:"100%"}},null,8,["src"])])))),128))],8,["indicator-dots","indicator-color","indicator-active-color","autoplay","interval","duration"])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{style:{width:"100vw",display:"flex","background-color":"#fffbe8"}},[e.createElementVNode("view",{class:"laba"},[e.createElementVNode("view",{class:"cuIcon-notificationfill"})]),e.createElementVNode("view",{style:{flex:"1",height:"40px",overflow:"hidden"}},[e.createVNode(r,{single:!0,scrollable:!0,speed:60,text:s.run_text_string},null,8,["text"])])]),e.createElementVNode("view",{class:"main_i"},[e.createElementVNode("view",{class:"title_line"},[e.createTextVNode(e.toDisplayString(t.$t("index.part_1")),1),e.createElementVNode("view",{class:"type_more",onClick:i[1]||(i[1]=(...e)=>a.to_more&&a.to_more(...e))},e.toDisplayString(t.$t("index.more")),1)]),e.createElementVNode("view",{class:"index_lanmu"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.room,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:"index_lm_zi",onClick:e=>a.on_func_notice(t),key:i},[e.createElementVNode("view",{class:"index_lm_zim"},[e.createElementVNode("image",{src:t.img,style:{width:"100%"},mode:"widthFix"},null,8,["src"]),e.createElementVNode("view",{class:"tit_a"},e.toDisplayString(t.name),1),e.createElementVNode("view",{class:"tit_adesc"},e.toDisplayString(t.desc),1)])],8,["onClick"])))),128))]),e.createElementVNode("view",{class:"title_line"},[e.createTextVNode(e.toDisplayString(t.$t("index.part_2")),1),e.createElementVNode("view",{class:"type_more",onClick:i[2]||(i[2]=(...e)=>a.to_more&&a.to_more(...e))},e.toDisplayString(t.$t("index.more")),1)]),e.createElementVNode("view",{style:{"padding-bottom":"55px"}},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.hot_list,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:"user_line",key:i,onClick:e=>a.on_func_notice(t)},[e.createElementVNode("view",{class:"user_l"},[e.createElementVNode("image",{src:t.img,mode:"widthFix",style:{width:"100%"}},null,8,["src"])]),e.createElementVNode("view",{class:"user_r"},[e.createElementVNode("view",{class:"item_name"},e.toDisplayString(t.name),1),e.createElementVNode("view",{style:{"max-height":"90px"}},[e.createElementVNode("view",{class:"item_desc"},e.toDisplayString(t.desc),1),e.createElementVNode("view",null,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.hot_tags.split(","),((t,i)=>e.withDirectives((e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass("item_"+i),key:i},e.toDisplayString(t),3)),[[e.vShow,i<3]]))),128))])]),e.createElementVNode("view",{style:{display:"flex"}},[e.createElementVNode("view",{class:"cuIcon-attentionfavor l_ft_r",style:{"font-size":"14px"}}),e.createElementVNode("view",{class:"l_ft_r"},e.toDisplayString(t.view_count),1)])])],8,["onClick"])))),128))])])]),e.withDirectives(e.createElementVNode("view",null,[e.createElementVNode("view",{class:"com_bg"}),e.createElementVNode("view",{class:"com_main"},[e.createElementVNode("view",{class:"pop_mian"},[e.createElementVNode("view",{class:"pop_title"},e.toDisplayString(t.$t("pop.title")),1),e.createElementVNode("view",{style:{padding:"10px 15px",display:"flex","justify-content":"flex-start","line-height":"25px","flex-wrap":"wrap"}},e.toDisplayString(t.$t("pop.content2")),1),e.createElementVNode("view",{class:"pop_foot"},[e.createElementVNode("view",{class:"pop_ft_btn1",onClick:i[3]||(i[3]=e=>s.pop_notice=!1)},e.toDisplayString(t.$t("pop.close")),1),e.createElementVNode("view",{class:"pop_ft_btn2",onClick:i[4]||(i[4]=e=>a.pop_ok())},e.toDisplayString(t.$t("pop.up")),1)])])])],512),[[e.vShow,s.pop_notice]])])}],["__scopeId","data-v-1cc76fa7"]]),Ye=we(he);const Xe=o({data:()=>({paddingB:0,total:0,params:{page:1,limit:10,is_mine:0},list:[],join_id:"",contacts:[],host:""}),methods:{openDetails(e){uni.navigateTo({url:"/pages/message/chat?id=group-"+e.group_id})},getList(){this.$api.third_openApi.opengroup_List(this.params).then((e=>{if(0==e.code){this.list=e.data.data,this.total=e.count;for(var t=0;t<this.list.length;t++)for(var i=0;i<this.contacts.length;i++)this.list[t].group_id==this.contacts[i].group_id&&this.$set(this.list[t],"ifin",!0)}}))},into_droup(e,t){this.$api.third_openApi.into_group({group_id:"group-"+e,inviteUid:[1]}).then((e=>{0==e.code&&(uni.showToast({title:this.$t("group.seccess"),icon:"success"}),this.initContacts(),this.$set(this.list[t],"ifin",!0))}))},initContacts(){this.modelName="",this.$api.msgApi.initContacts().then((e=>{Ye.sysUnread=e.count,Ye.initContacts(e.data)}))}},created(){this.paddingB=this.navBarHeight+this.inlineTools,this.getList(),this.contacts=uni.getStorageSync("allContacts"),this.host=this.$imgurl()}},[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("Empty");return e.openBlock(),e.createElementBlock("view",null,[0!==s.list.length?(e.openBlock(),e.createElementBlock("view",{key:0,style:{"padding-bottom":"50px"}},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.list,((i,o)=>(e.openBlock(),e.createElementBlock("view",{class:"user_line",key:o},[e.createElementVNode("view",{class:"user_l"},[e.createElementVNode("image",{src:s.host+i.avatar,mode:"widthFix",style:{width:"100%","border-radius":"8px"}},null,8,["src"])]),e.createElementVNode("view",{class:"user_r"},[e.createElementVNode("view",{class:"item_name"},e.toDisplayString(i.name),1),e.createElementVNode("view",{style:{"max-height":"90px","font-size":"13px",color:"#969696",padding:"10px 0"}},e.toDisplayString(i.desc_v),1),i.ifin?(e.openBlock(),e.createElementBlock("view",{key:0,onClick:e=>a.openDetails(i),class:"item_btn2"},e.toDisplayString(t.$t("group.in_group")),9,["onClick"])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"item_btn",onClick:e=>a.into_droup(i.group_id,o)},e.toDisplayString(t.$t("group.add_group")),9,["onClick"]))])])))),128))])):(e.openBlock(),e.createBlock(r,{key:1,noDatatext:t.$t("group.no_data"),textcolor:"#999"},null,8,["noDatatext"]))])}],["__scopeId","data-v-27541a61"]]),Ke=me(he),Qe={data:()=>({loginStore:Ke,pop_notice:!1,scroll_ft:!1,pop_bet:!1,index_ico:"@/static/image/shouye.png",index_ico_h:"",cz_ico:"",cz_ico_h:"",kf_ico:"",kf_ico_h:"",user_ico:"",user_ico_h:"",bet_num:"",max_num:0,qishu:"",qishu_id:"",ifrun:!0,ifhistory:!1,history_list:[],Number_arr:[],Number_laster:[],cost_arr:[10,50,100,200,500,1e3],userinfo:{},time1:0,time2:0,time3:0,time_build:null,if_over:!1,pageHeight:0,flow_data:{}}),watch:{watch:{$route(e){e.fullPath}},bet_num(e){Number(e)>this.max_num?this.bet_num=this.max_num:this.bet_num=e},time3:function(e){var t=this;if(0==this.time1&&0==this.time2&&e<8&&(this.ifrun=!1),this.time2==e&&0==e)return this.if_over=!0,this.ifrun=!1,clearInterval(this.time_build),this.time_build=null,void setTimeout((function(){t.getNewOpenData()}),3e3);(e<0||NaN==e||"NaN"==e)&&(this.ifrun=!1,clearInterval(this.time_build),this.time_build=null,setTimeout((function(){t.getNewOpenData()}),3e3))}},methods:{get_sys_userinfo(){var e={user_id:JSON.parse(JSON.stringify(Ke.userInfo)).user_id};this.$api.third_openApi.get_user_info(e).then((e=>{if(0==e.code){_("log","at pages/movie/bet/bet.vue:251","ssssssssss",e);let t=e.data.data;this.flow_data=t[0],_("log","at pages/movie/bet/bet.vue:254","dddddddddd",this.flow_data.flow1)}}))},change_num(e){},showtime(e,t){if(""!==t){var i=new Date,o=new Date(t).getTime()-i.getTime(),n=Math.floor(o/864e5),s=Math.floor(o/36e5%24),a=Math.floor(o/6e4%60),r=Math.floor(o/1e3%60);return this.time1=s,this.time2=a,this.time3=r,n+"天"+s+":"+a+":"+r}},jump(e){1==e?uni.navigateTo({url:"/pages/movie/index/index"}):2==e?uni.navigateTo({url:"/pages/movie/list/index"}):3==e?uni.navigateTo({url:"/pages/movie/bet/bet"}):4==e?uni.navigateTo({url:"/pages/kefu/kefu_index"}):5==e&&uni.navigateTo({url:"/pages/mine/index"})},see_list(){uni.navigateTo({url:"/pages/movie/bet/list"})},get_bet_num(e,t){this.Number_arr[t].ifhad?this.Number_arr[t].ifhad=!1:this.Number_arr[t].ifhad=!0;const i=this.Number_arr.find((e=>1==e.ifhad));this.pop_bet=void 0!==i,this.pageHeight<820&&1==this.pop_bet&&(this.scroll_ft=!0)},get_num(e){this.bet_num=e},reset(){this.bet_num=""},async get_userInfo(){const e=await this.$myRuquest({url:"/api/front/user/getUserInfo",method:"POST"});200==e.code&&(this.userinfo=e.data,this.max_num=this.userinfo.balance)},async getNewOpenData(){const e=await this.$myRuquest({url:"/api/front/movie/getNewOpenData",method:"POST"});200==e.code&&(this.getHistoryOpenData(),this.qishu=e.data.open_no,this.qishu_id=e.data.id,this.time_build=setInterval((()=>{this.showtime("",e.data.open_time)}),1e3),this.ifrun=!0)},async getOpenData(){const e=await this.$myRuquest({url:"/api/front/movie/getActionDetail",method:"POST"});200==e.code&&(this.qishu=e.data.next_open_data.open_no,this.qishu_id=e.data.next_open_data.id,this.time_build=setInterval((()=>{this.showtime("",e.data.next_open_data.open_time)}),1e3))},async getHistoryOpenData(){const e=await this.$myRuquest({url:"/api/front/movie/getHistoryOpenData",method:"POST",data:{page:1,pagesize:10}});200==e.code&&(this.Number_laster=e.data.data)},async submit_bet(){if(Number(this.bet_num)>Number(this.max_num))return void uni.showToast({title:this.$t("bet.pop_tit1"),icon:"none"});if(Number(this.bet_num)<0||0==Number(this.bet_num))return void uni.showToast({title:this.$t("bet.pop_tit2"),icon:"none"});let e=new Array;if(this.Number_arr.forEach((t=>{1==t.ifhad&&e.push(t.value)})),0==e.length)return void uni.showToast({title:this.$t("bet.pop_tit3"),icon:"none"});200==(await this.$myRuquest({url:"/api/front/order/createOrder",method:"POST",data:{next_open_id:this.qishu_id,multiple_id:e.toString(),amount:Number(this.bet_num)}})).code&&(uni.showToast({title:this.$t("bet.pop_tit4"),icon:"success"}),this.bet_num="",this.Number_arr.forEach((e=>{e.ifhad=!1})),this.get_userInfo())},run_fun(){this.get_sys_userinfo(),this.get_userInfo(),this.getOpenData(),this.getHistoryOpenData(),this.Number_arr=[{name:this.$t("bet.bet_n1"),value:1,ifhad:!1},{name:this.$t("bet.bet_n2"),value:2,ifhad:!1},{name:this.$t("bet.bet_n3"),value:3,ifhad:!1},{name:this.$t("bet.bet_n4"),value:4,ifhad:!1}]}},onLoad(){this.pop_notice=!1;var e=document.getElementsByClassName("uni-page-head-hd")[0];e&&(e.style.display="none")},mounted(){this.pageHeight=document.documentElement.clientHeight},onShow(){}};const Ze=o(Qe,[["render",function(t,i,o,n,s,a){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass({scroll_ft:s.scroll_ft})},[e.createElementVNode("view",{class:"bet_top"},[e.createElementVNode("view",{style:{padding:"10px  15px"}},[e.createElementVNode("view",{class:"bet_line bet_ge"},[e.createElementVNode("view",null,e.toDisplayString(t.$t("bet.now")),1)]),e.createElementVNode("view",{style:{display:"flex","align-items":"center"},class:"bet_ge"},[e.createElementVNode("view",{style:{"font-weight":"bold","font-size":"16px","margin-right":"3px","text-decoration":"none"}},e.toDisplayString(s.qishu),1),s.ifrun?(e.openBlock(),e.createElementBlock("view",{key:0},e.toDisplayString(t.$t("bet.go_on")),1)):e.createCommentVNode("",!0),s.ifrun?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:1},e.toDisplayString(t.$t("bet.close")),1))]),e.createElementVNode("view",{class:"time"},e.toDisplayString(s.time2+":"+s.time3),1),e.createElementVNode("view",{class:"bet_line bet_ge"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.Number_laster.slice(0,1),((i,o)=>(e.openBlock(),e.createElementBlock("view",{style:{display:"flex"},key:o},[e.createElementVNode("view",{style:{"margin-right":"10px","text-decoration":"none"}},e.toDisplayString(i.open_no),1),i.number>5||5==i.number?(e.openBlock(),e.createElementBlock("view",{key:0,class:"color_n2"},e.toDisplayString(t.$t("bet.bet_n1")),1)):e.createCommentVNode("",!0),i.number<4||4==i.number?(e.openBlock(),e.createElementBlock("view",{key:1,class:"color_n1"},e.toDisplayString(t.$t("bet.bet_n2")),1)):e.createCommentVNode("",!0),i.number%2==1?(e.openBlock(),e.createElementBlock("view",{key:2,class:"color_n1"},e.toDisplayString(t.$t("bet.bet_n3")),1)):e.createCommentVNode("",!0),i.number%2==0?(e.openBlock(),e.createElementBlock("view",{key:3,class:"color_n2"},e.toDisplayString(t.$t("bet.bet_n4")),1)):e.createCommentVNode("",!0)])))),128)),e.createElementVNode("view",{onClick:i[0]||(i[0]=e=>s.ifhistory=!s.ifhistory),style:{display:"flex"}},[e.createTextVNode(e.toDisplayString(t.$t("bet.history"))+" ",1),s.ifhistory?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"cuIcon-unfold",style:{"line-height":"19px","margin-left":"2px"}})),s.ifhistory?(e.openBlock(),e.createElementBlock("view",{key:1,class:"cuIcon-fold",style:{"line-height":"19px","margin-left":"2px"}})):e.createCommentVNode("",!0)]),e.withDirectives(e.createElementVNode("view",{class:"history_are",onClick:i[1]||(i[1]=e=>s.ifhistory=!1)},[0!==s.Number_laster.length?(e.openBlock(),e.createElementBlock("view",{key:0,style:{padding:"0px 15px"}},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.Number_laster,((i,o)=>(e.openBlock(),e.createElementBlock("view",{style:{display:"flex",padding:"5px 0"},key:o},[e.createElementVNode("view",{style:{"margin-right":"10px"}},e.toDisplayString(i.open_no),1),i.number>5||5==i.number?(e.openBlock(),e.createElementBlock("view",{key:0,class:"color_n2"},e.toDisplayString(t.$t("bet.bet_n1")),1)):e.createCommentVNode("",!0),i.number<4||4==i.number?(e.openBlock(),e.createElementBlock("view",{key:1,class:"color_n1"},e.toDisplayString(t.$t("bet.bet_n2")),1)):e.createCommentVNode("",!0),i.number%2==1?(e.openBlock(),e.createElementBlock("view",{key:2,class:"color_n1"},e.toDisplayString(t.$t("bet.bet_n3")),1)):e.createCommentVNode("",!0),i.number%2==0?(e.openBlock(),e.createElementBlock("view",{key:3,class:"color_n2"},e.toDisplayString(t.$t("bet.bet_n4")),1)):e.createCommentVNode("",!0)])))),128))])):e.createCommentVNode("",!0)],512),[[e.vShow,s.ifhistory]])])])]),e.createElementVNode("view",{class:"bet_top_ft"},[e.createElementVNode("view",{class:"bet_t_ft_m",onClick:i[2]||(i[2]=e=>s.pop_notice=!0)},e.toDisplayString(t.$t("bet.rule")),1),e.createElementVNode("view",{class:"bet_t_ft_m",onClick:i[3]||(i[3]=(...e)=>a.see_list&&a.see_list(...e)),style:{display:"flex","justify-content":"center",color:"#e6557f"}},[e.createTextVNode(e.toDisplayString(t.$t("bet.outlist"))+" ",1),e.createElementVNode("view",{class:"cuIcon-right",style:{"line-height":"40px","margin-left":"2px"}})])]),e.createElementVNode("view",{class:"bet_main"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.Number_arr,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:"bet_mainzi",key:i},[e.createElementVNode("view",{class:e.normalizeClass(["bet_zi",{bet_zi_get:t.ifhad}]),onClick:e=>a.get_bet_num(t,i)},e.toDisplayString(t.name),11,["onClick"])])))),128))]),e.createElementVNode("view",{style:{"padding-left":"15px",color:"#e6557f","font-size":"16px","font-weight":"bold",margin:"15px 0"}},e.toDisplayString(t.$t("bet.flow_tit")),1),e.createElementVNode("view",{style:{"padding-left":"10%"}},[e.createElementVNode("view",{class:"flow_line"},[e.createElementVNode("view",{style:{width:"40%"}},[e.createElementVNode("view",{style:{"margin-left":"-10px"},class:"color1"},e.toDisplayString(t.$t("bet.flow1")),1),e.createElementVNode("view",{class:"flow_m"},[1==s.flow_data.flow1?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cuIcon-title color1"})):e.createCommentVNode("",!0),0==s.flow_data.flow1?(e.openBlock(),e.createElementBlock("view",{key:1,class:"cuIcon-title color2"})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass(["flow_l color2_bg",{color1_bg:1==s.flow_data.flow1}]),style:{flex:"1"}},null,2)]),1==s.flow_data.flow1?(e.openBlock(),e.createElementBlock("view",{key:0,style:{"margin-left":"-10px"},class:"color1"},e.toDisplayString(t.$t("bet.flow_type1")),1)):(e.openBlock(),e.createElementBlock("view",{key:1,style:{"margin-left":"-10px"},class:"color2"},e.toDisplayString(t.$t("bet.flow_type2")),1))]),e.createElementVNode("view",{style:{width:"40%"}},[e.createElementVNode("view",{style:{"margin-left":"-10px"},class:"color1"},e.toDisplayString(t.$t("bet.flow2")),1),e.createElementVNode("view",{class:"flow_m"},[1==s.flow_data.flow2?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cuIcon-roundcheckfill color1"})):e.createCommentVNode("",!0),0==s.flow_data.flow2?(e.openBlock(),e.createElementBlock("view",{key:1,class:"cuIcon-title color2"})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass(["flow_l color2_bg",{color1_bg:1==s.flow_data.flow2}]),style:{flex:"1"}},null,2)]),1==s.flow_data.flow2?(e.openBlock(),e.createElementBlock("view",{key:0,style:{"margin-left":"-10px"},class:"color1"},e.toDisplayString(t.$t("bet.flow_type1")),1)):(e.openBlock(),e.createElementBlock("view",{key:1,style:{"margin-left":"-10px"},class:"color2"},e.toDisplayString(t.$t("bet.flow_type2")),1))]),e.createElementVNode("view",{style:{width:"20%"}},[e.createElementVNode("view",{style:{"margin-left":"-10px"},class:"color1"},e.toDisplayString(t.$t("bet.flow3")),1),e.createElementVNode("view",{class:"flow_m"},[1==s.flow_data.flow3?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cuIcon-roundcheckfill color1"})):e.createCommentVNode("",!0),0==s.flow_data.flow3?(e.openBlock(),e.createElementBlock("view",{key:1,class:"cuIcon-title color2"})):e.createCommentVNode("",!0)]),1==s.flow_data.flow3?(e.openBlock(),e.createElementBlock("view",{key:0,style:{"margin-left":"-10px"},class:"color1"},e.toDisplayString(t.$t("bet.flow_type1")),1)):(e.openBlock(),e.createElementBlock("view",{key:1,style:{"margin-left":"-10px"},class:"color2"},e.toDisplayString(t.$t("bet.flow_type2")),1))])])]),e.withDirectives(e.createElementVNode("view",{class:"bet_foot"},[e.createElementVNode("view",{class:"bet_f_m"},[e.createElementVNode("view",{class:"bet_f_mtit"},[e.createElementVNode("view",null,e.toDisplayString(t.$t("bet.bet_tit")),1),e.createElementVNode("view",{class:"had_num"},e.toDisplayString(t.$t("bet.balance"))+":"+e.toDisplayString(s.max_num),1)]),e.createElementVNode("view",{class:"bet_num_line"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.cost_arr,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:"bet_num",key:i,onClick:e=>a.get_num(t)},e.toDisplayString(t),9,["onClick"])))),128))]),e.createElementVNode("view",{class:"bet_num_line",style:{padding:"15px 0"}},[e.createElementVNode("view",{style:{"line-height":"30px"}},e.toDisplayString(t.$t("bet.bet_tit_1"))+":",1),e.createElementVNode("view",null,[e.withDirectives(e.createElementVNode("input",{class:"uni-input inmut_l","onUpdate:modelValue":i[4]||(i[4]=e=>s.bet_num=e),onInput:i[5]||(i[5]=e=>a.change_num(s.bet_num)),type:"number",placeholder:""},null,544),[[e.vModelText,s.bet_num]])]),e.createElementVNode("view",null,[e.createElementVNode("button",{type:"default",class:"reset_btn",onClick:i[6]||(i[6]=(...e)=>a.reset&&a.reset(...e))},e.toDisplayString(t.$t("bet.reset")),1)])]),s.ifrun?(e.openBlock(),e.createElementBlock("button",{key:0,type:"default",class:"ok_btn",disabled:!s.ifrun,onClick:i[7]||(i[7]=(...e)=>a.submit_bet&&a.submit_bet(...e))},e.toDisplayString(t.$t("bet.set_ok")),9,["disabled"])):e.createCommentVNode("",!0),s.ifrun?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,type:"default",class:"ok_btn2"},e.toDisplayString(t.$t("bet.close")),1))])],512),[[e.vShow,s.pop_bet]]),e.withDirectives(e.createElementVNode("view",null,[e.createElementVNode("view",{class:"com_bg"}),e.createElementVNode("view",{class:"com_main"},[e.createElementVNode("view",{class:"pop_mian"},[e.createElementVNode("view",{class:"pop_title"},e.toDisplayString(t.$t("bet.rule")),1),e.createElementVNode("view",{style:{padding:"10px 15px",display:"flex","justify-content":"flex-start","line-height":"25px","flex-wrap":"wrap"}},e.toDisplayString(t.$t("bet.content")),1),e.createElementVNode("view",{class:"pop_foot"},[e.createElementVNode("view",{class:"pop_ft_btn2",onClick:i[8]||(i[8]=e=>s.pop_notice=!1)},e.toDisplayString(t.$t("bet.close")),1)])])])],512),[[e.vShow,s.pop_notice]])],2)}],["__scopeId","data-v-64dd6598"]]),et="/static/image/nv_b.png",tt="/static/image/nan_b.png",it=me(he),ot={name:"slide",props:{list:{type:Array,default:()=>[]}},data:()=>({winWidth:0,winHeigh:0,x:{start:0,move:0,end:0},y:{start:0,move:0,end:0},visible:3,currentIndex:0,swipering:!1,slideing:!1,love:0,dislike:0,direction:"",animationData:{},if_like:!1,userinfo:{},ifover:!1,have_num:3,fromUser:""}),mounted(){const e=uni.getSystemInfoSync();this.winWidth=e.windowWidth,this.winHeigh=e.windowHeight-110,this.fromUser=uni.getStorageSync("userInfo")},methods:{see_more(){this.list[this.currentIndex],this.$emit("see_more",{currentItem:this.list[this.currentIndex]})},cardTransform(e,t){let i={zIndex:this.list.length-t,opacity:this.currentIndex+this.visible-1>=t&&this.currentIndex<=t?1:0,transform:"rotate("+(e.x||0)/30+"deg) translate3d("+(e.x||0)+"px,"+(e.y||0)+"px, "+50*(this.currentIndex-t)+"px)"};return t===this.currentIndex&&(this.slideing?i.transitionDuration=(this.swipering?0:1e3)+"ms":i.transitionDuration=(this.swipering?0:300)+"ms"),i},touchStart(e,t){this.slideing||(void 0===this.list[t].x&&void 0===this.list[t].y&&(this.$set(this.list[t],"y",0),this.$set(this.list[t],"x",0)),this.swipering=!0,this.x.start=e.touches[0].pageX,this.y.start=e.touches[0].pageY)},touchMove(e,t){0!=this.fromUser.sex?this.slideing||this.list.length!=t+1&&(this.x.move=e.touches[0].pageX,this.y.move=e.touches[0].pageY,this.list[t].x=this.x.move-this.x.start,this.list[t].y=this.y.move-this.y.start,Number.parseInt(this.list[t].x)>0?(this.love=Number.parseInt(this.list[t].x)/200,this.if_like=!0):(this.dislike=Math.abs(Number.parseInt(this.list[t].x)/200),this.if_like=!1)):this.ifover=!0},async get_userinfo(){let e=JSON.parse(JSON.stringify(it.userInfo));const t=await this.$myRuquest({url:"/api/front/index/getImUserInfo",method:"POST",data:{user_id:e.user_id}});if(200==t.code){this.fromUser=t.data;let e=JSON.parse(JSON.stringify(t.data));it.login(e)}},async count_number(e){let t=JSON.parse(JSON.stringify(it.userInfo));200==(await this.$myRuquest({url:"/api/front/index/changeImUserData",method:"POST",data:{user_id:t.user_id,column:e}})).code&&this.get_userinfo()},touchEnd(e){if(1==this.if_like){if(0==this.fromUser.iszan)return this.ifover=!0,void this.$emit("openpop");this.count_number("iszan"),this.$emit("bet_like",this.list[e])}this.slideing||(this.swipering=!1,this.list.length!=e+1&&(this.list[e].x>0&&this.list[e].x>this.winWidth/2-this.winWidth/5||this.list[e].x<0&&this.list[e].x<-this.winWidth/2+this.winWidth/5?this.touchEndNext(e):(this.list[e].x=0,this.list[e].y=0,this.slideing=!1,this.love=0,this.dislike=0)))},touchEndNext(e){this.slideing=!0,this.list[e].x=5*this.list[e].x,this.list[e].y=5*this.list[e].y,this.touchEndDone()},touchEndDone(){return new Promise((e=>{setTimeout((()=>{this.slideing=!1,this.$emit("onChange",{currentIndex:this.currentIndex,currentItem:this.list[this.currentIndex],type:0!==this.love?"love":"dislike"}),this.currentIndex++,this.x.move=0,this.y.move=0,this.slideing=!1,this.btnClickType=!1,this.love=0,this.dislike=0,e()}),300)}))},footerBtnClick(e){if(this.btnClickType)return;this.btnClickType=!0;let t=0;"love"===e?(t=1.5*this.winWidth,this.love=1):"dislike"===e&&(t=1.5*-this.winWidth,this.dislike=1),this.$set(this.list[this.currentIndex],"x",t),this.touchEndDone()},clickImage(e){this.direction=this.winWidth/2>e.detail.x?"left":"right";let t=uni.createAnimation({duration:200,timingFunction:"ease"});this.animation=t,this.animation.rotateY("left"===this.direction?-10:10).step().rotateY("left"===this.direction?5:-5).step(),this.animationData=t.export(),setTimeout(function(){this.animation.rotateY(0).step(),this.animationData=t.export()}.bind(this),300),this.$emit("onClickImage",{type:"click",currentIndex:this.currentIndex,currentItem:this.list[this.currentIndex]})}}};const nt=o(ot,[["render",function(t,i,o,n,s,a){return e.openBlock(),e.createElementBlock("view",{class:"tantan-slide",style:e.normalizeStyle({width:s.winWidth+"px",height:s.winHeigh+"px"})},[e.createElementVNode("view",{class:"tantan-slide-footer"},[e.createElementVNode("view",{class:"tantan-slide-footer-btn",onClick:i[0]||(i[0]=e=>a.footerBtnClick("dislike"))},[e.createElementVNode("view",{class:"tantan-slide-footer-icon",style:e.normalizeStyle({backgroundColor:"#f8ba35",opacity:s.dislike,zIndex:1})},[e.createElementVNode("image",{style:{width:"50rpx",height:"50rpx"},src:"/static/dgex-tantan/close_white.png"})],4),e.createElementVNode("view",{class:"tantan-slide-footer-icon"},[e.createElementVNode("image",{style:{width:"50rpx",height:"50rpx"},src:"/static/dgex-tantan/close.png"})])]),e.createElementVNode("view",{class:"tantan-slide-footer-btn",onClick:i[1]||(i[1]=e=>a.footerBtnClick("love"))},[e.createElementVNode("view",{class:"tantan-slide-footer-icon",style:e.normalizeStyle({backgroundColor:"#fa547c",opacity:s.love,zIndex:1})},[e.createElementVNode("image",{style:{width:"50rpx",height:"50rpx"},src:"/static/dgex-tantan/like_white.png"})],4),e.createElementVNode("view",{class:"tantan-slide-footer-icon"},[e.createElementVNode("image",{style:{width:"50rpx",height:"50rpx"},src:"/static/dgex-tantan/like.png"})])])]),e.createElementVNode("view",{onTouchstartCapture:i[4]||(i[4]=e=>a.touchStart(e,s.currentIndex)),onTouchmoveCapture:i[5]||(i[5]=e.withModifiers((e=>a.touchMove(e,s.currentIndex)),["stop"])),onTouchendCapture:i[6]||(i[6]=e=>a.touchEnd(s.currentIndex)),class:"tantan-slide-box"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.list,((o,n)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[s.currentIndex+s.visible>=n?(e.openBlock(),e.createElementBlock("view",{class:"tantan-slide-box-item",key:n,onClick:i[3]||(i[3]=e.withModifiers(((...e)=>a.clickImage&&a.clickImage(...e)),["stop"])),style:e.normalizeStyle([a.cardTransform(o,n)])},[s.currentIndex+s.visible>=n&&s.currentIndex<=n?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("view",{class:"tantan-slide-direction",animation:s.currentIndex===n?s.animationData:""},[e.createElementVNode("image",{class:"tantan-slide-img",mode:"aspectFill",src:o.nearby_img},null,8,["src"]),e.createElementVNode("view",{class:"tantan-slide-box-item-bg"},[e.createElementVNode("view",{class:"tantan-slide-box-info"},[o.realname?(e.openBlock(),e.createElementBlock("view",{key:0,class:"title",textContent:e.toDisplayString(o.realname)},null,8,["textContent"])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"desc",onClick:i[2]||(i[2]=(...e)=>a.see_more&&a.see_more(...e))},[0==o.sex?(e.openBlock(),e.createElementBlock("view",{key:0,class:"talk_sex p_type1",style:{height:"20px"}},[e.createElementVNode("view",{class:"sex_ico"},[e.createElementVNode("image",{src:et,style:{width:"100%"},mode:"widthFix"})]),e.createElementVNode("view",{style:{"font-weight":"normal","font-size":"13px"}},e.toDisplayString(o.ages),1)])):e.createCommentVNode("",!0),1==o.sex?(e.openBlock(),e.createElementBlock("view",{key:1,class:"talk_sex p_type2",style:{height:"20px"}},[e.createElementVNode("view",{class:"sex_ico"},[e.createElementVNode("image",{src:tt,style:{width:"100%"},mode:"widthFix"})]),e.createElementVNode("view",{style:{"font-weight":"normal","font-size":"13px"}},e.toDisplayString(o.ages),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",null,e.toDisplayString(o.isfar+"km·"+t.$t("nearby.actie_times")+o.istime+t.$t("nearby.actie_time")),1),e.createElementVNode("view",{class:"about_more"},[e.createTextVNode(e.toDisplayString(t.$t("nearby.detail"))+" ",1),e.createElementVNode("view",{class:"cuIcon-unfold"})])]),o.tags?(e.openBlock(),e.createElementBlock("view",{key:1,class:"tags"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.tags.split(","),((t,i)=>(e.openBlock(),e.createElementBlock("text",{class:"tag",key:i,textContent:e.toDisplayString(t)},null,8,["textContent"])))),128))])):e.createCommentVNode("",!0)])])],8,["animation"]),n===s.currentIndex?(e.openBlock(),e.createElementBlock("view",{key:0},[e.createElementVNode("view",{class:"tantan-slide-box-icon tantan-slide-box-dislike",style:e.normalizeStyle({opacity:1.5*s.dislike,transform:"scale("+(s.dislike+1>2?2:s.dislike+1)+")"})},[e.createElementVNode("image",{style:{width:"30rpx",height:"30rpx"},src:"/static/dgex-tantan/close.png"})],4),e.createElementVNode("view",{class:"tantan-slide-box-icon tantan-slide-box-love",style:e.normalizeStyle({opacity:1.5*s.love,transform:"scale("+(s.love+1>2?2:s.love+1)+")"})},[e.createElementVNode("image",{style:{width:"30rpx",height:"30rpx"},src:"/static/dgex-tantan/like.png"})],4)])):e.createCommentVNode("",!0)],64)):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],64)))),256))],32)],4)}],["__scopeId","data-v-e7ac23a6"]]),st="/static/image/common.png",at=me(he);const rt=o({components:{tantan:nt},data(){return{show_talk:!1,talk_data:{},if_more:!1,pop_notice:!1,notice_type:1,notice_content:this.$t("pop.content3"),send_content:"",fromUser:"",detail_data:"",list:[],paddingB:0,total:0,params:{page:1,limit:10},list:[],iflike:!1,had_likes:[],scrollW:0,show_login:!1,indicatorDots:!0,autoplay:!0,interval:3e3,duration:500,bannerdata:[],indicatorColor:"#292b40",indicatorActiveColor:"#ffffff",tag:[]}},mounted(){this.getList(),this.get_userinfo()},methods:{async get_userinfo(){let e=JSON.parse(JSON.stringify(at.userInfo));const t=await this.$myRuquest({url:"/api/front/index/getImUserInfo",method:"POST",data:{user_id:e.user_id}});if(200==t.code){this.fromUser=t.data;let e=JSON.parse(JSON.stringify(t.data));at.login(e)}},open_pop(){this.pop_notice=!this.pop_notice,this.notice_content=this.$t("pop.content3")},bet_talk(){if(0==this.fromUser.istalk&&0==this.fromUser.role)return this.pop_notice=!0,this.notice_type=1,void(this.notice_content=this.$t("pop.content4"));this.show_talk=!0},pop_ok(){uni.navigateTo({url:"/pages/movie/kefu/kefu"})},change(e){e.currentIndex>this.list.length-5&&(this.params.page++,this.getList())},clickImage(e){_("log","at pages/nearby/nearby.vue:320",e)},show_detail(e){this.iflike=!1,this.bannerdata=[],this.if_more=!0,this.detail_data=e.currentItem,this.talk_data=e.currentItem,this.bannerdata=this.talk_data.nearby_arr.split(",");let t=this.fromUser.islikes.split(",");if(0!==t.length){const e=t.find((e=>e==this.talk_data.account));this.iflike=void 0!==e}else this.iflike=!1;this.$emit("to_bottom")},getList(){this.$api.third_openApi.near_user_List(this.params).then((e=>{0==e.code&&(0==this.list.length?this.list=e.data.data:this.list=this.list.concat(e.data.data),this.list.forEach((e=>{this.$set(e,"iflike",!1),this.$set(e,"isfar",(1.5*Math.random()+1).toFixed(2)),this.$set(e,"ifonline",Math.random()>=.5),this.$set(e,"istime",(20*Math.random()+10).toFixed(0)),this.$set(e,"ispepole",(110*Math.random()+10).toFixed(0)),this.had_likes.forEach((t=>{e.account==t&&(e.iflike=!0)}))})))}))},setLike(e,t,i){var o={type:e,user_id:uni.getStorageSync("userInfo").user_id,user_account:t};1==e&&this.$api.third_openApi.near_user_like(o).then((e=>{0==e.code&&(this.list[i].iflike=!0)}))},async bet_like(e){if(void 0!==e&&(this.talk_data=e),0==this.fromUser.iszan&&0==this.fromUser.role)return this.notice_type=1,this.pop_notice=!0,void(this.notice_content=this.$t("pop.content5"));200==(await this.$myRuquest({url:"/api/front/index/imIsLikes",method:"POST",data:{user_id:this.fromUser.user_id,account:this.talk_data.account}})).code&&(null==e&&this.count_number("iszan"),this.iflike=!0)},async count_number(e){let t=JSON.parse(JSON.stringify(at.userInfo));200==(await this.$myRuquest({url:"/api/front/index/changeImUserData",method:"POST",data:{user_id:t.user_id,column:e}})).code&&this.get_userinfo()},async check_if_friend(e){var t=new Array;t.push(this.fromUser.user_id),t.push(e);200==(await this.$myRuquest({url:"/api/front/index/saveImUser",method:"POST",data:{users:t.toString()}})).code&&this.sendMessage(e)},sendMessage(e){let t={id:this.$util.getUuid(),is_group:0,fromUser:this.fromUser,type:"text",toContactId:e,content:this.send_content,sendTime:(new Date).getTime()};this.$api.msgApi.sendMessage(t).then((e=>{0==e.code?(this.show_talk=!1,this.notice_content=this.$t("pop.content6"),this.pop_notice=!0,this.notice_type=2,this.count_number("istalk")):uni.showToast({title:e.msg,icon:"none"})})).catch((e=>{}))}}},[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("tantan");return e.openBlock(),e.createElementBlock("view",{class:"scroll"},[s.if_more?(e.openBlock(),e.createElementBlock("view",{key:1},[e.createElementVNode("view",null,[e.createElementVNode("view",{class:"page-section swiper"},[e.createElementVNode("view",{class:"cuIcon-back back",onClick:i[0]||(i[0]=e=>s.if_more=!1)}),e.createElementVNode("view",{style:{position:"relative"}},[e.createElementVNode("swiper",{"indicator-dots":s.indicatorDots,"indicator-color":s.indicatorColor,"indicator-active-color":s.indicatorActiveColor,autoplay:s.autoplay,interval:s.interval,duration:s.duration,style:{height:"450px"}},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.bannerdata,((t,i)=>(e.openBlock(),e.createElementBlock("swiper-item",{key:"a"+i},[e.createElementVNode("image",{src:t,mode:"widthFix",style:{width:"100%"}},null,8,["src"])])))),128))],8,["indicator-dots","indicator-color","indicator-active-color","autoplay","interval","duration"])])]),e.createElementVNode("view",{class:"main_i"},[e.createElementVNode("view",{class:"main_title"},[e.createElementVNode("view",{style:{"margin-right":"5px"}},e.toDisplayString(s.detail_data.realname),1),0==s.detail_data.sex?(e.openBlock(),e.createElementBlock("view",{key:0,class:"talk_sex p_type1",style:{height:"18px"}},[e.createElementVNode("view",{class:"sex_ico"},[e.createElementVNode("image",{src:et,style:{width:"100%"},mode:"widthFix"})]),e.createElementVNode("view",{style:{"font-weight":"normal","font-size":"13px"}},e.toDisplayString(s.detail_data.ages),1)])):e.createCommentVNode("",!0),1==s.detail_data.sex?(e.openBlock(),e.createElementBlock("view",{key:1,class:"talk_sex p_type2",style:{height:"18px"}},[e.createElementVNode("view",{class:"sex_ico"},[e.createElementVNode("image",{src:tt,style:{width:"100%"},mode:"widthFix"})]),e.createElementVNode("view",{style:{"font-weight":"normal","font-size":"13px"}},e.toDisplayString(s.detail_data.ages),1)])):e.createCommentVNode("",!0),2==s.detail_data.sex?(e.openBlock(),e.createElementBlock("view",{key:2,class:"talk_sex p_type3",style:{height:"18px"}},[e.createElementVNode("view",{style:{"font-size":"13px"}},e.toDisplayString(s.detail_data.ages),1)])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"mian_price_line"},[e.createElementVNode("view",{style:{"padding-right":"30px",color:"#a09d9d"}},e.toDisplayString(s.detail_data.isfar+"km "+t.$t("nearby.actie_time2s")+s.detail_data.istime+t.$t("nearby.actie_time2")+s.detail_data.ispepole+t.$t("nearby.like_ta")),1)]),e.createElementVNode("view",{class:"main_title",style:{"margin-top":"10px",color:"#2a1468"}},e.toDisplayString(t.$t("nearby.about_me")),1),e.createElementVNode("view",{style:{"padding-bottom":"55px"}},[e.createElementVNode("view",{class:"dangan",style:{color:"#a09d9d"}},e.toDisplayString(s.detail_data.motto),1),s.detail_data.tags?(e.openBlock(),e.createElementBlock("view",{key:0,style:{display:"flex",padding:"10px 0","flex-wrap":"wrap"}},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.detail_data.tags.split(","),((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass("item_"+i),key:i},e.toDisplayString(t),3)))),128))])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"ft_zhaohu_line"},[e.createElementVNode("view",{style:{"margin-right":"5px"},onClick:i[1]||(i[1]=e=>a.bet_talk())},[e.createElementVNode("view",{class:"ft_zh_zi",style:{color:"rgb(248, 186, 53)"}},[e.createElementVNode("view",{class:"cuIcon-commandfill",style:{"margin-right":"5px","font-size":"17px"}}),e.createTextVNode(e.toDisplayString(t.$t("nearby.talk")),1)])]),e.withDirectives(e.createElementVNode("view",{style:{"margin-left":"5px"}},[e.createElementVNode("view",{class:"ft_zh_zi",style:{color:"rgb(250, 84, 124)"}},[e.createElementVNode("view",{class:"cuIcon-likefill",style:{"margin-right":"5px","font-size":"17px"}}),e.createTextVNode(" "+e.toDisplayString(t.$t("nearby.like")),1)])],512),[[e.vShow,1==s.iflike]]),e.withDirectives(e.createElementVNode("view",{style:{"margin-left":"5px"},onClick:i[2]||(i[2]=e=>a.bet_like())},[e.createElementVNode("view",{class:"ft_zh_zi",style:{color:"rgb(250, 84, 124)"}},[e.createElementVNode("view",{class:"cuIcon-like",style:{"margin-right":"5px","font-size":"17px"}}),e.createTextVNode(" "+e.toDisplayString(t.$t("nearby.like")),1)])],512),[[e.vShow,0==s.iflike]])])])])])):(e.openBlock(),e.createElementBlock("view",{key:0},[s.list.length>0?(e.openBlock(),e.createBlock(r,e.mergeProps({key:0,list:s.list},e.toHandlers(a.change),{onImage:a.clickImage,onSee_more:a.show_detail,onOpenpop:a.open_pop,onBet_like:a.bet_like}),null,16,["list","onImage","onSee_more","onOpenpop","onBet_like"])):e.createCommentVNode("",!0)])),e.withDirectives(e.createElementVNode("view",null,[e.createElementVNode("view",{class:"com_bg"}),e.createElementVNode("view",{class:"com_main"},[e.createElementVNode("view",{class:"pop_mian"},[e.createElementVNode("view",{class:"pop_title"},e.toDisplayString(t.$t("pop.title")),1),e.createElementVNode("view",{style:{padding:"10px 15px","line-height":"25px","flex-wrap":"wrap","text-align":"center"}},e.toDisplayString(s.notice_content),1),e.createElementVNode("view",{class:"pop_foot"},[1==s.notice_type?(e.openBlock(),e.createElementBlock("view",{key:0,class:"pop_ft_btn1",onClick:i[3]||(i[3]=e=>s.pop_notice=!1)},e.toDisplayString(t.$t("pop.close")),1)):e.createCommentVNode("",!0),1==s.notice_type?(e.openBlock(),e.createElementBlock("view",{key:1,class:"pop_ft_btn2",onClick:i[4]||(i[4]=e=>a.pop_ok())},e.toDisplayString(t.$t("pop.up")),1)):e.createCommentVNode("",!0),2==s.notice_type?(e.openBlock(),e.createElementBlock("view",{key:2,class:"pop_ft_btn2",onClick:i[5]||(i[5]=e=>s.pop_notice=!1)},e.toDisplayString(t.$t("pop.ok")),1)):e.createCommentVNode("",!0)])])])],512),[[e.vShow,s.pop_notice]]),e.withDirectives(e.createElementVNode("view",null,[e.createElementVNode("view",{class:"com_bg",onClick:i[6]||(i[6]=e=>s.show_talk=!1)}),e.createElementVNode("view",{class:"talk_mian"},[e.createElementVNode("view",{style:{width:"90%",margin:"auto"}},[e.createElementVNode("view",{class:"talk_ico"},[null!==s.talk_data.avatar?(e.openBlock(),e.createElementBlock("image",{key:0,src:s.talk_data.avatar,style:{width:"100%","border-radius":"50%"},mode:"widthFix"},null,8,["src"])):(e.openBlock(),e.createElementBlock("image",{key:1,src:st,style:{width:"100%","border-radius":"50%"},mode:"widthFix"}))]),e.createElementVNode("view",{class:"talk_name"},e.toDisplayString(s.talk_data.realname),1),e.createElementVNode("view",{class:"talk_desc"},[0==s.talk_data.sex?(e.openBlock(),e.createElementBlock("view",{key:0,class:"talk_sex p_type1",style:{height:"20px"}},[e.createElementVNode("view",{class:"sex_ico"},[e.createElementVNode("image",{src:et,style:{width:"100%"},mode:"widthFix"})]),0!==s.talk_data.ages&&null!==s.talk_data.ages?(e.openBlock(),e.createElementBlock("view",{key:0,style:{"font-weight":"normal","font-size":"13px"}},e.toDisplayString(s.talk_data.ages),1)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),1==s.talk_data.sex?(e.openBlock(),e.createElementBlock("view",{key:1,class:"talk_sex p_type1",style:{height:"20px"}},[e.createElementVNode("view",{class:"sex_ico"},[e.createElementVNode("image",{src:tt,style:{width:"100%"},mode:"widthFix"})]),0!==s.talk_data.ages&&null!==s.talk_data.ages?(e.openBlock(),e.createElementBlock("view",{key:0,style:{"font-weight":"normal","font-size":"13px"}},e.toDisplayString(s.talk_data.ages),1)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),2==s.talk_data.sex&&0!==s.talk_data.ages&&null!==s.talk_data.ages?(e.openBlock(),e.createElementBlock("view",{key:2,class:"talk_sex p_type3",style:{height:"20px"}},[e.createElementVNode("view",{style:{"font-weight":"normal","font-size":"13px"}},e.toDisplayString(s.talk_data.ages),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"talk_sex p_type3",style:{height:"20px"}},[21==s.talk_data.islevel?(e.openBlock(),e.createElementBlock("view",{key:0,style:{"font-weight":"normal"}},"VIP")):e.createCommentVNode("",!0),22==s.talk_data.islevel?(e.openBlock(),e.createElementBlock("view",{key:1,style:{"font-weight":"normal"}},"SVIP")):e.createCommentVNode("",!0),23==s.talk_data.islevel?(e.openBlock(),e.createElementBlock("view",{key:2,style:{"font-weight":"normal"}},"BVIP")):e.createCommentVNode("",!0)])]),e.createElementVNode("view",{class:"talk_form"},[e.createElementVNode("view",{style:{"padding-left":"10px"}},[e.withDirectives(e.createElementVNode("input",{placeholder:"随意打个招呼吧",style:{height:"32px","font-size":"14px"},maxlength:"32",name:"input","onUpdate:modelValue":i[7]||(i[7]=e=>s.send_content=e)},null,512),[[e.vModelText,s.send_content]])]),e.createElementVNode("view",null,[e.createElementVNode("button",{class:"cu-btn bg-blue shadow",onClick:i[8]||(i[8]=e=>a.check_if_friend(s.talk_data.user_id))},"发送")])])])])],512),[[e.vShow,s.show_talk]])])}],["__scopeId","data-v-9284499f"]]),lt=we(he),ct=me(he),{unread:dt,sysUnread:ut}=L(lt),mt={data:()=>({keyIndex:1,pop_notice:!1,hackReset:!1,loginStore:ct,globalConfig:ct.globalConfig,appSetting:ct.appSetting,PageCur:"mine",navList:[],balance:"0.00",flow_data:{}}),onShow(){this.navList=[{name:"home",title:this.$t("nav.home"),notice:0},{name:"message",title:this.$t("nav.message"),notice:dt},{name:"serve",title:this.$t("nav.serve"),notice:0},{name:"contacts",title:this.$t("nav.contacts"),notice:ut},{name:"mine",title:this.$t("nav.mine"),notice:0}]},mounted(){uni.getStorageSync("allContacts").length||this.initContacts(),uni.$on("socketStatus",(e=>{e&&this.initContacts()}));var e=document.getElementsByClassName("uni-page-head-hd")[0];e&&(e.style.display="none"),this.get_userinfo()},methods:{async get_balance(){const e=await this.$myRuquest({url:"/api/front/user/getUserInfo",method:"POST"});200==e.code&&(this.flow_data=e.data,this.balance=e.data.balance)},async get_userinfo(){let e=JSON.parse(JSON.stringify(ct.userInfo));const t=await this.$myRuquest({url:"/api/front/index/getImUserInfo",method:"POST",data:{user_id:e.user_id}});if(200==t.code){let e=JSON.parse(JSON.stringify(t.data));ct.login(e),this.get_balance()}},to_like(e){let t=JSON.parse(JSON.stringify(ct.userInfo));if(1==e){if(0==t.islevel&&0==t.role)return void(this.pop_notice=!0);uni.navigateTo({url:"/pages/mine/like/like_me"})}else uni.navigateTo({url:"/pages/mine/like/like"})},NavChange(e){"message"==e.name?uni.navigateTo({url:"/pages/index/mv_index"}):"contacts"==e.name?uni.switchTab({url:"/pages/contacts/index"}):"compass"==e.name?uni.navigateTo({url:"/pages/compass/index"}):"home"==e.name?uni.switchTab({url:"/pages/index/index"}):"serve"==e.name&&uni.navigateTo({url:"/pages/movie/kefu/kefu"})},initContacts(){this.modelName="",this.$api.msgApi.initContacts().then((e=>{lt.sysUnread=e.count,lt.initContacts(e.data)}))},logout(){let e=uni.getStorageSync("client_id");this.$api.LoginApi.logout({client_id:e}).then((e=>{0==e.code&&ct.logout()})),uni.removeStorageSync("allContacts"),uni.removeStorageSync("ifLogin"),uni.removeStorageSync("iffirst")},about(){if(this.globalConfig&&this.globalConfig.demon_mode){let e="https://im.raingad.com";uni.navigateTo({url:"/pages/mine/webview?src="+e})}else uni.navigateTo({url:"/pages/mine/about"})},showSetting(){uni.navigateTo({url:"/pages/mine/setting"})},showsecure(){uni.navigateTo({url:"/pages/mine/secure"})},editInfo(){uni.navigateTo({url:"/pages/mine/profile"})},editInfo_msg(){uni.navigateTo({url:"/pages/mine/profile_msg"})},edit_renzheng(){null===this.flow_data.agent_account?uni.navigateTo({url:"/pages/mine/renzheng"}):uni.showToast({title:this.$t("usercenter.vip_p_pop_6"),icon:"none"})},scan(){Le.scanQr()},openQr(){uni.navigateTo({url:"/pages/index/qrcode"})},to_vip(){uni.navigateTo({url:"/pages/mine/vip/vip"})}}};const ht=o(mt,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!1},{content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("usercenter.title")),1)])),_:1}),e.createElementVNode("view",{class:"padding flex im-space-between im-align-items-center bg-white mb-10"},[e.createElementVNode("view",{class:"flex justify-start bg-white",onClick:i[0]||(i[0]=e=>a.editInfo())},[e.createElementVNode("view",{class:e.normalizeClass(["cu-avatar lg mr-15",s.appSetting.circleAvatar?"round":"radius"]),style:e.normalizeStyle([{backgroundImage:"url("+s.loginStore.userInfo.avatar+")"}])},null,6),e.createElementVNode("view",{class:"im-flex im-justify-content-start im-columns"},[e.createElementVNode("view",{class:"mb-5 f-18 mb-10 im-flex im-align-items-center"},[e.createElementVNode("view",{class:"c-333"},e.toDisplayString(s.loginStore.userInfo.realname),1)]),e.createElementVNode("view",{class:"mb-10",style:{"text-decoration":"none",display:"flex","align-items":"center"}},[e.createElementVNode("view",{class:"text-gray"}),e.createTextVNode(e.toDisplayString(s.loginStore.userInfo.account)+" ",1),e.createElementVNode("view",{class:"text-pink",style:{"padding-left":"10px"}},e.toDisplayString(t.$t("mine.jifen"))+"："+e.toDisplayString(s.balance),1)])])])]),e.createElementVNode("view",{class:"vip_are_P",onClick:i[1]||(i[1]=(...e)=>a.to_vip&&a.to_vip(...e))},[e.createElementVNode("view",{class:"vip_are_m"},[e.createElementVNode("view",{class:"vip_are_tit"},e.toDisplayString(t.$t("usercenter.vip_title")),1),e.createElementVNode("view",{class:"vip_are_p"},e.toDisplayString(t.$t("usercenter.vip_desc")),1)]),e.createElementVNode("image",{src:"/static/image/vip_me.png",mode:"widthFix",style:{width:"100%","max-height":"100px"}})]),e.createElementVNode("view",{class:"cu-list menu"},[e.createElementVNode("view",{class:"cu-item",onClick:i[2]||(i[2]=e=>a.edit_renzheng())},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("text",{class:"cuIcon-vip text-pink"}),e.createElementVNode("text",null,e.toDisplayString(t.$t("usercenter.l_nav6")),1)]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("text",{class:"text-grey cuIcon-right"})])]),e.createElementVNode("view",{class:"cu-item",onClick:i[3]||(i[3]=e=>a.editInfo_msg())},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("text",{class:"cuIcon-newsfill text-red"}),e.createElementVNode("text",null,e.toDisplayString(t.$t("usercenter.l_nav5")),1)]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("text",{class:"text-grey cuIcon-right"})])]),e.createElementVNode("view",{class:"cu-item",onClick:i[4]||(i[4]=e=>a.to_like(1))},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("text",{class:"cuIcon-likefill text-red"}),e.createElementVNode("text",null,e.toDisplayString(t.$t("usercenter.l_nav1")),1)]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("text",{class:"text-grey cuIcon-right"})])]),e.createElementVNode("view",{class:"cu-item",onClick:i[5]||(i[5]=e=>a.to_like(2))},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("text",{class:"cuIcon-emojiflashfill text-pink"}),e.createElementVNode("text",null,e.toDisplayString(t.$t("usercenter.l_nav2")),1)]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("text",{class:"text-grey cuIcon-right"})])]),e.createElementVNode("view",{class:"cu-item",onClick:i[6]||(i[6]=(...e)=>a.showSetting&&a.showSetting(...e))},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("text",{class:"cuIcon-settings text-grey"}),e.createElementVNode("text",null,e.toDisplayString(t.$t("usercenter.l_nav3")),1)]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("text",{class:"text-grey cuIcon-right"})])]),e.createElementVNode("view",{class:"cu-item",onClick:i[7]||(i[7]=(...e)=>a.showsecure&&a.showsecure(...e))},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("text",{class:"cuIcon-safe text-orange"}),e.createElementVNode("text",null,e.toDisplayString(t.$t("usercenter.l_nav4")),1)]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("text",{class:"text-grey cuIcon-right"})])])]),e.createElementVNode("view",{class:"padding flex flex-direction"},[e.createElementVNode("button",{class:"cu-btn bg-red lg",onClick:i[8]||(i[8]=e=>a.logout())},e.toDisplayString(t.$t("usercenter.login_put")),1)]),e.createElementVNode("view",{class:"cu-bar tabbar bg-white shadow foot"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.navList,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:"action",onClick:e=>a.NavChange(t),key:i,"data-cur":"message"},[e.createElementVNode("view",{class:"cuIcon-cu-image"},[e.createElementVNode("image",{src:"/static/image/tabbar/"+[t.name]+[s.PageCur==t.name?"-active":""]+".svg"},null,8,["src"]),t.notice>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cu-tag badge"},e.toDisplayString(t.notice),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:e.normalizeClass(s.PageCur==t.name?"text-mauve":"text-black")},e.toDisplayString(t.title),3)],8,["onClick"])))),128))]),e.withDirectives(e.createElementVNode("view",null,[e.createElementVNode("view",{class:"com_bg"}),e.createElementVNode("view",{class:"com_main"},[e.createElementVNode("view",{class:"pop_mian"},[e.createElementVNode("view",{class:"pop_title"},e.toDisplayString(t.$t("pop.title")),1),e.createElementVNode("view",{style:{padding:"10px 15px",display:"flex","justify-content":"flex-start","line-height":"25px","flex-wrap":"wrap"}},e.toDisplayString(t.$t("pop.content1")),1),e.createElementVNode("view",{class:"pop_foot"},[e.createElementVNode("view",{class:"pop_ft_btn1",onClick:i[9]||(i[9]=e=>s.pop_notice=!1)},e.toDisplayString(t.$t("pop.close")),1),e.createElementVNode("view",{class:"pop_ft_btn2",onClick:i[10]||(i[10]=e=>t.pop_ok())},e.toDisplayString(t.$t("pop.up")),1)])])])],512),[[e.vShow,s.pop_notice]])])}],["__scopeId","data-v-20837b02"]]),pt=we(he),gt=me(he),{unread:ft,sysUnread:vt}=L(pt),_t={components:{message:Ne,contacts:Ae,compass:ze,mine:ht,movice:Ge,opengroup:Xe,bet:Ze,nearby:rt},watch:{},data(){return this.$t("nav.home"),this.$t("nav.message"),this.$t("nav.serve"),this.$t("nav.contacts"),this.$t("nav.mine"),this.$t("nav.contacts"),this.$t("nav.mine"),{globalConfig:gt.globalConfig,PageCur:"home",PageName:this.$t("nav.home"),TabCur:0,modelName:!1,navList:[],userinfo:{},tabs:0,run_fun:!0,tabs_arr:[]}},onShow(){this.PageName=this.$t("nav.home"),this.navList=[{name:"home",title:this.$t("nav.home"),notice:0},{name:"message",title:this.$t("nav.message"),notice:ft},{name:"serve",title:this.$t("nav.serve"),notice:0},{name:"contacts",title:this.$t("nav.contacts"),notice:vt},{name:"mine",title:this.$t("nav.mine"),notice:0}],this.tabs_arr=[{id:1,name:this.$t("tab_nav.nav1"),ifshow:!1},{id:2,name:this.$t("tab_nav.nav2"),ifshow:!1},{id:3,name:this.$t("tab_nav.nav3"),ifshow:!1},{id:4,name:this.$t("tab_nav.nav4"),ifshow:!1}]},onLoad(){},mounted(){this.$refs.child_action.get_banner(1),this.$refs.child_action.get_notice(2),this.$refs.child_action.getList(1,6,1),this.$refs.child_action.getList(2,10,2),uni.hideTabBar(),this.initContacts(),uni.$on("socketStatus",(e=>{e&&this.initContacts()})),this.userinfo=uni.getStorageSync("userInfo")},methods:{to_bottom(){setTimeout((()=>{uni.pageScrollTo({scrollTop:document.querySelector(".scroll_main").scrollHeight-102,duration:0})}),100)},run_child(){""!==uni.getStorageSync("iffirst")&&(this.$refs.child_action.get_banner(1),this.$refs.child_action.getList(1,6,1),this.$refs.child_action.getList(2,10,2),uni.setStorageSync("iffirst",!0))},closeModel(){this.modelName=!1},scan(){Le.scanQr()},NavChange:function(e){"mine"==e.name?uni.navigateTo({url:"/pages/mine/index"}):"message"==e.name?uni.navigateTo({url:"/pages/index/mv_index"}):"contacts"==e.name?uni.switchTab({url:"/pages/contacts/index"}):"compass"==e.name?uni.navigateTo({url:"/pages/compass/index"}):"serve"==e.name?uni.navigateTo({url:"/pages/movie/kefu/kefu"}):(this.PageCur=e.name,this.PageName=e.title)},showContacts(){1==this.TabCur?this.TabCur=0:this.TabCur=1},initContacts(){this.modelName="",this.$api.msgApi.initContacts().then((e=>{pt.sysUnread=e.count,pt.initContacts(e.data)}))},addGroup(){uni.navigateTo({url:"/pages/index/userSelection?type=1"})},addFriend(){uni.navigateTo({url:"/pages/contacts/search"})},search(){const e="message"==this.PageCur?1:2;uni.navigateTo({url:"/pages/index/search?type="+e})},tab_change(e){this.tabs=e,this.PageName=this.tabs_arr[e].name,this.run_fun=!1,0==e&&(this.run_fun=!0,this.$refs.child_action.get_userinfo()),2==e&&this.$refs.bet_action.run_fun()}}};const yt=o(_t,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom"),l=e.resolveComponent("movice"),c=e.resolveComponent("opengroup"),d=e.resolveComponent("bet"),u=e.resolveComponent("nearby");return e.openBlock(),e.createElementBlock("view",{class:"scroll_main"},[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!1},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(s.PageName),1)])),_:1}),e.createElementVNode("view",{class:"tab_mline"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.tabs_arr,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["tab_mline_zi",{tab_hover:s.tabs==i}]),key:i,onClick:e=>a.tab_change(i)},e.toDisplayString(t.name),11,["onClick"])))),128))]),e.createElementVNode("view",null,[e.withDirectives(e.createVNode(l,{run:s.run_fun,ref:"child_action"},null,8,["run"]),[[e.vShow,0==s.tabs]]),1==s.tabs?(e.openBlock(),e.createBlock(c,{key:0})):e.createCommentVNode("",!0),e.withDirectives(e.createVNode(d,{ref:"bet_action"},null,512),[[e.vShow,2==s.tabs]]),3==s.tabs?(e.openBlock(),e.createBlock(u,{key:1,onTo_bottom:a.to_bottom},null,8,["onTo_bottom"])):e.createCommentVNode("",!0)]),3!=s.tabs?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cu-bar tabbar bg-white shadow foot"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.navList,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:"action",onClick:e=>a.NavChange(t),key:i,"data-cur":"message"},[e.createElementVNode("view",{class:"cuIcon-cu-image"},[e.createElementVNode("image",{src:"/static/image/tabbar/"+[t.name]+[s.PageCur==t.name?"-active":""]+".svg"},null,8,["src"]),t.notice>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cu-tag badge"},e.toDisplayString(t.notice),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:e.normalizeClass(s.PageCur==t.name?"text-mauve":"text-black")},e.toDisplayString(t.title),3)],8,["onClick"])))),128))])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass(["cu-modal bottom-modal","add"==s.modelName?"show":""]),onClick:i[4]||(i[4]=e=>s.modelName="")},[e.createElementVNode("view",{class:"cu-dialog"},[e.createElementVNode("view",{class:"manage-content"},[e.createElementVNode("view",{class:"cu-list menu bg-white"},[e.createElementVNode("view",{class:"cu-item",onClick:i[0]||(i[0]=e=>{a.initContacts()})},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("text",{class:"cuIcon-refresh"}),e.createElementVNode("text",null,e.toDisplayString(t.$t("talk.reload")),1)])]),void 0!==s.userinfo.role&&1==s.userinfo.role?(e.openBlock(),e.createElementBlock("view",{key:0},[2==s.globalConfig.sysInfo.runMode?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cu-item",onClick:i[1]||(i[1]=e=>a.addFriend())},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("text",{class:"cuIcon-friendadd"}),e.createElementVNode("text",null,e.toDisplayString(t.$t("talk.add_friend")),1)])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"cu-item",onClick:i[2]||(i[2]=e=>a.addGroup())},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("text",{class:"cuIcon-friend"}),e.createElementVNode("text",null,e.toDisplayString(t.$t("talk.new_group")),1)])])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"parting-line-5"}),e.createElementVNode("view",{class:"cu-item",onClick:i[3]||(i[3]=e=>s.modelName="")},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("text",{class:"c-red"},e.toDisplayString(t.$t("talk.close")),1)])])])])])],2)])}],["__scopeId","data-v-c9c86e8f"]]),wt=we(he),kt=me(he),{unread:xt,sysUnread:bt}=L(wt),Ct={components:{message:Ne,contacts:Ae,compass:ze,mine:ht},data(){return{globalConfig:kt.globalConfig,PageCur:"message",PageName:this.$t("nav.message"),TabCur:0,modelName:!1,navList:[],userinfo:{},tabs:0,tabs_arr:[{id:1,name:"影院",ifshow:!1},{id:2,name:"群",ifshow:!1},{id:3,name:"探索",ifshow:!1},{id:4,name:"附近的人",ifshow:!1}]}},onShow(){this.navList=[{name:"home",title:this.$t("nav.home"),notice:0},{name:"message",title:this.$t("nav.message"),notice:xt},{name:"serve",title:this.$t("nav.serve"),notice:0},{name:"contacts",title:this.$t("nav.contacts"),notice:bt},{name:"mine",title:this.$t("nav.mine"),notice:0}]},onLoad(){},mounted(){uni.hideTabBar(),uni.getStorageSync("allContacts").length||this.initContacts(),uni.$on("socketStatus",(e=>{e&&this.initContacts()})),this.userinfo=uni.getStorageSync("userInfo")},methods:{closeModel(){this.modelName=!1},scan(){Le.scanQr()},NavChange:function(e){"mine"==e.name?uni.navigateTo({url:"/pages/mine/index"}):"contacts"==e.name?uni.switchTab({url:"/pages/contacts/index"}):"compass"==e.name?uni.navigateTo({url:"/pages/compass/index"}):"serve"==e.name?uni.navigateTo({url:"/pages/movie/kefu/kefu"}):"home"==e.name&&uni.switchTab({url:"/pages/index/index"})},showContacts(){1==this.TabCur?this.TabCur=0:this.TabCur=1},initContacts(){this.modelName="",this.$api.msgApi.initContacts().then((e=>{wt.sysUnread=e.count,wt.initContacts(e.data)}))},addGroup(){uni.navigateTo({url:"/pages/index/userSelection?type=1"})},addFriend(){uni.navigateTo({url:"/pages/contacts/search"})},search(){const e="message"==this.PageCur?1:2;uni.navigateTo({url:"/pages/index/search?type="+e})},tab_change(e){this.tabs=e}}};const Bt=o(Ct,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom"),l=e.resolveComponent("message"),c=e.resolveComponent("contacts");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink"},{backText:e.withCtx((()=>["message"==s.PageCur||"contacts"==s.PageCur?(e.openBlock(),e.createElementBlock("view",{key:0,class:"f-20 ml-10 mr-10",onClick:i[0]||(i[0]=e=>a.search())},[e.createElementVNode("text",{class:"cuIcon-search",style:{"margin-left":"-10px"}})])):e.createCommentVNode("",!0)])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(s.PageName),1)])),right:e.withCtx((()=>["contacts"==s.PageCur&&s.globalConfig&&s.globalConfig.demon_mode?(e.openBlock(),e.createElementBlock("view",{key:0,class:"f-20 ml-10 mr-10",onClick:i[1]||(i[1]=e=>a.showContacts())},[e.createElementVNode("text",{class:e.normalizeClass(["f-24",s.TabCur?"cuIcon-peoplelist":"cuIcon-friend"])},null,2)])):e.createCommentVNode("",!0),"message"==s.PageCur?(e.openBlock(),e.createElementBlock("view",{key:1,class:"f-20 ml-10 mr-10",onClick:i[2]||(i[2]=e=>s.modelName="add")},[e.createElementVNode("text",{class:"cuIcon-add f-28"})])):e.createCommentVNode("",!0)])),_:1}),e.createElementVNode("view",null,["message"==s.PageCur?(e.openBlock(),e.createBlock(l,{key:0})):e.createCommentVNode("",!0),"contacts"==s.PageCur?(e.openBlock(),e.createBlock(c,{key:1,TabCur:s.TabCur},null,8,["TabCur"])):e.createCommentVNode("",!0)]),(e.openBlock(),e.createElementBlock("view",{class:"cu-bar tabbar bg-white shadow foot",key:t.keyIndex},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.navList,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:"action",onClick:e=>a.NavChange(t),"data-cur":"message"},[e.createElementVNode("view",{class:"cuIcon-cu-image"},[e.createElementVNode("image",{src:"/static/image/tabbar/"+[t.name]+[s.PageCur==t.name?"-active":""]+".svg"},null,8,["src"]),t.notice>0?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cu-tag badge"},e.toDisplayString(t.notice),1)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:e.normalizeClass(s.PageCur==t.name?"text-mauve":"text-black")},e.toDisplayString(t.title),3)],8,["onClick"])))),256))])),e.createElementVNode("view",{class:e.normalizeClass(["cu-modal bottom-modal","add"==s.modelName?"show":""]),onClick:i[7]||(i[7]=e=>s.modelName="")},[e.createElementVNode("view",{class:"cu-dialog"},[e.createElementVNode("view",{class:"manage-content"},[e.createElementVNode("view",{class:"cu-list menu bg-white"},[e.createElementVNode("view",{class:"cu-item",onClick:i[3]||(i[3]=e=>{a.initContacts()})},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("text",{class:"cuIcon-refresh"}),e.createElementVNode("text",null,e.toDisplayString(t.$t("talk.reload")),1)])]),void 0!==s.userinfo.role&&1==s.userinfo.role?(e.openBlock(),e.createElementBlock("view",{key:0},[2==s.globalConfig.sysInfo.runMode?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cu-item",onClick:i[4]||(i[4]=e=>a.addFriend())},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("text",{class:"cuIcon-friendadd"}),e.createElementVNode("text",null,e.toDisplayString(t.$t("talk.add_friend")),1)])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"cu-item",onClick:i[5]||(i[5]=e=>a.addGroup())},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("text",{class:"cuIcon-friend"}),e.createElementVNode("text",null,e.toDisplayString(t.$t("talk.new_group")),1)])])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"parting-line-5"}),e.createElementVNode("view",{class:"cu-item",onClick:i[6]||(i[6]=e=>s.modelName="")},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("text",{class:"c-red"},e.toDisplayString(t.$t("talk.close")),1)])])])])])],2)])}],["__scopeId","data-v-9d1c0f54"]]),Nt=["{","}"];const St=/^(?:\d)+/,Et=/^(?:\w)+/;const Vt="zh-Hans",Tt="zh-Hant",It="en",Pt=Object.prototype.hasOwnProperty,Dt=(e,t)=>Pt.call(e,t),At=new class{constructor(){this._caches=Object.create(null)}interpolate(e,t,i=Nt){if(!t)return[e];let o=this._caches[e];return o||(o=function(e,[t,i]){const o=[];let n=0,s="";for(;n<e.length;){let a=e[n++];if(a===t){s&&o.push({type:"text",value:s}),s="";let t="";for(a=e[n++];void 0!==a&&a!==i;)t+=a,a=e[n++];const r=a===i,l=St.test(t)?"list":r&&Et.test(t)?"named":"unknown";o.push({value:t,type:l})}else s+=a}return s&&o.push({type:"text",value:s}),o}(e,i),this._caches[e]=o),function(e,t){const i=[];let o=0;const n=Array.isArray(t)?"list":(s=t,null!==s&&"object"==typeof s?"named":"unknown");var s;if("unknown"===n)return i;for(;o<e.length;){const s=e[o];switch(s.type){case"text":i.push(s.value);break;case"list":i.push(t[parseInt(s.value,10)]);break;case"named":"named"===n&&i.push(t[s.value])}o++}return i}(o,t)}};function $t(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if("chinese"===(e=e.toLowerCase()))return Vt;if(0===e.indexOf("zh"))return e.indexOf("-hans")>-1?Vt:e.indexOf("-hant")>-1?Tt:(i=e,["-tw","-hk","-mo","-cht"].find((e=>-1!==i.indexOf(e)))?Tt:Vt);var i;let o=[It,"fr","es"];t&&Object.keys(t).length>0&&(o=Object.keys(t));const n=function(e,t){return t.find((t=>0===e.indexOf(t)))}(e,o);return n||void 0}class Lt{constructor({locale:e,fallbackLocale:t,messages:i,watcher:o,formater:n}){this.locale=It,this.fallbackLocale=It,this.message={},this.messages={},this.watchers=[],t&&(this.fallbackLocale=t),this.formater=n||At,this.messages=i||{},this.setLocale(e||It),o&&this.watchLocale(o)}setLocale(e){const t=this.locale;this.locale=$t(e,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],t!==this.locale&&this.watchers.forEach((e=>{e(this.locale,t)}))}getLocale(){return this.locale}watchLocale(e){const t=this.watchers.push(e)-1;return()=>{this.watchers.splice(t,1)}}add(e,t,i=!0){const o=this.messages[e];o?i?Object.assign(o,t):Object.keys(t).forEach((e=>{Dt(o,e)||(o[e]=t[e])})):this.messages[e]=t}f(e,t,i){return this.formater.interpolate(e,t,i).join("")}t(e,t,i){let o=this.message;return"string"==typeof t?(t=$t(t,this.messages))&&(o=this.messages[t]):i=t,Dt(o,e)?this.formater.interpolate(o[e],i).join(""):(console.warn(`Cannot translate the value of keypath ${e}. Use the value of keypath as default.`),e)}}function Mt(e,t={},i,o){"string"!=typeof e&&([e,t]=[t,e]),"string"!=typeof e&&(e="undefined"!=typeof uni&&uni.getLocale?uni.getLocale():"undefined"!=typeof global&&global.getLocale?global.getLocale():It),"string"!=typeof i&&(i="undefined"!=typeof __uniConfig&&__uniConfig.fallbackLocale||It);const n=new Lt({locale:e,fallbackLocale:i,messages:t,watcher:o});let s=(e,t)=>{if("function"!=typeof getApp)s=function(e,t){return n.t(e,t)};else{let e=!1;s=function(t,i){const o=getApp().$vm;return o&&(o.$locale,e||(e=!0,function(e,t){e.$watchLocale?e.$watchLocale((e=>{t.setLocale(e)})):e.$watch((()=>e.$locale),(e=>{t.setLocale(e)}))}(o,n))),n.t(t,i)}}return s(e,t)};return{i18n:n,f:(e,t,i)=>n.f(e,t,i),t:(e,t)=>s(e,t),add:(e,t,i=!0)=>n.add(e,t,i),watch:e=>n.watchLocale(e),getLocale:()=>n.getLocale(),setLocale:e=>n.setLocale(e)}}const Ot={en:{"uni-load-more.contentdown":"Pull up to show more","uni-load-more.contentrefresh":"loading...","uni-load-more.contentnomore":"No more data"},"zh-Hans":{"uni-load-more.contentdown":"上拉显示更多","uni-load-more.contentrefresh":"正在加载...","uni-load-more.contentnomore":"没有更多数据了"},"zh-Hant":{"uni-load-more.contentdown":"上拉顯示更多","uni-load-more.contentrefresh":"正在加載...","uni-load-more.contentnomore":"沒有更多數據了"}};let Ft;setTimeout((()=>{Ft=uni.getSystemInfoSync().platform}),16);const{t:Ut}=Mt(Ot);const Rt=o({name:"UniLoadMore",emits:["clickLoadMore"],props:{status:{type:String,default:"more"},showIcon:{type:Boolean,default:!0},iconType:{type:String,default:"auto"},iconSize:{type:Number,default:24},color:{type:String,default:"#777777"},contentText:{type:Object,default:()=>({contentdown:"",contentrefresh:"",contentnomore:""})},showText:{type:Boolean,default:!0}},data:()=>({webviewHide:!1,platform:Ft,imgBase64:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QzlBMzU3OTlEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QzlBMzU3OUFEOUM0MTFFOUI0NTZDNERBQURBQzI4RkUiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpDOUEzNTc5N0Q5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpDOUEzNTc5OEQ5QzQxMUU5QjQ1NkM0REFBREFDMjhGRSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/Pt+ALSwAAA6CSURBVHja1FsLkFZVHb98LM+F5bHL8khA1iSeiyQBCRM+YGqKUnnJTDLGI0BGZlKDIU2MMglUiDApEZvSsZnQtBRJtKwQNKQMFYeRDR10WOLd8ljYXdh+v8v5fR3Od+797t1dnOnO/Ofce77z+J//+b/P+ZqtXbs2sJ9MJhNUV1cHJ06cCJo3bx7EPc2aNcvpy7pWrVoF+/fvDyoqKoI2bdoE9fX1F7TjN8a+EXBn/fkfvw942Tf+wYMHg9mzZwfjxo0LDhw4EPa1x2MbFw/fOGfPng1qa2tzcCkILsLDydq2bRsunpOTMM7TD/W/tZDZhPdeKD+yGxHhdu3aBV27dg3OnDlzMVANMheLAO3btw8KCwuDmpoaX5OxbgUIMEq7K8IcPnw4KCsrC/r37x8cP378/4cAXAB3vqSkJMuiDhTkw+XcuXNhOWbMmKBly5YhUT8xArhyFvP0BfwRsAuwxJZJsm/nzp2DTp06he/OU+cZ64K6o0ePBkOHDg2GDx8e6gEbJ5Q/NHNuAJQ1hgBeHUDlR7nVTkY8rQAvAi4z34vR/mPs1FoRsaCgIJThI0eOBC1atEiFGGV+5MiRoS45efJkqFjJFXV1dQuA012m2WcwTw98fy6CqBdsaiIO4CScrGPHjvk4odhavPquRtFWXEC25VgkREKOCh/qDSq+vn37htzD/mZTOmOc5U7zKzBPEedygWshcDyWvs30igAbU+6oyMgJBCFhwQE0fccxN60Ay9iebbjoDh06hMowjQxT4fXq1SskArmHZpkArvixp/kWzHdMeArExSJEaiXIjjRjRJ4DaAGWpibLzXN3Fm1vA5teBgh3j1Rv3bp1YgKwPdmf2p9zcyNYYgPKMfY0T5f5nNYdw158nJ8QawW4CLKwiOBSEgO/hok2eBydR+3dYH+PLxA5J8Vv0KBBwenTp0P2JWAx6+yFEBfs8lMY+y0SWMBNI9E4ThKi58VKTg3FQZS1RQF1cz27eC0QHMu+3E0SkUowjhVt5VdaWhp07949ZHv2Qd1EjDXM2cla1M0nl3GxAs3J9yREzyTdFVKVFOaE9qRA8GM0WebRuo9JGZKA7Mv2SeS/Z8+eoQ9BArMfFrLGo6jvxbhHbJZnKX2Rzz1O7QhJJ9Cs2ZMaWIyq/zhdeqPNfIoHd58clIQD+JSXl4dKlyIAuBdVXZwFVWKspSSoxE++h8x4k3uCnEhE4I5KwRiFWGOU0QWKiCYLbdoRMRKAu2kQ9vkfLU6dOhX06NEjlH+yMRZSinnuyWnYosVcji8CEA/6Cg2JF+IIUBqnGKUTCNwtwBN4f89RiK1R96DEgO2o0NDmtEdvVFdVVYV+P3UAPUEs6GFwV3PHmXkD4vh74iDFJysVI/MlaQhwKeBNTLYX5VuA8T4/gZxA4MRGFxDB6R7OmYPfyykGRJbyie+XnGYnQIC/coH9+vULiYrxrkL9ZA9+0ykaHIfEpM7ge8TiJ2CsHYwyMfafAF1yCGBHYIbCVDjDjKt7BeB51D+LgQa6OkG7IDYEEtvQ7lnXLKLtLdLuJBpE4gPUXcW2+PkZwOex+4cGDhwYDBkyRL7/HFcEwUGPo/8uWRUpYnfxGHco8HkewLHLyYmAawAPuIFZxhOpDfJQ8gbUv41yORAptMWBNr6oqMhWird5+u+iHmBb2nhjDV7HWBNQTgK8y11l5NetWzc5ULscAtSj7nbNI0skhWeUZCc0W4nyH/jO4Vz0u1IeYhbk4AiwM6tjxIWByHsoZ9qcIBPJd/y+DwPfBESOmCa/QF3WiZHucLlEDpNxcNhmheEOPgdQNx6/VZFQzFZ5TN08AHXQt2Ii3EdyFuUsPtTcGPhW5iMiCNELvz+Gdn9huG4HUJaW/w3g0wxV0XaG7arG2WeKiUWYM4Y7GO5ezshTARbbWGw/DvXkpp/ivVvE0JVoMxN4rpGzJMhE5Pl+xlATsDIqikP9F9D2z3h9nOksEUFhK+qO4rcPkoalMQ/HqJLIyb3F3JdjrCcw1yZ8joyJLR5gCo54etlag7qIoeNh1N1BRYj3DTFJ0elotxPlVzkGuYAmL0VSJVGAJA41c4Z6A3BzTLfn0HYwYKEI6CUAMzZEWvLsIcQOo1AmmyyM72nHJCfYsogflGV6jEk9vyQZXSuq6w4c16NsGcGZbwOPr+H1RkOk2LEzjNepxQkihHSCQ4ynAYNRx2zMKV92CQMWqj8J0BRE8EShxRFN6YrfCRhC0x3r/Zm4IbQCcmJoV0kMamllccR6FjHqUC5F2R/wS2dcymOlfAKOS4KmzQb5cpNC2MC7JhVn5wjXoJ44rYhLh8n0eXOCorJxa7POjbSlCGVczr34/RsAmrcvo9s+wGp3tzVhntxiXiJ4nvEYb4FJkf0O8HocAePmLvCxnL0AORraVekJk6TYjDabRVXfRE2lCN1h6ZQRN1+InUbsCpKwoBZHh0dODN9JBCUffItXxEavTQkUtnfTVAplCWL3JISz29h4NjotnuSsQKJCk8dF+kJR6RARjrqFVmfPnj3ZbK8cIJ0msd6jgHPGtfVTQ8VLmlvh4mct9sobRmPic0DyDQQnx/NlfYUgyz59+oScsH379pAwXABD32nTpoUHIToESeI5mnbE/UqDdyLcafEBf2MCqgC7NwxIbMREJQ0g4D4sfJwnD+AmRrII05cfMWJE+L1169bQr+fip06dGp4oJ83lmYd5wj/EmMa4TaHivo4EeCguYZBnkB5g2aWA69OIEnUHOaGysjIYMGBAMGnSpODYsWPZwCpFmm4lNq+4gSLQA7jcX8DwtjEyRC8wjabnXEx9kfWnTJkSJkAo90xpJVV+FmcVNeYAF5zWngS4C4O91MBxmAv8blLEpbjI5sz9MTdAhcgkCT1RO8mZkAjfiYpTEvStAS53Uw1vAiUGgZ3GpuQEYvoiBqlIan7kSDHnTwJQFNiPu0+5VxCVYhcZIjNrdXUDdp+Eq5AZ3Gkg8QAyVZRZIk4Tl4QAbF9cXJxNYZMAtAokgs4BrNxEpCtteXg7DDTMDKYNSuQdKsnJBek7HxewvxaosWxLYXtw+cJp18217wql4aKCfBNoEu0O5VU+PhctJ0YeXD4C6JQpyrlpSLTojpGGGN5YwNziChdIZLk4lvLcFJ9jMX3QdiImY9bmGQU+TRUL5CHITTRlgF8D9ouD1MfmLoEPl5xokIumZ2cfgMpHt47IW9N64Hsh7wQYYjyIugWuF5fCqYncXRd5vPMWyizzvhi/32+nvG0dZc9vR6fZOu0md5e+uC408FvKSIOZwXlGvxPv95izA2Vtvg1xKFWARI+vMX66HUhpQQb643uW1bSjuTWyw2SBvDrBvjFic1eGGlz5esq3ko9uSIlBRqPuFcCv8F4WIcN12nVaBd0SaYwI6PDDImR11JkqgHcPmQssjxIn6bUshygDFJUTxPMpHk+jfjPgupgdnYV2R/g7xSjtpah8RJBewhwf0gGK6XI92u4wXFEU40afJ4DN4h5LcAd+40HI3JgJecuT0c062W0i2hQJUTcxan3/CMW1PF2K6bbA+Daz4xRs1D3Br1Cm0OihKCqizW78/nXAF/G5TXrEcVzaNMH6CyMswqsAHqDyDLEyou8lwOXnKF8DjI6KjV3KzMBiXkDH8ij/H214J5A596ekrZ3F0zXlWeL7+P5eUrNo3/QwC15uxthuzidy7DzKRwEDaAViiDgKbTbz7CJnzo0bN7pIfIiid8SuPwn25o3QCmpnyjlZkyxPP8EomCJzrGb7GJMx7tNsq4MT2xMUYaiErZOluTzKsnz3gwCeCZyVRZJfYplNEokEjwrPtxlxjeYAk+F1F74VAzPxQRNYYdtpOUvWs8J1sGhBJMNsb7igN8plJs1eSmLIhLKE4rvaCX27gOhLpLOsIzJ7qn/i+wZzcvSOZ23/du8TZjwV8zHIXoP4R3ifBxiFz1dcVpa3aPntPE+c6TmIWE9EtcMmAcPdWAhYhAXxcLOQi9L1WhD1Sc8p1d2oL7XGiRKp8F4A2i8K/nfI+y/gsTDJ/YC/8+AD5Uh04KHiGl+cIFPnBDDrPMjwRGkLXyxO4VGbfQWnDH2v0bVWE3C9QOXlepbgjEfIJQI6XDG3z5ahD9cw2pS78ipB85wyScNTvsVzlzzhL8/jRrnmVjfFJK/m3m4nj9vbgQTguT8XZTjsm672R5uJKEaQmBI/c58gyus8ZDagLpEVSJBIyHp4jn++xqPV71OgQgJYEWOtZ/haxRtKmWOBu8xdBLftWltsY84zE6WIEy/eIOWL+BaayMx+KHtL7EAkqdNDLiEXmEMUHniedtJqg9HmZtfvt26vNi0BdG3Ft3g8ZOf7PAu59TxtzivLNIekyi+wD1i8CuUiD9FXAa8C+/xS3JPmZnomyc7H+fb4/Se0bk41Fel621r4cgVxbq91V4jVqwB7HTe2M7jgB+QWHavZkDRPmZcASoZEmBx6i75bGjPcMdL4/VKGFAGWZkGzPG0XAbdL9A81G5LOmUnC9hHKJeO7dcUMjblSl12867ElFTtaGl20xvvLGPdVz/8TVuU7y0x1PG7vtNg24oz9Uo/Z412++VFWI7Fcog9tu9Lm6gvRmIPv9x1xmQAu6RDkXtbOtlGEmpgD5Nvnyc0dcv0EE6cfdi1HmhMf9wDF3k3gtRvEedhxjpgfqPb9PU9iEJHnyOUA7bQUXh6kq/D7l2iTjWv7XOD530BDr8jIrus+srXjt4MzumJMHuTsBa63YKE1+RR5lBjEikCCnWKWiHdzOgKO+nRIBAF88za/IFmJ3eMZov4CYxGBabcpGL8EYx+SeMXJeRwHNsV/h+vdxeuhEpN3ZyNY78Gm2fknJxVGhyjixPiQvVkNzT1elD9Py/aTAL64Hb9vcYmC9zfdXdT/C1LeGbg4rnBaAihDFJH12W5ulfNCNe/xTsP3bp8ikzJs5BF+5PNfAQYAPaseTdsEcaYAAAAASUVORK5CYII="}),computed:{iconSnowWidth(){return 2*(Math.floor(this.iconSize/24)||1)},contentdownText(){return this.contentText.contentdown||Ut("uni-load-more.contentdown")},contentrefreshText(){return this.contentText.contentrefresh||Ut("uni-load-more.contentrefresh")},contentnomoreText(){return this.contentText.contentnomore||Ut("uni-load-more.contentnomore")}},mounted(){var e=getCurrentPages(),t=e[e.length-1].$getAppWebview();t.addEventListener("hide",(()=>{this.webviewHide=!0})),t.addEventListener("show",(()=>{this.webviewHide=!1}))},methods:{onClick(){this.$emit("clickLoadMore",{detail:{status:this.status}})}}},[["render",function(t,i,o,n,s,a){return e.openBlock(),e.createElementBlock("view",{class:"uni-load-more",onClick:i[0]||(i[0]=(...e)=>a.onClick&&a.onClick(...e))},[!s.webviewHide&&("circle"===o.iconType||"auto"===o.iconType&&"android"===s.platform)&&"loading"===o.status&&o.showIcon?(e.openBlock(),e.createElementBlock("view",{key:0,style:e.normalizeStyle({width:o.iconSize+"px",height:o.iconSize+"px"}),class:"uni-load-more__img uni-load-more__img--android-MP"},[e.createElementVNode("view",{class:"uni-load-more__img-icon",style:e.normalizeStyle({borderTopColor:o.color,borderTopWidth:o.iconSize/12})},null,4),e.createElementVNode("view",{class:"uni-load-more__img-icon",style:e.normalizeStyle({borderTopColor:o.color,borderTopWidth:o.iconSize/12})},null,4),e.createElementVNode("view",{class:"uni-load-more__img-icon",style:e.normalizeStyle({borderTopColor:o.color,borderTopWidth:o.iconSize/12})},null,4)],4)):!s.webviewHide&&"loading"===o.status&&o.showIcon?(e.openBlock(),e.createElementBlock("view",{key:1,style:e.normalizeStyle({width:o.iconSize+"px",height:o.iconSize+"px"}),class:"uni-load-more__img uni-load-more__img--ios-H5"},[e.createElementVNode("image",{src:s.imgBase64,mode:"widthFix"},null,8,["src"])],4)):e.createCommentVNode("",!0),o.showText?(e.openBlock(),e.createElementBlock("text",{key:2,class:"uni-load-more__text",style:e.normalizeStyle({color:o.color})},e.toDisplayString("more"===o.status?a.contentdownText:"loading"===o.status?a.contentrefreshText:a.contentnomoreText),5)):e.createCommentVNode("",!0)])}],["__scopeId","data-v-a7e112cc"]]);let zt;const jt={name:"syAudio",emits:["audioPlay","audioPause","audioEnd","audioCanplay","change"],data:()=>({audio_status:!1,timeTxt:"00 : 00",timeIndex:0,sliderIndex:0,maxSliderIndex:100,stringObject:e=>typeof e,innerAudioContext:uni.createInnerAudioContext()}),props:{autoplay:{type:Boolean,default:!1},src:{type:[String,Array],default:""},isCountDown:{type:Boolean,default:!1},audioCover:{type:String,default:""},audioTitle:{type:String,default:"new Audio Title"},audioTitleColor:{type:String,default:"#333"},subheading:{type:String,default:"new Audio Subheading"},activeColor:{type:String,default:"#bf41a2"},backgroundColor:{type:String,default:"#f1c38b"}},async mounted(){if(this.innerAudioContext.src="string"==typeof this.src?this.src:this.src[0],this.autoplay){if(!this.src)return _("error","at uni_modules/sy-audio/components/sy-audio/sy-audio.vue:93","src cannot be empty，The target value is string or array");this.innerAudioContext.autoplay=!0}this.innerAudioContext.onPlay((()=>{this.audio_status=!0,this.$emit("audioPlay"),setTimeout((()=>{this.maxSliderIndex=parseFloat(this.innerAudioContext.duration).toFixed(2),this.countDown()}),100)})),this.innerAudioContext.onPause((()=>{this.$emit("audioPause")})),this.innerAudioContext.onEnded((()=>{this.audio_status=!this.audio_status,this.$emit("audioEnd")})),this.innerAudioContext.onCanplay((e=>{this.$emit("audioCanplay")})),this.innerAudioContext.onPlay((()=>{this.$emit("change",{state:!0})})),this.innerAudioContext.onPause((()=>{this.$emit("change",{state:!1})}))},methods:{audioDestroy(){this.innerAudioContext&&(this.innerAudioContext.destroy(),this.audio_status=!1)},audioSeek(e){this.sliderChange(e)},audioPause(){this.clickAudio()},countDown(){zt=setInterval((()=>{this.sliderIndex=parseFloat(this.innerAudioContext.currentTime).toFixed(2),this.timeTxt=this.getTime(this.isCountDown?this.innerAudioContext.duration-this.innerAudioContext.currentTime:this.innerAudioContext.currentTime),this.timeTxt=this.isCountDown?"- "+this.timeTxt:this.timeTxt,this.innerAudioContext.currentTime>=this.innerAudioContext.duration&&clearInterval(zt)}),100)},clickAudio(){this.audio_status&&!this.innerAudioContext.paused?(this.innerAudioContext.pause(),clearInterval(zt)):this.innerAudioContext.play(),this.audio_status=!this.audio_status},getTime(e){let t=parseInt(e/60%60);t=t<10?"0"+t:t;let i=parseInt(e%60);return i=i<10?"0"+i:i,t+" : "+i},sliderChange(e){this.innerAudioContext.seek(e.detail?e.detail.value:e),this.sliderIndex=e.detail?e.detail.value:e}},onUnload(){this.audioDestroy()},onHide(){this.audioDestroy()},beforeDestroy(){this.audioDestroy()}};const Ht=o(jt,[["render",function(t,i,o,n,s,a){return e.openBlock(),e.createElementBlock("view",{class:"audio_center"},[e.createElementVNode("view",{class:"audio_center_cover"},[o.audioCover?(e.openBlock(),e.createElementBlock("image",{key:0,class:"audio_center_cover_img",mode:"aspectFill",src:o.audioCover},null,8,["src"])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass(["iconfont",s.audio_status?"icon-play-stop":"icon-play-cell"]),onClick:i[0]||(i[0]=(...e)=>a.clickAudio&&a.clickAudio(...e))},null,2)]),e.createElementVNode("view",{class:"audio_center_right"},["string"==s.stringObject(o.src)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"single"},[e.createElementVNode("view",{class:"single_title"},[e.createElementVNode("view",{class:"single_title_info",style:e.normalizeStyle({color:o.audioTitleColor})},e.toDisplayString(o.audioTitle),5),e.createElementVNode("view",{class:"tips"},e.toDisplayString(s.timeTxt),1)]),e.createElementVNode("view",{class:"tips"},e.toDisplayString(o.subheading),1),e.createElementVNode("slider",{backgroundColor:o.backgroundColor,activeColor:o.activeColor,onChange:i[1]||(i[1]=(...e)=>a.sliderChange&&a.sliderChange(...e)),value:s.sliderIndex,max:s.maxSliderIndex,"block-size":0},null,40,["backgroundColor","activeColor","value","max"])])):(e.openBlock(),e.createElementBlock("view",{key:1},"相关功能正在开发中~"))])])}],["__scopeId","data-v-1dce4096"]]),Wt={data:()=>({isUserMedia:!1,stream:null,audio:null,recorder:null,chunks:[],startTime:0}),mounted(){if(-1===origin.indexOf("https")&&-1===origin.indexOf("localhost")&&-1===origin.indexOf("127.0.0.1"))throw this.$emit("error","100"),"请在 https 环境中使用本插件。";if(!navigator.mediaDevices||!window.MediaRecorder)throw this.$emit("error","101"),"当前浏览器不支持";this.getRecorderManager()},methods:{getRecorderManager(){this.audio=document.createElement("audio"),navigator.mediaDevices.getUserMedia({audio:!0}).then((e=>{this.isUserMedia=!0,e.getTracks().forEach((e=>{e.stop()}))})).catch((e=>{this.onErrorHandler(e)}))},start(){if(!this.isUserMedia)return _("log","at uni_modules/mumu-recorder/components/mumu-recorder/mumu-recorder.vue:51","设备不支持");navigator.mediaDevices.getUserMedia({audio:!0}).then((e=>{this.startTime=(new Date).getTime(),this.stream=e,this.recorder=new MediaRecorder(e),this.recorder.ondataavailable=this.getRecordingData,this.recorder.onstop=this.saveRecordingData,this.recorder.start()})).catch((e=>{this.onErrorHandler(e)}))},stop(){this.recorder.stop(),this.stream.getTracks().forEach((e=>{e.stop()}))},getRecordingData(e){this.chunks.push(e.data)},saveRecordingData(){const e=new Blob(this.chunks,{type:"audio/mpeg"}),t=URL.createObjectURL(e);this.chunks=[];let i=((new Date).getTime()-this.startTime).toString().split("");i.splice(i.length-2),i.splice(i.length-1,0,"."),i=parseFloat(i.join(""));const o={data:e,duration:i,localUrl:t};this.$emit("success",o)},onErrorHandler(e){if(_("log","at uni_modules/mumu-recorder/components/mumu-recorder/mumu-recorder.vue:92",e),"NotAllowedError"===e.name)throw this.$emit("error","201"),"用户拒绝了当前的浏览器实例的访问请求";if("NotReadableError"===e.name)throw this.$emit("error","101"),"当前浏览器不支持";throw this.$emit("error","500"),"调用失败，原因不详"}},destroyed(){this.stop()}};const qt=o(Wt,[["render",function(t,i,o,n,s,a){return e.openBlock(),e.createElementBlock("view",{class:"recorder"})}]]),Jt=we(he),Gt=me(he),Yt={name:"im-input",components:{MumuRecorder:qt},props:{boxStatus:{type:Number,default:0},contact:{type:Object,default:{}}},data:()=>({pop_notice:!1,InputBottom:0,paddingB:0,footerHeight:50,boxHeight:300,uploading:!1,recShow:!1,inputMsg:"",recorderManager:null,recing:!1,recLength:1,recTimer:null,tmpVoice:"",isUseRecorder:!1,playItemIndex:-1,currentAudio:"",mainHeight:0,isCancel:!1,isH5:!1,isApp:!1,appBox:0,TabCur:0,scrollLeft:0,emojiList:[],currentEmojiList:[],isFocus:!1,globalConfig:Gt.globalConfig,userinfo:{}}),watch:{boxStatus(e){this.appBox=0,this.InputBottom=0},appBox(e){0!=e||this.isFocus||(this.InputBottom=0)},InputBottom(e){this.$emit("setPad",e)}},created:function(){uni.onKeyboardHeightChange((e=>{(0==this.appBox||e.height>0)&&(this.InputBottom=e.height)})),this.emojiList=w,this.currentEmojiList=w[0].children,uni.getSystemInfo({success:e=>{let t=e.windowHeight;this.mainHeight=t}}),this.isApp=!0,this.isH5=!1,this.recorderManager=uni.getRecorderManager(),this.recorderManager.onStop((e=>{if(this.tmpVoice=e.tempFilePath,this.recing=!1,this.recLengt<1)return this.checkRecorder(this.recLength);this.sendVoiceMsg()})),this.recorderManager.onError((()=>{uni.showToast({title:"录音失败",icon:"none"}),this.recing=!1}))},methods:{msgItem(){return{id:this.$util.getUuid(),sendTime:(new Date).getTime(),status:"going",type:"text",content:"",is_read:0,is_group:0,file_id:0,file_cate:0,fileName:"",fileSize:0,extends:null}},chooseEmoji(e){let t="[!"+e.name+"]";this.inputMsg+=t},tabSelect(e){this.TabCur=e.currentTarget.dataset.id,this.scrollLeft=60*(e.currentTarget.dataset.id-1),this.currentEmojiList=this.emojiList[this.TabCur].children},showAppBox(e){this.appBox==e?(this.appBox=0,this.InputBottom=0):(this.appBox=e,this.InputBottom=this.boxHeight,this.recShow=!1)},showRec:function(){this.InputBottom=0,this.appBox=0,1==this.recShow?this.recShow=!1:this.recShow=!0},sendVoiceMsg:function(){if(""==this.tmpVoice)return void uni.showToast({title:"录制已取消",icon:"none"});let e={localUrl:this.tmpVoice,duration:this.recLength};this.handlerSuccess(e),this.tmpVoice="",this.recLength=0},sendTextMsg:function(){if(1!=this.appBox&&(this.isFocus=!0),""==this.inputMsg)return!1;let e={type:"text",content:this.inputMsg};this.inputMsg="",this.$emit("send",Object.assign(this.msgItem(),e),"")},chooseImg(){let e={type:"image",status:"going"};uni.chooseImage({count:9,sizeType:["compressed"],sourceType:["album","camera"],success:t=>{t.tempFiles.forEach((t=>{e.content=t.path,e.fileName=t.name,e.fileSize=t.size,this.$emit("send",Object.assign(this.msgItem(),e),t.path)}))}})},chooseVideo:function(){let e={type:"video",status:"going"};uni.chooseVideo({sourceType:["camera","album"],success:t=>{if(t.duration>60)return uni.showToast({title:"视频长度不能超过60秒",icon:"error"});const i=t.tempFilePath;let o={duration:t.duration,width:t.width,height:t.height};e.fileName=t.name,e.fileSize=t.size,e.extends=o,e.content=i,this.$emit("send",Object.assign(this.msgItem(),e),i)}})},chooseFile:function(){const e=(t="lemonjk-FileSelect",weex.requireModule(t));var t;e.showPicker({pathScope:"/Download",mimeType:"*/*",utisType:"public.data",multi:"yes"},(t=>{1001==t.code&&uni.showModal({title:"需要文件访问权限",content:"您还未授权本应用读取文件。为保证您可以正常上传文件，请在权限设置页面打开文件访问权限（不同手机厂商表述可能略有差异）请根据自己手机品牌设置",confirmText:"去授权",cancelText:"算了",success(t){t.confirm&&e.gotoSetting()}});let i="file",o=["jpg","jpeg","png","bmp","gif"],n=["mp4","3gp","avi","m2v","mkv","mov"];t.files.forEach((e=>{i=o.includes(e.fileExtension)?"image":n.includes(e.fileExtension)?"video":"file";let t="file://"+e.filePath;const s={type:i,status:"going",fileName:e.FileName,fileSize:e.fileSize,content:t};this.$emit("send",Object.assign(this.msgItem(),s),t)}))}))},appendFile(e){e.tempFiles.forEach((e=>{let t=e.path;t="file://"+e.path;let i={type:"file",status:"going",fileName:e.name,fileSize:e.size,content:t};this.$emit("send",Object.assign(this.msgItem(),i),t)}))},chooseProject:()=>uni.showToast({title:"自己扩展呗~~"}),pop_ok(){uni.navigateTo({url:"/pages/movie/kefu/kefu"})},calling(e){let t=JSON.parse(JSON.stringify(Gt.userInfo));if(0==t.islevel&&1!==t.role)return void(this.pop_notice=!0);if(!parseInt(this.globalConfig.chatInfo.webrtc))return uni.showToast({title:"未开启音视频通话",icon:"none"});if(Jt.webrtcLock)return uni.showToast({title:"其他终端正在通话中",icon:"none"});let i=this.$util.getUuid();uni.navigateTo({url:"/pages/message/call?msg_id="+i+"&type="+e+"&status=1&id="+this.contact.id+"&name="+this.contact.displayName+"&avatar="+encodeURI(this.contact.avatar)})},InputFocus(e){this.isFocus=!0,this.appBox>0&&(this.appBox=0)},InputBlur(e){this.appBox||this.isFocus||(this.InputBottom=0),this.isFocus=!1},startRecorder(){_("log","at components/message/im-input.vue:537","录音开始..."),this.recorderManager.start({duration:6e4,format:"wav"}),this.recLength=0,this.recTimer=setInterval((()=>{this.recLength++}),1e3),this.isUseRecorder=!0},endRecorder(){_("log","at components/message/im-input.vue:557","录音结束"),this.recorderManager.stop(),clearInterval(this.recTimer),this.isUseRecorder=!1},cancelRecorder(){this.endRecorder(),this.isCancel=!0},moveRecorder(e){e.touches[0].clientY<this.mainHeight-80?this.isCancel=!0:this.isCancel=!1},handlerSuccess(e){if(this.checkRecorder(e.duration),this.isCancel)return this.isCancel=!1,_("log","at components/message/im-input.vue:587","录音已取消");let t={type:"voice",content:e.localUrl,fileName:this.$util.getUuid()+".mp3",extends:{duration:e.duration}};this.$emit("send",Object.assign(this.msgItem(),t))},checkRecorder(e){if(e<1||isNaN(e)||!e)return this.recLength=0,this.tmpVoice="",this.recing=!1,this.isCancel=!0,uni.showToast({title:"录音时间太短",icon:"error"})},handlerError(e){switch(e){case"101":uni.showModal({content:"当前浏览器版本较低，请更换浏览器使用，推荐在微信中打开。"});break;case"201":uni.showModal({content:"麦克风权限被拒绝，请刷新页面后授权麦克风权限。"});break;default:_("log","at components/message/im-input.vue:625","录音功能受限，请知晓！")}}}};const Xt=o(Yt,[["render",function(t,i,o,n,s,a){const r=y(e.resolveDynamicComponent("mumu-recorder"),qt);return e.openBlock(),e.createElementBlock("view",{id:"more-oprate"},[e.createElementVNode("view",{class:"im-footer bg-gray",style:e.normalizeStyle([{paddingBottom:s.paddingB+"px",height:s.footerHeight+"px",bottom:s.InputBottom+"px"}])},[e.createElementVNode("view",{class:e.normalizeClass(["im-menus f-28",[s.recShow?"cuIcon-keyboard":"cuIcon-sound"]]),"hover-class":"tap",onClick:i[0]||(i[0]=(...e)=>a.showRec&&a.showRec(...e))},null,2),0==s.recShow?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:0,class:"solid-bottom im-flex1 bg-white im-input",type:"text","onUpdate:modelValue":i[1]||(i[1]=e=>s.inputMsg=e),"adjust-position":!1,focus:s.isFocus,maxlength:"300","cursor-spacing":"10",onFocus:i[2]||(i[2]=(...e)=>a.InputFocus&&a.InputFocus(...e)),onBlur:i[3]||(i[3]=(...e)=>a.InputBlur&&a.InputBlur(...e)),onConfirm:i[4]||(i[4]=(...e)=>a.sendTextMsg&&a.sendTextMsg(...e)),"confirm-type":"send","confirm-hold":!0},null,40,["focus"])),[[e.vModelText,s.inputMsg]]):e.createCommentVNode("",!0),1==s.recShow?(e.openBlock(),e.createElementBlock("view",{key:1,class:"toolBox im-flex1"},[e.createElementVNode("view",{class:e.normalizeClass(["recorder",{active:s.isUseRecorder}]),onTouchstart:i[5]||(i[5]=e.withModifiers(((...e)=>a.startRecorder&&a.startRecorder(...e)),["prevent"])),onTouchend:i[6]||(i[6]=e.withModifiers(((...e)=>a.endRecorder&&a.endRecorder(...e)),["prevent"])),onTouchmove:i[7]||(i[7]=e.withModifiers(((...e)=>a.moveRecorder&&a.moveRecorder(...e)),["prevent"])),onTouchcancel:i[8]||(i[8]=(...e)=>a.cancelRecorder&&a.cancelRecorder(...e))},e.toDisplayString(s.isUseRecorder?"松开结束":"按住说话"),35)])):e.createCommentVNode("",!0),s.isH5?(e.openBlock(),e.createBlock(r,{key:2,ref:"recorderRef",onSuccess:a.handlerSuccess,onError:a.handlerError},null,8,["onSuccess","onError"])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"im-flex im-justify-content-start im-align-items-center"},[e.createElementVNode("view",{class:"im-menus cuIcon-emoji f-28","hover-class":"tap",onClick:i[9]||(i[9]=e=>a.showAppBox(1))}),s.inputMsg?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"im-menus cuIcon-roundadd f-28 mr-10","hover-class":"tap",onClick:i[10]||(i[10]=e=>a.showAppBox(2))})),s.inputMsg?(e.openBlock(),e.createElementBlock("view",{key:1},[e.createElementVNode("button",{class:"cu-btn bg-green shadow mr-10",onClick:i[11]||(i[11]=(...e)=>a.sendTextMsg&&a.sendTextMsg(...e))},"发送")])):e.createCommentVNode("",!0)]),1==s.appBox?(e.openBlock(),e.createElementBlock("view",{key:3,class:"im-flex im-columns im-emoji-box",style:e.normalizeStyle([{height:s.boxHeight+"px"}])},[e.createElementVNode("scroll-view",{"scroll-x":"",class:"bg-gray nav im-emoji-header","scroll-with-animation":"","scroll-left":s.scrollLeft},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.emojiList,((t,o)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["cu-item",o==s.TabCur?"text-green":""]),key:o,onClick:i[12]||(i[12]=(...e)=>a.tabSelect&&a.tabSelect(...e)),"data-id":o},[e.createElementVNode("view",{class:e.normalizeClass([[t.icon],"f-20"])},null,2)],10,["data-id"])))),128))],8,["scroll-left"]),e.createElementVNode("scroll-view",{"scroll-y":"",class:"bg-white im-emoji-body"},[e.createElementVNode("view",{class:"im-flex im-wrap im-justify-content-start im-align-items-center pd-10"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.currentEmojiList,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:"im-emoji-item"},[e.createElementVNode("image",{src:t.src,style:{width:"44rpx"},mode:"widthFix",onClick:e=>a.chooseEmoji(t)},null,8,["src","onClick"])])))),256))])])],4)):e.createCommentVNode("",!0),2==s.appBox?(e.openBlock(),e.createElementBlock("view",{key:4,class:"im-flex im-app-box im-flex im-justify-content-start im-wrap im-align-content-start pd-20",style:e.normalizeStyle([{height:s.boxHeight+"px"}])},[e.createElementVNode("view",{class:"im-flex im-columns im-align-items-center mt-10 im-app-item",onClick:i[13]||(i[13]=(...e)=>a.chooseImg&&a.chooseImg(...e))},[e.createElementVNode("view",{class:"bg-white cuIcon-album f-24 radius-10 im-app-item-icon"}),e.createElementVNode("view",{class:"mt-5"},e.toDisplayString(t.$t("shipin.title1")),1)]),e.createElementVNode("view",{class:"im-flex im-columns im-align-items-center mt-10 im-app-item",onClick:i[14]||(i[14]=(...e)=>a.chooseVideo&&a.chooseVideo(...e))},[e.createElementVNode("view",{class:"bg-white cuIcon-video f-24 radius-10 im-app-item-icon"}),e.createElementVNode("view",{class:"mt-5"},e.toDisplayString(t.$t("shipin.title1")),1)]),e.createElementVNode("view",{class:"im-flex im-columns im-align-items-center mt-10 im-app-item",onClick:i[15]||(i[15]=(...e)=>a.chooseFile&&a.chooseFile(...e))},[e.createElementVNode("view",{class:"bg-white cuIcon-file f-24 radius-10 im-app-item-icon"}),e.createElementVNode("view",{class:"mt-5"},e.toDisplayString(t.$t("shipin.title2")),1)]),!o.contact.is_group&&(s.isH5||s.isApp)&&parseInt(s.globalConfig.chatInfo.webrtc)?(e.openBlock(),e.createElementBlock("view",{key:0,class:"im-flex im-columns im-align-items-center mt-10 im-app-item",onClick:i[16]||(i[16]=e=>a.calling(0))},[e.createElementVNode("view",{class:"bg-white cuIcon-dianhua f-24 radius-10 im-app-item-icon"}),e.createElementVNode("view",{class:"mt-5"},e.toDisplayString(t.$t("shipin.title3")),1)])):e.createCommentVNode("",!0),!o.contact.is_group&&(s.isH5||s.isApp)&&parseInt(s.globalConfig.chatInfo.webrtc)?(e.openBlock(),e.createElementBlock("view",{key:1,class:"im-flex im-columns im-align-items-center mt-10 im-app-item",onClick:i[17]||(i[17]=e=>a.calling(1))},[e.createElementVNode("view",{class:"bg-white cuIcon-record f-24 radius-10 im-app-item-icon"}),e.createElementVNode("view",{class:"mt-5"},e.toDisplayString(t.$t("shipin.title4")),1)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],4),e.withDirectives(e.createElementVNode("view",{class:"voice-model c-white radius-10 im-flex im-columns im-align-items-center pd-10"},[e.createElementVNode("view",{class:e.normalizeClass(["cuIcon-voicefill mt-15 mb-5 f-28",[s.isCancel?"c-red":""]])},null,2),e.createElementVNode("view",{class:e.normalizeClass([s.isCancel?"c-red":""])},e.toDisplayString(s.isCancel?"松开取消":"正在录音..."),3)],512),[[e.vShow,s.isUseRecorder]]),e.withDirectives(e.createElementVNode("view",null,[e.createElementVNode("view",{class:"com_bg"}),e.createElementVNode("view",{class:"com_main"},[e.createElementVNode("view",{class:"pop_mian"},[e.createElementVNode("view",{class:"pop_title"},e.toDisplayString(t.$t("pop.title")),1),e.createElementVNode("view",{style:{padding:"10px 15px","line-height":"25px","flex-wrap":"wrap","text-align":"center"}},e.toDisplayString(t.$t("pop.content7")),1),e.createElementVNode("view",{class:"pop_foot"},[e.createElementVNode("view",{class:"pop_ft_btn1",onClick:i[18]||(i[18]=e=>s.pop_notice=!1)},e.toDisplayString(t.$t("pop.close")),1),e.createElementVNode("view",{class:"pop_ft_btn2",onClick:i[19]||(i[19]=e=>a.pop_ok())},e.toDisplayString(t.$t("pop.up")),1)])])])],512),[[e.vShow,s.pop_notice]])])}],["__scopeId","data-v-32ef85b0"]]);const Kt=o({name:"im-item",components:{},props:{item:{type:Object,default:function(){return{}}},index:{type:Number,default:0},isSelf:{type:Boolean,default:!1}},data:()=>({}),created:function(){},methods:{}},[["render",function(t,i,o,n,s,a){return"diy"==o.item.type?(e.openBlock(),e.createElementBlock("view",{key:0,item:o.item,index:o.index,isSelf:o.isSelf}," 自定义 ",8,["item","index","isSelf"])):(e.openBlock(),e.createElementBlock("view",{key:1}," 暂不支持该消息类型 "))}]]),Qt=uni.getStorageSync("userInfo"),Zt=uni.getStorageSync("appSetting"),ei=we(he);const ti=o({name:"im-touch",props:{info:{type:Object,default:function(){return{}}},circleAvatar:{type:Boolean,default:!1},profile:{type:Boolean,default:!1}},data:()=>({toucheTimer:0,fingerRes:[],distance:0,taptimer:100,appSetting:Zt}),methods:{openUserInfo(e){let t=ei.getContact(e.user_id);if(!this.profile&&!t)return uni.showToast({title:"已开启用户隐私！",icon:"none"}),!1;e.id!=Qt.user_id&&uni.navigateTo({url:"/pages/contacts/detail?id="+this.info.id})}}},[["render",function(t,i,o,n,s,a){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["cu-avatar lg",s.appSetting.circleAvatar?"round":"radius"]),onClick:i[0]||(i[0]=e=>a.openUserInfo(o.info)),style:e.normalizeStyle([{backgroundImage:"url("+o.info.avatar+")"}])},null,6)}]]),ii=uni.createInnerAudioContext(),oi=we(he),{newMessage:ni,msgList:si,getContact:ai,appendMsg:ri,checkMsg:li}=L(oi),ci=me(he),di={components:{imInput:Xt,imItem:Kt,imUser:ti,statusPoint:k},data(){return{user:ci.userInfo,contact:{},is_group:0,boxStatus:0,paddingT:0,video:"",videoUrl:"",videoModel:!1,InputBottom:0,player:null,playIndex:-1,emojiMap:[],fileExt:[],page:1,limit:20,moreData:!0,newMessage:ni,messageList:si,newheight:0,scrollTop:0,loading:"more",loadLock:!1,scrollHeight:0,paddingB:0,contact_id:0,bottomHeight:50,globalConfig:ci.globalConfig,modelName:"",curMsg:"",isSending:!1,copyTxt:this.$t("message.copyTxt_t1"),wsData:null,timer:null,lastTapDiffTime:0,isProfile:!1}},computed:{scrollH:function(){let e=uni.getSystemInfoSync(),t=750/e.windowWidth,i=uni.upx2px(100);this.bottomHeight=i;const o=uni.createSelectorQuery().in(this);return setTimeout((()=>{o.select(".cu-header").boundingClientRect(),o.exec((e=>{this.paddingT=e[0].height}))}),10),parseInt((e.windowHeight-(this.inlineTools+this.paddingT+i))*t)}},watch:{newMessage(e){e.toContactId==this.contact.id&&e.fromUser.id!=this.user.user_id&&this.$api.msgApi.setMsgIsRead({toContactId:this.contact.id,is_group:this.contact.is_group,messages:e,fromUser:e.fromUser.id}),this.scrollToBottom()},videoModel(e){e||this.video.pause()}},onLoad(e){let t=oi.getContact(e.id);1==t.is_group&&(t.role<3||"1"==t.setting.profile)&&(this.isProfile=!0),this.contact=t,this.contact_id=e.id,this.is_group=t.is_group,oi.updateContacts({id:e.id,unread:0}),this.getMessageList(),uni.$on("getPositonsOrder",(e=>{let t=e.data;switch(e.type){case"isRead":for(let n=0;t.length>n;n++){const e={id:t[n].id,is_read:1};this.updateMessage(e)}break;case"readAll":t.toContactId==this.contact.id&&0==this.is_group&&this.messageList.forEach((e=>{e.is_read=1}));break;case"isOnline":t.id==this.contact.id&&(this.contact.is_online=t.is_online);break;case"undoMessage":if(t.from_user==this.user.user_id&&1==t.isMobile&&(new Date).getTime()-t.sendTime<12e4)return!1;this.updateMessage(t);break;case"simple":case"group":case"webrtc":let e=getCurrentPages(),i={};if(i=e[e.length-1].$page.options??"","webrtc"==t.type){if(!["calling","hangup","otherOpt"].includes(t.extends.event))return!1;"calling"==t.extends.event&&(this.wsData=t);let e=parseInt(t.extends.code);if([902,903,904,905,906,907].includes(e)){let e=this.wsData||t;e.content=t.content,t=e}}let o=!1;1==t.is_group?t.toUser==i.id&&(o=!0):(t.toContactId==i.id||t.fromUser.id==this.user.user_id&&t.toUser==i.id)&&(o=!0),o&&(oi.checkMsg(t),oi.appendMsg(t),oi.updateContacts({id:i.id,unread:0})),this.scrollToBottom()}}))},onUnload(){oi.msgList=[],ii.stop(),this.closeMusic()},onBackPress(e){return this.InputBottom=0,uni.reLaunch({url:"/pages/index/index"}),!0},onShow(){this.socketIo.send({type:"ping"})},created:function(){let e=[];w.forEach((function(t){let i=t.children;i.length>0&&i.forEach((function(t){let i=t.name,o=t.src;e[i]=o}))})),this.emojiMap=e,ii.onPlay((()=>{_("log","at pages/message/chat.vue:395","play")})),ii.onEnded((()=>{_("log","at pages/message/chat.vue:397","播放完毕，继续播放下一个录音！");var e=Number(this.playIndex);for(let t=e+1;t<this.messageList.length;t++)if("voice"==this.messageList[t].type){this.playNow(this.messageList[t].content,t);break}this.messageList.length<=e+1&&(ii.stop(),this.playIndex=-1)})),ii.onError((e=>{_("log","at pages/message/chat.vue:412",e)}))},mounted(){this.video=uni.createVideoContext("myVideo",this)},methods:{calling(e){this.$refs.imInput.calling(parseInt(e))},endTimer(){clearTimeout(this.timer)},dblclick(e){const t=(new Date).getTime(),i=this.lastTapDiffTime;this.lastTapDiffTime=t;t-i<300&&(this.curMsg=e,this.modelName="copyModel")},getTime:()=>(new Date).getTime(),setPad(e){this.paddingB=e,this.scrollToBottom()},updateMessage(e){let t=this.messageList;t.forEach(((i,o)=>{let n=t[o];i.id==e.id&&(t[o]=Object.assign(n,e))})),this.messageList=t},getScrollHeight(){const e=uni.createSelectorQuery().in(this);setTimeout((()=>{e.select(".cu-chat").boundingClientRect(),e.exec((e=>{this.scrollHeight=e[0].height,this.scrollTop=e[0].height-this.newheight,this.loadLock=!1}))}),10)},scrollChat(e){this.newheight=e.detail.scrollHeight,e.detail.scrollTop<10&&0==this.loadLock&&(this.loadLock=!0,this.page++,this.moreData&&(this.loading="loading",setTimeout((()=>{this.getMessageList()}),1e3)))},getMessageList(){this.$api.msgApi.getMessageList({is_group:this.is_group,toContactId:this.contact.id,page:this.page,limit:this.limit}).then((e=>{1==this.page&&(oi.msgList=[]),e.data.slice().reverse().forEach((e=>{oi.msgList.unshift(e)})),this.loading="more",e.data.length<this.limit&&(this.moreData=!1,this.loading="noMore"),this.$nextTick((()=>{1==this.page?this.scrollToBottom():this.getScrollHeight()}))}))},moreOption(e){this.timer=setTimeout((()=>{this.curMsg=e,"text"==e.type?this.copyTxt=this.$t("message.copyTxt_t2"):"image"==e.type?this.copyTxt=this.$t("message.copyTxt_t3"):this.copyTxt=this.$t("message.copyTxt_t4"),this.modelName="moreOpt"}),1e3)},undoMsg(){let e=this.curMsg;this.modelName="",this.$api.msgApi.undoMessage({id:e.id}).then((t=>{const i={id:e.id,type:"event",is_undo:1,content:this.$t("message.reback_msg"),oldContent:e.content,toContactId:e.toContactId};this.updateMessage(i)}))},copyMsg(){uni.setClipboardData({data:this.curMsg.content,showToast:!0}),this.modelName="",this.curMsg={}},forwardMsg(){uni.navigateTo({url:"/pages/index/userSelection?contact_id="+this.contact_id+"&type=3"})},reEdit(e){this.$refs.imInput.inputMsg=e,this.$refs.imInput.isFocus=!0},scrollToBottom(){const e=uni.createSelectorQuery().in(this);setTimeout((()=>{e.select(".cu-chat").boundingClientRect(),e.exec((e=>{let t=e[0].height??999999;this.scrollTop=t+3e3}))}),10)},openDetails(){uni.navigateTo({url:"/pages/message/detail?id="+this.contact.id+"&is_group="+this.contact.is_group})},fileSize(e){return this.$util.getFileSize(e)},emojiToHtml(e){let t=this.emojiMap;return e.replace(/\[!(\w+)\]/gi,(function(e,i){var o=i;return t[o]?'<img class=\'mr-5\' style="width:18px;height:18px" emoji-name="'.concat(i,'" src="').concat(t[o],'" />'):"[!".concat(i,"]")}))},reSend(e){e.status="going",this.sendMessage(JSON.parse(JSON.stringify(e)),"")},sendMessage(e,t){if(!this.globalConfig.chatInfo.simpleChat&&0==this.is_group||!this.nospeak())return void uni.showToast({title:this.$t("message.pop_tit1"),icon:"none"});let i=this.user;i.id=i.user_id,e.fromUser=i,e.from_user=this.user.user_id,e.toContactId=this.contact.id,e.is_group=this.contact.is_group,this.messageList.push(e),this.scrollToBottom();if("text"==e.type)this.$api.msgApi.sendMessage(e).then((e=>{0==e.code?this.updateMessage(e.data):401==e.code&&(this.messageList.pop(),uni.showToast({title:e.msg,icon:"none"}))})).catch((t=>{this.sendFailed(e)}));else if(["image","file","video","voice"].includes(e.type)){if(e.fileSize>1024e4)return uni.showToast({title:this.$t("message.pop_tit2"),icon:"error"});uni.uploadFile({url:this.$api.msgApi.uploadUrl,filePath:e.content,name:"file",header:{Authorization:uni.getStorageSync("authToken")},formData:{message:JSON.stringify(e)},success:e=>{let t=JSON.parse(e.data);0==t.code?this.updateMessage(t.data):401==t.code&&(this.messageList.pop(),uni.showToast({title:t.msg,icon:"none"}))},fail:t=>{this.sendFailed(e)}})}},sendFailed(e){e.status="failed",this.updateMessage(JSON.parse(JSON.stringify(e)))},closeModel(){this.videoUrl="",this.videoModel=!1},handlePlay(e){this.videoUrl=e.content,this.videoModel=!0,ii.stop(),this.playIndex=-1},sendTime:function(e){return this.$util.timeFormat(e)},playVoice:function(e){var t=e.currentTarget.dataset.voice,i=e.currentTarget.dataset.index;if(-1==this.playIndex)return this.playNow(t,i);this.playIndex==i?(ii.stop(),this.playIndex=-1):(ii.stop(),this.playIndex=-1,this.playNow(t,i))},playNow:function(e,t){return this.playIndex=t,ii.autoplay=!0,ii.src=e,ii.play(),!0},preview(e){let t=e.content.split(".").pop().toLowerCase();if(["mp3","wav","acc"].includes(t))return this.curMsg=e,void(this.modelName="musicPlay");["doc","xls","ppt","pdf","docx","xlsx","pptx"].includes(t)?(uni.showLoading({title:"文件加载中"}),uni.downloadFile({url:e.content,success:function(e){uni.hideLoading();var t=e.tempFilePath;uni.openDocument({filePath:t,showMenu:!0,success:function(e){_("log","at pages/message/chat.vue:738","打开文档成功")}})},fail(){uni.hideLoading()}})):uni.showToast({title:"该文件不支持预览！",icon:"none"})},closeMusic(){this.modelName="",this.$refs.audio.audioPause()},showImgs:function(e){for(var t=[],i=e.currentTarget.dataset.img,o=0;o<this.messageList.length;o++)"image"==this.messageList[o].type&&t.push(this.messageList[o].content);uni.previewImage({urls:t,current:i})},closeInput(e){this.boxStatus++},nospeak(){return!(1==this.is_group&&this.contact.setting.nospeak>0)||(1==this.contact.setting.nospeak&&2==this.contact.role||2==this.contact.setting.nospeak&&1==this.contact.role)}}};const ui=o(di,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("Tags"),l=e.resolveComponent("statusPoint"),c=e.resolveComponent("cu-custom"),d=y(e.resolveDynamicComponent("uni-load-more"),Rt),u=e.resolveComponent("im-user"),m=y(e.resolveDynamicComponent("mp-html"),v),h=e.resolveComponent("imItem"),p=e.resolveComponent("imInput"),g=y(e.resolveDynamicComponent("sy-audio"),Ht);return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(c,{bgColor:"bg-white",isBack:!0,class:"cu-header"},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createElementVNode("view",{class:"im-flex im-justify-content-center im-align-items-center"},[1==s.is_group?(e.openBlock(),e.createBlock(r,{key:0,text:t.$t("message.group_title"),size:"mini"},null,8,["text"])):e.createCommentVNode("",!0),0==s.is_group&&1==s.contact.is_online&&1==s.globalConfig.chatInfo.online?(e.openBlock(),e.createBlock(l,{key:1,type:"success"})):e.createCommentVNode("",!0),e.createElementVNode("text",{class:"text-overflow"},e.toDisplayString(s.contact.displayName),1)])])),right:e.withCtx((()=>[e.createElementVNode("view",{class:"cuIcon-more mr-10 f-16",onClick:i[0]||(i[0]=(...e)=>a.openDetails&&a.openDetails(...e))})])),_:1}),e.createElementVNode("scroll-view",{ref:"scrollView","scroll-y":"true","scroll-anchoring":!0,"scroll-top":s.scrollTop,onScroll:i[6]||(i[6]=(...e)=>a.scrollChat&&a.scrollChat(...e)),style:e.normalizeStyle({height:a.scrollH+"rpx",position:"fixed",bottom:s.bottomHeight+"px"})},[e.createElementVNode("view",{class:"cu-chat",style:e.normalizeStyle({paddingBottom:s.paddingB+"px"}),onClick:i[5]||(i[5]=(...e)=>a.closeInput&&a.closeInput(...e)),id:"more-oprate"},[e.createVNode(d,{status:s.loading},null,8,["status"]),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.messageList,((o,n)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:n},["event"==o.type?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cu-info"},[e.createTextVNode(e.toDisplayString(o.content)+" ",1),1==o.is_undo&&a.getTime()-o.sendTime<12e4?(e.openBlock(),e.createElementBlock("text",{key:0,class:"c-primary",onClick:e=>a.reEdit(o.oldContent??"")},e.toDisplayString(t.$t("message.reedit")),9,["onClick"])):e.createCommentVNode("",!0)])):(e.openBlock(),e.createElementBlock("view",{key:1,class:e.normalizeClass(["cu-item",[o.fromUser.id==s.user.user_id?"im-rows-reverse self im-justify-content-start":""]])},[e.createVNode(u,{info:o.fromUser,profile:s.isProfile},null,8,["info","profile"]),e.createElementVNode("view",{class:"main im-wrap",onTouchstart:e=>a.moreOption(o),onTouchend:i[3]||(i[3]=(...e)=>a.endTimer&&a.endTimer(...e)),onClick:e=>a.dblclick(o)},[o.fromUser.id!=s.user.user_id?(e.openBlock(),e.createElementBlock("view",{key:0,class:"f-12 c-666",style:{width:"100%","margin-bottom":"6rpx"}},e.toDisplayString(o.fromUser.realname),1)):e.createCommentVNode("",!0),"text"==o.type?(e.openBlock(),e.createElementBlock("view",{key:1,class:e.normalizeClass(["content shadow",[o.fromUser.id==s.user.user_id?"bg-green":""]])},[e.createVNode(m,{"container-style":"overflow: hidden;display:inline;white-space: pre-wrap",content:a.emojiToHtml(o.content)},null,8,["content"])],2)):"image"==o.type?(e.openBlock(),e.createElementBlock("image",{key:2,src:o.content,class:"radius",mode:"widthFix",onClick:i[1]||(i[1]=(...e)=>a.showImgs&&a.showImgs(...e)),"data-img":o.content},null,8,["src","data-img"])):"voice"==o.type?(e.openBlock(),e.createElementBlock("view",{key:3,class:e.normalizeClass(["im-voice-msg im-flex im-rows im-nowrap im-align-items-center radius-20",[n==s.playIndex?"linear-green":"",o.fromUser.id==s.user.user_id?"im-rows-reverse":""]]),"data-voice":o.content,"data-index":n,onClick:i[2]||(i[2]=(...e)=>a.playVoice&&a.playVoice(...e)),style:e.normalizeStyle({width:3*o.extends.duration+"px"})},[e.createElementVNode("text",{class:e.normalizeClass(["f-16 cuIcon-subscription rotate45",[n==s.playIndex?"c-white":"",o.fromUser.id==s.user.user_id?"rotate225":""]])},null,2),e.createElementVNode("text",{class:e.normalizeClass(["im-voice-msg-text",[n==s.playIndex?"c-white":""]])},e.toDisplayString(o.extends.duration)+' "',3)],14,["data-voice","data-index"])):"video"==o.type?(e.openBlock(),e.createElementBlock("view",{key:4},[e.createElementVNode("view",{class:"course-video radius-10",onClick:e=>a.handlePlay(o)},[e.createElementVNode("view",{class:"relative-shadow"},[e.createElementVNode("view",{class:"cuIcon-video icon-center f-28 c-white"})]),e.createElementVNode("image",{src:o.extends.poster,class:"",mode:"heightFix"},null,8,["src"])],8,["onClick"])])):"file"==o.type?(e.openBlock(),e.createElementBlock("view",{key:5},[e.createElementVNode("view",{class:"file-card bg-white radius-10 im-flex im-justify-content-start pd-10 im-align-items-center",onClick:e=>a.preview(o)},[e.createElementVNode("view",{class:"file-icon cuIcon-text f-36"}),e.createElementVNode("view",{class:"im-flex im-columns ml-10"},[e.createElementVNode("view",{class:"text-overflow file-name"},e.toDisplayString(o.fileName),1),e.createElementVNode("view",{class:"text-gray file-size f-12"},e.toDisplayString(a.fileSize(o.fileSize)),1)])],8,["onClick"])])):"webrtc"==o.type?(e.openBlock(),e.createElementBlock("view",{key:6,onClick:e=>a.calling(o.extends.type),class:e.normalizeClass(["im-voice-msg im-flex im-rows im-nowrap im-align-items-center radius-20",[o.fromUser.id==s.user.user_id?"im-rows-reverse":""]])},[e.createElementVNode("text",{class:e.normalizeClass(["f-16",[1==o.extends.type?"cuIcon-record":"cuIcon-dianhua",o.fromUser.id==s.user.user_id?"rotate180":""]])},null,2),e.createElementVNode("text",{class:"im-voice-msg-text"},e.toDisplayString(o.content),1)],10,["onClick"])):(e.openBlock(),e.createBlock(h,{key:7,item:o,index:n,isSelf:!0},null,8,["item","index"]))],40,["onTouchstart","onClick"]),o.fromUser.id==s.user.user_id?(e.openBlock(),e.createElementBlock("view",{key:0,class:"mt-10 f-20"},["going"==o.status?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cuIcon-icloading icon-spin c-999"})):e.createCommentVNode("",!0),"failed"==o.status?(e.openBlock(),e.createElementBlock("view",{key:1,class:"cuIcon-infofill c-red",onClick:e=>a.reSend(o)},null,8,["onClick"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"date"},[0==o.is_group&&o.fromUser.id==s.user.user_id?(e.openBlock(),e.createElementBlock("text",{key:0,class:e.normalizeClass(o.is_read?"c-success":"c-gray")},e.toDisplayString(o.is_read?t.$t("message.read"):t.$t("message.unread")),3)):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(a.sendTime(o.sendTime)),1)])],2))],64)))),128)),s.videoModel?(e.openBlock(),e.createElementBlock("view",{key:0,class:"video-model im-flex im-align-items-center"},[e.createElementVNode("view",{class:"c-white radius-16 close-model",onClick:i[4]||(i[4]=(...e)=>a.closeModel&&a.closeModel(...e))},e.toDisplayString(t.$t("message.close")),1),e.createElementVNode("video",{class:"video-box",id:"myVideo",src:s.videoUrl,controls:"",autoplay:"autoplay"},null,8,["src"])])):e.createCommentVNode("",!0)],4)],44,["scroll-top"]),e.createElementVNode("view",{id:"im-input"},[e.createVNode(p,{onSend:a.sendMessage,onSetPad:a.setPad,boxStatus:s.boxStatus,contact:s.contact,ref:"imInput"},null,8,["onSend","onSetPad","boxStatus","contact"])]),e.createElementVNode("view",{class:e.normalizeClass(["cu-modal bottom-modal","moreOpt"==s.modelName?"show":""]),onClick:i[11]||(i[11]=e=>s.modelName="")},[e.createElementVNode("view",{class:"cu-dialog"},[e.createElementVNode("view",{class:"manage-content"},[e.createElementVNode("view",{class:"cu-list menu bg-white"},[a.getTime()-s.curMsg.sendTime<12e4&&s.curMsg.fromUser.id==s.user.user_id||s.contact.role<3?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cu-item",onClick:i[7]||(i[7]=e=>a.undoMsg())},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("text",{class:"cuIcon-repeal"}),e.createElementVNode("text",null,e.toDisplayString(t.$t("message.reback")),1)])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"cu-item",onClick:i[8]||(i[8]=e=>a.copyMsg())},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("text",{class:"cuIcon-copy"}),e.createElementVNode("text",null,e.toDisplayString(t.$t("message.copy"))+" "+e.toDisplayString(s.copyTxt),1)])]),"voice"!=s.curMsg.type?(e.openBlock(),e.createElementBlock("view",{key:1,class:"cu-item",onClick:i[9]||(i[9]=e=>a.forwardMsg())},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("text",{class:"cuIcon-forward"}),e.createElementVNode("text",null,e.toDisplayString(t.$t("message.re_turn")),1)])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"parting-line-5"}),e.createElementVNode("view",{class:"cu-item",onClick:i[10]||(i[10]=e=>s.modelName="")},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("text",{class:"c-red"},e.toDisplayString(t.$t("message.quxiao")),1)])])])])])],2),e.createElementVNode("view",{class:e.normalizeClass(["cu-modal bottom-modal","musicPlay"==s.modelName?"show":""]),onClick:i[14]||(i[14]=e=>a.closeMusic())},[e.createElementVNode("view",{class:"cu-dialog",onClick:i[13]||(i[13]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"pd-20"},[(e.openBlock(),e.createBlock(g,{ref:"audio",src:s.curMsg.content,audioCover:"",subheading:"",audioTitle:s.curMsg.fileName,key:s.curMsg.id},null,8,["src","audioTitle"]))]),e.createElementVNode("view",{class:"cu-list menu bg-white"},[e.createElementVNode("view",{class:"cu-item",onClick:i[12]||(i[12]=e=>a.closeMusic())},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("text",null,">"+e.toDisplayString(t.$t("message.close")),1)])])])])],2),e.createElementVNode("view",{class:e.normalizeClass(["cu-modal bottom-modal","copyModel"==s.modelName?"show":""])},[e.createElementVNode("view",{class:"cu-dialog"},[e.createElementVNode("view",{class:"cu-bar bg-white"},[e.createElementVNode("view",{class:"action text-gray",onClick:i[15]||(i[15]=e=>s.modelName="")},e.toDisplayString(t.$t("message.quxiao")),1),e.createElementVNode("view",{class:"action text-green",onClick:i[16]||(i[16]=e=>a.copyMsg())},e.toDisplayString(t.$t("message.copy")),1)]),e.createElementVNode("scroll-view",{"scroll-y":"true",style:e.normalizeStyle({height:a.scrollH+"rpx"})},[e.createElementVNode("view",{class:"pd-20 text-container"},[e.createVNode(m,{content:s.curMsg.content},null,8,["content"])])],4)])],2)])}]]),mi={data:()=>({}),created(){this.popup=this.getParent()},methods:{getParent(e="uniPopup"){let t=this.$parent,i=t.$options.name;for(;i!==e;){if(t=t.$parent,!t)return!1;i=t.$options.name}return t}}},hi={en:{"uni-popup.cancel":"cancel","uni-popup.ok":"ok","uni-popup.placeholder":"pleace enter","uni-popup.title":"Hint","uni-popup.shareTitle":"Share to"},"zh-Hans":{"uni-popup.cancel":"取消","uni-popup.ok":"确定","uni-popup.placeholder":"请输入","uni-popup.title":"提示","uni-popup.shareTitle":"分享到"},"zh-Hant":{"uni-popup.cancel":"取消","uni-popup.ok":"確定","uni-popup.placeholder":"請輸入","uni-popup.title":"提示","uni-popup.shareTitle":"分享到"}},{t:pi}=Mt(hi);const gi=o({name:"uniPopupDialog",mixins:[mi],emits:["confirm","close"],props:{value:{type:[String,Number],default:""},placeholder:{type:[String,Number],default:""},type:{type:String,default:"error"},mode:{type:String,default:"base"},title:{type:String,default:""},content:{type:String,default:""},beforeClose:{type:Boolean,default:!1},cancelText:{type:String,default:""},confirmText:{type:String,default:""}},data:()=>({dialogType:"error",focus:!1,val:""}),computed:{okText(){return this.confirmText||pi("uni-popup.ok")},closeText(){return this.cancelText||pi("uni-popup.cancel")},placeholderText(){return this.placeholder||pi("uni-popup.placeholder")},titleText(){return this.title||pi("uni-popup.title")}},watch:{type(e){this.dialogType=e},mode(e){"input"===e&&(this.dialogType="info")},value(e){this.val=e}},created(){this.popup.disableMask(),"input"===this.mode?(this.dialogType="info",this.val=this.value):this.dialogType=this.type},mounted(){this.focus=!0},methods:{onOk(){"input"===this.mode?this.$emit("confirm",this.val):this.$emit("confirm"),this.beforeClose||this.popup.close()},closeDialog(){this.$emit("close"),this.beforeClose||this.popup.close()},close(){this.popup.close()}}},[["render",function(t,i,o,n,s,a){return e.openBlock(),e.createElementBlock("view",{class:"uni-popup-dialog"},[e.createElementVNode("view",{class:"uni-dialog-title"},[e.createElementVNode("text",{class:e.normalizeClass(["uni-dialog-title-text",["uni-popup__"+s.dialogType]])},e.toDisplayString(a.titleText),3)]),"base"===o.mode?(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-dialog-content"},[e.renderSlot(t.$slots,"default",{},(()=>[e.createElementVNode("text",{class:"uni-dialog-content-text"},e.toDisplayString(o.content),1)]),!0)])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"uni-dialog-content"},[e.renderSlot(t.$slots,"default",{},(()=>[e.withDirectives(e.createElementVNode("input",{class:"uni-dialog-input","onUpdate:modelValue":i[0]||(i[0]=e=>s.val=e),type:"text",placeholder:a.placeholderText,focus:s.focus},null,8,["placeholder","focus"]),[[e.vModelText,s.val]])]),!0)])),e.createElementVNode("view",{class:"uni-dialog-button-group"},[e.createElementVNode("view",{class:"uni-dialog-button",onClick:i[1]||(i[1]=(...e)=>a.closeDialog&&a.closeDialog(...e))},[e.createElementVNode("text",{class:"uni-dialog-button-text"},e.toDisplayString(a.closeText),1)]),e.createElementVNode("view",{class:"uni-dialog-button uni-border-left",onClick:i[2]||(i[2]=(...e)=>a.onOk&&a.onOk(...e))},[e.createElementVNode("text",{class:"uni-dialog-button-text uni-button-color"},e.toDisplayString(a.okText),1)])])])}],["__scopeId","data-v-d19f9ee6"]]);class fi{constructor(e,t){this.options=e,this.animation=uni.createAnimation(e),this.currentStepAnimates={},this.next=0,this.$=t}_nvuePushAnimates(e,t){let i=this.currentStepAnimates[this.next],o={};if(o=i||{styles:{},config:{}},vi.includes(e)){o.styles.transform||(o.styles.transform="");let i="";"rotate"===e&&(i="deg"),o.styles.transform+=`${e}(${t+i}) `}else o.styles[e]=`${t}`;this.currentStepAnimates[this.next]=o}_animateRun(e={},t={}){let i=this.$.$refs.ani.ref;if(i)return new Promise(((o,n)=>{nvueAnimation.transition(i,{styles:e,...t},(e=>{o()}))}))}_nvueNextAnimate(e,t=0,i){let o=e[t];if(o){let{styles:n,config:s}=o;this._animateRun(n,s).then((()=>{t+=1,this._nvueNextAnimate(e,t,i)}))}else this.currentStepAnimates={},"function"==typeof i&&i(),this.isEnd=!0}step(e={}){return this.animation.step(e),this}run(e){this.$.animationData=this.animation.export(),this.$.timer=setTimeout((()=>{"function"==typeof e&&e()}),this.$.durationTime)}}const vi=["matrix","matrix3d","rotate","rotate3d","rotateX","rotateY","rotateZ","scale","scale3d","scaleX","scaleY","scaleZ","skew","skewX","skewY","translate","translate3d","translateX","translateY","translateZ"];function _i(e,t){if(t)return clearTimeout(t.timer),new fi(e,t)}vi.concat(["opacity","backgroundColor"],["width","height","left","right","top","bottom"]).forEach((e=>{fi.prototype[e]=function(...t){return this.animation[e](...t),this}}));const yi=o({name:"uniTransition",emits:["click","change"],props:{show:{type:Boolean,default:!1},modeClass:{type:[Array,String],default:()=>"fade"},duration:{type:Number,default:300},styles:{type:Object,default:()=>({})},customClass:{type:String,default:""}},data:()=>({isShow:!1,transform:"",opacity:1,animationData:{},durationTime:300,config:{}}),watch:{show:{handler(e){e?this.open():this.isShow&&this.close()},immediate:!0}},computed:{stylesObject(){let e={...this.styles,"transition-duration":this.duration/1e3+"s"},t="";for(let i in e){t+=this.toLine(i)+":"+e[i]+";"}return t},transformStyles(){return"transform:"+this.transform+";opacity:"+this.opacity+";"+this.stylesObject}},created(){this.config={duration:this.duration,timingFunction:"ease",transformOrigin:"50% 50%",delay:0},this.durationTime=this.duration},methods:{init(e={}){e.duration&&(this.durationTime=e.duration),this.animation=_i(Object.assign(this.config,e),this)},onClick(){this.$emit("click",{detail:this.isShow})},step(e,t={}){if(this.animation){for(let t in e)try{"object"==typeof e[t]?this.animation[t](...e[t]):this.animation[t](e[t])}catch(ln){_("error","at uni_modules/uni-transition/components/uni-transition/uni-transition.vue:139",`方法 ${t} 不存在`)}return this.animation.step(t),this}},run(e){this.animation&&this.animation.run(e)},open(){clearTimeout(this.timer),this.transform="",this.isShow=!0;let{opacity:e,transform:t}=this.styleInit(!1);void 0!==e&&(this.opacity=e),this.transform=t,this.$nextTick((()=>{this.timer=setTimeout((()=>{this.animation=_i(this.config,this),this.tranfromInit(!1).step(),this.animation.run(),this.$emit("change",{detail:this.isShow})}),20)}))},close(e){this.animation&&this.tranfromInit(!0).step().run((()=>{this.isShow=!1,this.animationData=null,this.animation=null;let{opacity:e,transform:t}=this.styleInit(!1);this.opacity=e||1,this.transform=t,this.$emit("change",{detail:this.isShow})}))},styleInit(e){let t={transform:""},i=(e,i)=>{"fade"===i?t.opacity=this.animationType(e)[i]:t.transform+=this.animationType(e)[i]+" "};return"string"==typeof this.modeClass?i(e,this.modeClass):this.modeClass.forEach((t=>{i(e,t)})),t},tranfromInit(e){let t=(e,t)=>{let i=null;"fade"===t?i=e?0:1:(i=e?"-100%":"0","zoom-in"===t&&(i=e?.8:1),"zoom-out"===t&&(i=e?1.2:1),"slide-right"===t&&(i=e?"100%":"0"),"slide-bottom"===t&&(i=e?"100%":"0")),this.animation[this.animationMode()[t]](i)};return"string"==typeof this.modeClass?t(e,this.modeClass):this.modeClass.forEach((i=>{t(e,i)})),this.animation},animationType:e=>({fade:e?1:0,"slide-top":`translateY(${e?"0":"-100%"})`,"slide-right":`translateX(${e?"0":"100%"})`,"slide-bottom":`translateY(${e?"0":"100%"})`,"slide-left":`translateX(${e?"0":"-100%"})`,"zoom-in":`scaleX(${e?1:.8}) scaleY(${e?1:.8})`,"zoom-out":`scaleX(${e?1:1.2}) scaleY(${e?1:1.2})`}),animationMode:()=>({fade:"opacity","slide-top":"translateY","slide-right":"translateX","slide-bottom":"translateY","slide-left":"translateX","zoom-in":"scale","zoom-out":"scale"}),toLine:e=>e.replace(/([A-Z])/g,"-$1").toLowerCase()}},[["render",function(t,i,o,n,s,a){return s.isShow?(e.openBlock(),e.createElementBlock("view",{key:0,ref:"ani",animation:s.animationData,class:e.normalizeClass(o.customClass),style:e.normalizeStyle(a.transformStyles),onClick:i[0]||(i[0]=(...e)=>a.onClick&&a.onClick(...e))},[e.renderSlot(t.$slots,"default")],14,["animation"])):e.createCommentVNode("",!0)}]]),wi={name:"uniPopup",components:{},emits:["change","maskClick"],props:{animation:{type:Boolean,default:!0},type:{type:String,default:"center"},isMaskClick:{type:Boolean,default:null},maskClick:{type:Boolean,default:null},backgroundColor:{type:String,default:"none"},safeArea:{type:Boolean,default:!0},maskBackgroundColor:{type:String,default:"rgba(0, 0, 0, 0.4)"}},watch:{type:{handler:function(e){this.config[e]&&this[this.config[e]](!0)},immediate:!0},isDesktop:{handler:function(e){this.config[e]&&this[this.config[this.type]](!0)},immediate:!0},maskClick:{handler:function(e){this.mkclick=e},immediate:!0},isMaskClick:{handler:function(e){this.mkclick=e},immediate:!0},showPopup(e){}},data(){return{duration:300,ani:[],showPopup:!1,showTrans:!1,popupWidth:0,popupHeight:0,config:{top:"top",bottom:"bottom",center:"center",left:"left",right:"right",message:"top",dialog:"center",share:"bottom"},maskClass:{position:"fixed",bottom:0,top:0,left:0,right:0,backgroundColor:"rgba(0, 0, 0, 0.4)"},transClass:{position:"fixed",left:0,right:0},maskShow:!0,mkclick:!0,popupstyle:this.isDesktop?"fixforpc-top":"top"}},computed:{isDesktop(){return this.popupWidth>=500&&this.popupHeight>=500},bg(){return""===this.backgroundColor||"none"===this.backgroundColor?"transparent":this.backgroundColor}},mounted(){(()=>{const{windowWidth:e,windowHeight:t,windowTop:i,safeArea:o,screenHeight:n,safeAreaInsets:s}=uni.getSystemInfoSync();this.popupWidth=e,this.popupHeight=t+(i||0),o&&this.safeArea?this.safeAreaInsets=s.bottom:this.safeAreaInsets=0})()},unmounted(){this.setH5Visible()},created(){null===this.isMaskClick&&null===this.maskClick?this.mkclick=!0:this.mkclick=null!==this.isMaskClick?this.isMaskClick:this.maskClick,this.animation?this.duration=300:this.duration=0,this.messageChild=null,this.clearPropagation=!1,this.maskClass.backgroundColor=this.maskBackgroundColor},methods:{setH5Visible(){},closeMask(){this.maskShow=!1},disableMask(){this.mkclick=!1},clear(e){e.stopPropagation(),this.clearPropagation=!0},open(e){this.showPopup&&(clearTimeout(this.timer),this.showPopup=!1);e&&-1!==["top","center","bottom","left","right","message","dialog","share"].indexOf(e)||(e=this.type),this.config[e]?(this[this.config[e]](),this.$emit("change",{show:!0,type:e})):_("error","at uni_modules/uni-popup/components/uni-popup/uni-popup.vue:280","缺少类型：",e)},close(e){this.showTrans=!1,this.$emit("change",{show:!1,type:this.type}),clearTimeout(this.timer),this.timer=setTimeout((()=>{this.showPopup=!1}),300)},touchstart(){this.clearPropagation=!1},onTap(){this.clearPropagation?this.clearPropagation=!1:(this.$emit("maskClick"),this.mkclick&&this.close())},top(e){this.popupstyle=this.isDesktop?"fixforpc-top":"top",this.ani=["slide-top"],this.transClass={position:"fixed",left:0,right:0,backgroundColor:this.bg},e||(this.showPopup=!0,this.showTrans=!0,this.$nextTick((()=>{this.messageChild&&"message"===this.type&&this.messageChild.timerClose()})))},bottom(e){this.popupstyle="bottom",this.ani=["slide-bottom"],this.transClass={position:"fixed",left:0,right:0,bottom:0,paddingBottom:this.safeAreaInsets+"px",backgroundColor:this.bg},e||(this.showPopup=!0,this.showTrans=!0)},center(e){this.popupstyle="center",this.ani=["zoom-out","fade"],this.transClass={position:"fixed",display:"flex",flexDirection:"column",bottom:0,left:0,right:0,top:0,justifyContent:"center",alignItems:"center"},e||(this.showPopup=!0,this.showTrans=!0)},left(e){this.popupstyle="left",this.ani=["slide-left"],this.transClass={position:"fixed",left:0,bottom:0,top:0,backgroundColor:this.bg,display:"flex",flexDirection:"column"},e||(this.showPopup=!0,this.showTrans=!0)},right(e){this.popupstyle="right",this.ani=["slide-right"],this.transClass={position:"fixed",bottom:0,right:0,top:0,backgroundColor:this.bg,display:"flex",flexDirection:"column"},e||(this.showPopup=!0,this.showTrans=!0)}}};const ki=o(wi,[["render",function(t,i,o,n,s,a){const r=y(e.resolveDynamicComponent("uni-transition"),yi);return s.showPopup?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["uni-popup",[s.popupstyle,a.isDesktop?"fixforpc-z-index":""]])},[e.createElementVNode("view",{onTouchstart:i[1]||(i[1]=(...e)=>a.touchstart&&a.touchstart(...e))},[s.maskShow?(e.openBlock(),e.createBlock(r,{key:"1",name:"mask","mode-class":"fade",styles:s.maskClass,duration:s.duration,show:s.showTrans,onClick:a.onTap},null,8,["styles","duration","show","onClick"])):e.createCommentVNode("",!0),e.createVNode(r,{key:"2","mode-class":s.ani,name:"content",styles:s.transClass,duration:s.duration,show:s.showTrans,onClick:a.onTap},{default:e.withCtx((()=>[e.createElementVNode("view",{class:e.normalizeClass(["uni-popup__wrapper",[s.popupstyle]]),style:e.normalizeStyle({backgroundColor:a.bg}),onClick:i[0]||(i[0]=(...e)=>a.clear&&a.clear(...e))},[e.renderSlot(t.$slots,"default",{},void 0,!0)],6)])),_:3},8,["mode-class","styles","duration","show","onClick"])],32)],2)):e.createCommentVNode("",!0)}],["__scopeId","data-v-3eaad31b"]]);const xi=o({name:"UniSection",emits:["click"],props:{type:{type:String,default:""},title:{type:String,required:!0,default:""},titleFontSize:{type:String,default:"14px"},titleColor:{type:String,default:"#333"},subTitle:{type:String,default:""},subTitleFontSize:{type:String,default:"12px"},subTitleColor:{type:String,default:"#999"},padding:{type:[Boolean,String],default:!1}},computed:{_padding(){return"string"==typeof this.padding?this.padding:this.padding?"10px":""}},watch:{title(e){uni.report&&""!==e&&uni.report("title",e)}},methods:{onClick(){this.$emit("click")}}},[["render",function(t,i,o,n,s,a){return e.openBlock(),e.createElementBlock("view",{class:"uni-section"},[e.createElementVNode("view",{class:"uni-section-header",onClick:i[0]||(i[0]=(...e)=>a.onClick&&a.onClick(...e))},[o.type?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["uni-section-header__decoration",o.type])},null,2)):e.renderSlot(t.$slots,"decoration",{key:1},void 0,!0),e.createElementVNode("view",{class:"uni-section-header__content"},[e.createElementVNode("text",{style:e.normalizeStyle({"font-size":o.titleFontSize,color:o.titleColor}),class:e.normalizeClass(["uni-section__content-title",{distraction:!o.subTitle}])},e.toDisplayString(o.title),7),o.subTitle?(e.openBlock(),e.createElementBlock("text",{key:0,style:e.normalizeStyle({"font-size":o.subTitleFontSize,color:o.subTitleColor}),class:"uni-section-header__content-sub"},e.toDisplayString(o.subTitle),5)):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"uni-section-header__slot-right"},[e.renderSlot(t.$slots,"right",{},void 0,!0)])]),e.createElementVNode("view",{class:"uni-section-content",style:e.normalizeStyle({padding:a._padding})},[e.renderSlot(t.$slots,"default",{},void 0,!0)],4)])}],["__scopeId","data-v-0a8818d5"]]),bi=we(he),Ci=uni.getStorageSync("userInfo"),Bi={components:{},data(){return{pageLoading:!0,contact_id:null,is_group:0,modelName:!1,userList:[],allUser:[],chatRecordlist:[{text:"文本",icon:"icon-wenben",type:"text"},{text:"图片",icon:"icon-zhaopian",type:"image"},{text:"文件",icon:"icon-wenjian",type:"file"},{text:"视频",icon:"icon-shipin",type:"video"},{text:"项目",icon:"icon-xiangmu_2",type:"project"},{text:"客户",icon:"icon-kehu",type:"leads"}],radioList:[{label:this.$t("message.msg_group_close2"),value:0},{label:this.$t("message.msg_group_set_r1"),value:1},{label:this.$t("msg_group_set_r2"),value:2}],isAuth:!1,contact:null,isAdmin:!1,isManage:!1,user_ids:[],user:[]}},onShow(){this.getUserlist()},onLoad:function(e){this.is_group=e.is_group,this.contact_id=e.id;let t=bi.getContact(this.contact_id);this.contact=t,0==this.is_group&&(t.userInfo={id:t.user_id,account:t.account,displayName:t.displayName,avatar:t.avatar},this.allUser.push(t),this.userList.push(t))},methods:{openModel(e){this.modelName=e},closeModel(){this.modelName=!1},saveManage(){this.isAuth&&(this.$api.msgApi.groupSetting({id:this.contact.id,setting:this.contact.setting}),this.modelName=!1)},setManage(e){this.contact.setting.manage=e.detail.value?"1":"0"},setInvite(e){this.contact.setting.invite=e.detail.value?"1":"0"},setProfile(e){this.contact.setting.profile=e.detail.value?"1":"0"},setSpeak(e){this.contact.setting.nospeak=e.detail.value},setIsNotice(e){this.contact.is_notice=e.detail.value?0:1,this.$api.msgApi.isNoticeAPI({id:this.contact.id,is_group:this.contact.is_group,is_notice:this.contact.is_notice})},setIsTop(e){this.contact.is_top=e.detail.value?1:0,this.$api.msgApi.setChatTopAPI({id:this.contact.id,is_group:this.contact.is_group,is_top:this.contact.is_top})},editNotice(){this.isAuth&&(this.$api.msgApi.setNotice({id:this.contact.id,notice:this.contact.notice}),this.modelName=!1)},open(){this.$refs.popup.open()},openQr(){uni.navigateTo({url:"/pages/index/qrcode?group_id="+this.contact.id})},editGroupName(e){this.$api.msgApi.editGroupName({id:this.contact.id,displayName:e}).then((t=>{this.contact.displayName=e,this.$refs.popup.close()}))},closePop(){this.$refs.popup.close()},removeGroup(){let e=this.$t("message.msg_group_out");this.isAdmin&&(e=this.$t("message.msg_group_close")),uni.showModal({title:this.$t("message.pop_no_t1")+e+"?",success:e=>{e.confirm&&(this.isAdmin?this.$api.msgApi.removeGroup({id:this.contact.id}).then((e=>{uni.reLaunch({url:"/pages/index/index"})})):this.$api.msgApi.removeUser({id:this.contact.id,user_id:Ci.user_id}).then((e=>{uni.reLaunch({url:"/pages/index/index"})})))}})},editUser(e){this.user_ids=this.allUser.map((e=>e.user_id)),0==this.contact.is_group&&(e=1),uni.navigateTo({url:"/pages/index/userSelection?type="+e+"&contact_id="+this.contact.id})},manageUser(){uni.navigateTo({url:"/pages/message/group/groupUser?group_id="+this.contact.id})},goChatRecord(e){uni.navigateTo({url:"/package/message/pages/chatRecord/chatRecord?type="+e+"&toContactId="+this.contact_id+"&is_group=1"})},getUserlist(){0!=this.is_group&&(this.userList=[],this.$api.msgApi.groupUserList({group_id:this.contact_id}).then((e=>{if(this.user=e.data,0!==e.code)return;const t=e.data.filter((e=>1==e.role&&e.userInfo.id==Ci.user_id));t.length&&(this.isAdmin=!0);const i=e.data.filter((e=>2==e.role&&e.userInfo.id==Ci.user_id));i.length&&(this.manage=!0),(t.length||i.length)&&(this.isAuth=!0),this.allUser=JSON.parse(JSON.stringify(e.data)),e.data.length>18?this.isAuth?this.userList=e.data.splice(0,18):this.contact.setting.invite?this.userList=e.data.splice(0,19):this.userList=e.data.splice(0,20):this.userList=e.data,this.pageLoading=!1})))},openChatDetail(e){if(Ci.user_id==e.id)return;let t=bi.getContact(e.id);if(!(this.contact.role<3||"1"==this.contact.setting.profile||t))return uni.showToast({title:this.$t("message.pop_no_t2"),icon:"none"}),!1;uni.navigateTo({url:"/pages/contacts/detail?id="+e.id})}}};const Ni=o(Bi,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom"),l=y(e.resolveDynamicComponent("uni-popup-dialog"),gi),c=y(e.resolveDynamicComponent("uni-popup"),ki),d=y(e.resolveDynamicComponent("uni-section"),xi);return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("message.msg_tit")),1)])),_:1}),e.createElementVNode("view",null,[e.createElementVNode("view",{class:"bg-white"},[1==s.is_group?(e.openBlock(),e.createElementBlock("view",{key:0,class:"user-list im-flex im-justify-content-start im-align-items-center im-a im-wrap"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.userList,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:"user-info mt-20",key:i,align:"center"},[e.createElementVNode("image",{class:"user-avatar",src:t.userInfo.avatar,onClick:e=>a.openChatDetail(t.userInfo)},null,8,["src","onClick"]),e.createElementVNode("view",{class:"text-center user-name text-overflow"},e.toDisplayString(t.userInfo.displayName),1)])))),128)),s.isAuth||0==s.is_group||s.contact.setting.invite?(e.openBlock(),e.createElementBlock("view",{key:0,class:"user-info mt-20"},[e.createElementVNode("view",{class:"user-opt radius-8",style:{margin:"auto"},onClick:i[0]||(i[0]=e=>a.editUser(2))},[e.createElementVNode("view",{class:"icon cuIcon-add f-24"})]),e.createElementVNode("view",{class:"f-11 mt-5"},e.toDisplayString(t.$t("message.msg_add")),1)])):e.createCommentVNode("",!0),s.isAuth?(e.openBlock(),e.createElementBlock("view",{key:1,class:"user-info mt-20"},[e.createElementVNode("view",{class:"user-opt radius-8",style:{margin:"auto"},onClick:i[1]||(i[1]=e=>a.manageUser())},[e.createElementVNode("view",{class:"icon cuIcon-move f-24"})]),e.createElementVNode("view",{class:"f-11 mt-5"},e.toDisplayString(t.$t("message.msg_remove")),1)])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),1==s.is_group?(e.openBlock(),e.createElementBlock("navigator",{key:1,class:"mt-10",url:`/pages/message/group/groupUser?group_id=${s.contact_id}`},[e.createElementVNode("view",{class:"text-center pb-15 pt-15 im-flex im-justify-content-center im-align-items-center"},[e.createElementVNode("text",{class:"gui-list-title-text gui-list-one-line gui-primary-color"},e.toDisplayString(t.$t("message.msg_see")),1),e.createElementVNode("text",{class:"gui-list-title-desc gui-color-gray"},e.toDisplayString(s.allUser.length)+"人",1),e.createElementVNode("text",{class:"cuIcon-right"})])],8,["url"])):e.createCommentVNode("",!0)]),1==s.is_group?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cu-list menu mt-15 bg-white"},[e.createElementVNode("view",{class:"cu-item",onClick:i[2]||(i[2]=(...e)=>a.open&&a.open(...e))},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("view",null,e.toDisplayString(t.$t("message.msg_group_name")),1)]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("view",{class:"text-grey"},[e.createTextVNode(e.toDisplayString(s.contact.displayName)+" ",1),e.createElementVNode("text",{class:"cuIcon-right"})])])]),e.createElementVNode("view",{class:"cu-item",onClick:i[3]||(i[3]=e=>a.openModel("notice"))},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("view",null,e.toDisplayString(t.$t("message.msg_group_notice")),1)]),e.createElementVNode("view",{class:"action",style:{width:"80%"}},[e.createElementVNode("view",{class:"text-grey im-flex im-justify-content-end"},[e.createElementVNode("view",{class:"text-overflow notice-line"},e.toDisplayString(s.contact.notice??t.$t("message.msg_group_nonotice")),1),e.createElementVNode("text",{class:"cuIcon-right"})])])]),s.isAuth?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cu-item",onClick:i[4]||(i[4]=e=>a.openModel("manage"))},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("view",null,e.toDisplayString(t.$t("message.msg_group_guanli")),1)]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("view",{class:"text-grey"},[e.createElementVNode("text",{class:"cuIcon-right"})])])])):e.createCommentVNode("",!0),e.createVNode(c,{ref:"popup",type:"dialog"},{default:e.withCtx((()=>[e.createVNode(l,{mode:"input",value:s.contact.displayName,title:t.$t("message.msg_group_rename"),duration:2e3,"before-close":!0,onClose:a.closePop,onConfirm:a.editGroupName},null,8,["value","title","onClose","onConfirm"])])),_:1},512)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"cu-list menu mt-15 bg-white"},[e.createElementVNode("view",{class:"cu-item"},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("view",null,e.toDisplayString(t.$t("message.msg_group_set_no")),1)]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("switch",{class:e.normalizeClass(["switch",s.contact.is_notice?"":"checked"]),onChange:i[5]||(i[5]=(...e)=>a.setIsNotice&&a.setIsNotice(...e)),checked:!s.contact.is_notice},null,42,["checked"])])]),e.createElementVNode("view",{class:"cu-item"},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("view",null,e.toDisplayString(t.$t("message.msg_group_set_top")),1)]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("switch",{class:e.normalizeClass(["switch",s.contact.is_top?"checked":""]),onChange:i[6]||(i[6]=(...e)=>a.setIsTop&&a.setIsTop(...e)),checked:!!s.contact.is_top},null,42,["checked"])])])]),1==s.is_group?(e.openBlock(),e.createElementBlock("view",{key:1,class:"cu-list menu mt-15 bg-white",onClick:i[7]||(i[7]=(...e)=>a.removeGroup&&a.removeGroup(...e))},[e.createElementVNode("view",{class:"cu-item text-center delete-btn"},[e.createElementVNode("text",{class:"c-red"},e.toDisplayString(s.isAdmin?t.$t("message.msg_group_close"):t.$t("message.msg_group_out")),1)])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"parting-line-20"}),e.createElementVNode("view",{class:e.normalizeClass(["cu-modal bottom-modal","notice"==s.modelName?"show":""])},[e.createElementVNode("view",{class:"cu-dialog"},[e.createElementVNode("view",{class:"cu-bar bg-white"},[e.createElementVNode("view",{class:"action text-gray",onClick:i[8]||(i[8]=(...e)=>a.closeModel&&a.closeModel(...e))},e.toDisplayString(t.$t("message.quxiao")),1),e.createElementVNode("view",{class:"action text-green",onClick:i[9]||(i[9]=(...e)=>a.editNotice&&a.editNotice(...e))},e.toDisplayString(t.$t("message.save")),1)]),e.createElementVNode("view",{class:"notice-content"},[e.withDirectives(e.createElementVNode("textarea",{class:"im-textarea",maxlength:"-1",disabled:!s.isAuth,"onUpdate:modelValue":i[10]||(i[10]=e=>s.contact.notice=e),onInput:i[11]||(i[11]=(...e)=>t.textareaAInput&&t.textareaAInput(...e)),placeholder:t.$t("message.msg_group_notice2")},null,40,["disabled","placeholder"]),[[e.vModelText,s.contact.notice]])])])],2),e.createElementVNode("view",{class:e.normalizeClass(["cu-modal bottom-modal","manage"==s.modelName?"show":""])},[e.createElementVNode("view",{class:"cu-dialog"},[e.createElementVNode("view",{class:"cu-bar bg-white"},[e.createElementVNode("view",{class:"action text-gray",onClick:i[12]||(i[12]=(...e)=>a.closeModel&&a.closeModel(...e))},e.toDisplayString(t.$t("message.quxiao")),1),e.createElementVNode("view",{class:"action text-green",onClick:i[13]||(i[13]=(...e)=>a.saveManage&&a.saveManage(...e))},e.toDisplayString(t.$t("message.save")),1)]),e.createElementVNode("view",{class:"manage-content"},[e.createElementVNode("view",{class:"cu-list menu mt-15 bg-white"},[e.createElementVNode("view",{class:"cu-item"},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("view",null,e.toDisplayString(t.$t("message.msg_group_set_t1")),1),e.createElementVNode("view",{class:"text-gray text-sm"},e.toDisplayString(t.$t("message.msg_group_set_t2")),1)]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("switch",{class:e.normalizeClass(["switch","1"==s.contact.setting.manage?"checked":""]),onChange:i[14]||(i[14]=(...e)=>a.setManage&&a.setManage(...e)),checked:"1"==s.contact.setting.manage},null,42,["checked"])])]),e.createElementVNode("view",{class:"cu-item"},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("view",null,e.toDisplayString(t.$t("message.msg_group_set_t3")),1),e.createElementVNode("view",{class:"text-gray text-sm"},e.toDisplayString(t.$t("message.msg_group_set_t4")),1)]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("switch",{class:e.normalizeClass(["switch","1"==s.contact.setting.invite?"checked":""]),onChange:i[15]||(i[15]=(...e)=>a.setInvite&&a.setInvite(...e)),checked:"1"==s.contact.setting.invite},null,42,["checked"])])]),e.createElementVNode("view",{class:"cu-item"},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("view",null,e.toDisplayString(t.$t("message.msg_group_set_t5")),1),e.createElementVNode("view",{class:"text-gray text-sm"},e.toDisplayString(t.$t("message.msg_group_set_t6")),1)]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("switch",{class:e.normalizeClass(["switch","1"==s.contact.setting.profile?"checked":""]),onChange:i[16]||(i[16]=(...e)=>a.setProfile&&a.setProfile(...e)),checked:"1"==s.contact.setting.profile},null,42,["checked"])])]),e.createVNode(d,{title:t.$t("message.msg_group_set_t7"),type:"line"},{default:e.withCtx((()=>[e.createElementVNode("radio-group",{class:"block",onChange:i[17]||(i[17]=(...e)=>a.setSpeak&&a.setSpeak(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.radioList,(t=>(e.openBlock(),e.createElementBlock("view",{class:"cu-form-group"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.label),1),e.createElementVNode("radio",{class:e.normalizeClass(s.contact.setting.nospeak==t.value?"checked":""),checked:s.contact.setting.nospeak==t.value,value:t.value},null,10,["checked","value"])])))),256))],32)])),_:1},8,["title"])])])])],2)])])}],["__scopeId","data-v-b0bacfe0"]]),Si=we(he),Ei=me(he),Vi={data:()=>({modelName:"",detail:{},userInfo:Ei.userInfo,globalConfig:Ei.globalConfig}),computed:{validatePhone(){return/^1[3456789]\d{9}$/.test(this.detail.account)}},onLoad(e){this.pop_notice=!1,this.$api.msgApi.getUserInfo({user_id:e.id}).then((e=>{0==e.code&&(this.detail=e.data)}))},methods:{sendMsg(e){uni.navigateTo({url:"/pages/message/chat?id="+e.user_id})},sex(e){return[this.$t("contact.sex_nv"),this.$t("contact.sex_nan"),this.$t("contact.no_msg")][e]||this.$t("contact.no_msg")},callPhone(){let e=JSON.parse(JSON.stringify(Ei.userInfo));0!=e.islevel||1===e.role?uni.makePhoneCall({phoneNumber:this.detail.account}):this.pop_notice=!0},calling(e){let t=JSON.parse(JSON.stringify(Ei.userInfo));if(0==t.islevel&&1!==t.role)return void(this.pop_notice=!0);if(Si.webrtcLock)return uni.showToast({title:this.$t("contact.other"),icon:"none"});this.modelName="";let i=this.$util.getUuid();uni.navigateTo({url:"/pages/message/call?msg_id="+i+"&type="+e+"&status=1&id="+this.detail.user_id+"&name="+this.detail.realname+"&avatar="+encodeURI(this.detail.avatar)})},delFriend(){uni.showModal({title:this.$t("contact.sure_del"),success:e=>{if(e.confirm){let e={id:this.detail.user_id};this.$api.friendApi.delFriend(e).then((t=>{0==t.code&&(Si.deleteContacts(e),uni.reLaunch({url:"/pages/index/index"}))}))}}})},addFriend(){uni.showModal({title:this.$t("contact.check_msg"),editable:!0,success:e=>{if(e.confirm){if(""==e.content)return uni.showToast({title:this.$t("contact.check_remark"),icon:"error"});this.$api.friendApi.addFriend({user_id:this.detail.user_id,remark:e.content}).then((e=>{0==e.code&&uni.showToast({title:e.msg,icon:"none"})}))}}})},setNickname(){let e=this.detail.friend.friend_id??"";if(!this.detail.friend)return uni.showToast({title:this.$t("contact.can_not_set"),icon:"error"});uni.showModal({title:this.$t("contact.check_remark2"),editable:!0,success:t=>{if(t.confirm){if(""==t.content)return uni.showToast({title:this.$t("contact.check_remark3"),icon:"error"});this.$api.friendApi.setNickname({friend_id:e,nickname:t.content}).then((e=>{0==e.code&&(this.detail.friend.nickname=t.content,uni.showToast({title:e.msg,icon:"none"}))}))}}})}}};const Ti=o(Vi,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("contact.title")),1)])),_:1}),e.createElementVNode("view",{class:"padding flex justify-start align-center"},[e.createElementVNode("view",{class:"cu-avatar lg radius mr-15",style:e.normalizeStyle("background-image:url("+s.detail.avatar+")")},null,4),e.createElementVNode("view",{class:"im-flex im-justify-content-start im-columns"},[e.createElementVNode("view",{class:"mb-5"},e.toDisplayString(s.detail.realname),1),e.createElementVNode("view",{class:"text-gray"},e.toDisplayString(s.detail.account),1)])]),e.createElementVNode("view",{class:"cu-list menu"},[2==s.globalConfig.sysInfo.runMode&&s.detail.friend&&s.userInfo.user_id!=s.detail.user_id?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cu-item",onClick:i[0]||(i[0]=(...e)=>a.setNickname&&a.setNickname(...e))},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("text",{class:"cuIcon-edit text-green"}),e.createElementVNode("text",null,e.toDisplayString(t.$t("contact.remarks")),1)]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("text",{class:"text-grey text-sm"},e.toDisplayString(s.detail.friend.nickname||t.$t("contact.no_set")),1),e.createElementVNode("text",{class:"text-grey text-sm ml-5 cuIcon-write"})])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"cu-item"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("text",{class:"cuIcon-mail text-green"}),e.createElementVNode("text",null,e.toDisplayString(t.$t("contact.emial")),1)]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("text",{class:"text-grey text-sm"},e.toDisplayString(s.detail.email??""),1)])]),e.createElementVNode("view",{class:"cu-item"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("text",{class:"cuIcon-safe text-green"}),e.createElementVNode("text",null,e.toDisplayString(t.$t("contact.sex")),1)]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("text",{class:"text-grey text-sm"},e.toDisplayString(a.sex(s.detail.sex)),1)])]),parseInt(s.globalConfig.sysInfo.ipregion)?(e.openBlock(),e.createElementBlock("view",{key:1,class:"cu-item"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("text",{class:"cuIcon-location text-green"}),e.createElementVNode("text",null,"IP")]),e.createElementVNode("view",{class:"action"},[s.detail.last_login_ip?(e.openBlock(),e.createElementBlock("text",{key:0,class:"text-grey text-sm"},e.toDisplayString(s.detail.last_login_ip||t.$t("contact.no_msg"))+" （"+e.toDisplayString(s.detail.location||t.$t("contact.no_msg"))+"）",1)):(e.openBlock(),e.createElementBlock("text",{key:1,class:"text-grey text-sm"},"未知"))])])):e.createCommentVNode("",!0)]),s.userInfo.user_id!=s.detail.user_id?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[1==s.globalConfig.sysInfo.runMode||s.detail.friend?(e.openBlock(),e.createElementBlock("view",{key:0,class:"padding flex flex-direction"},[e.createElementVNode("button",{class:"cu-btn bg-green mt-10 lg",onClick:i[1]||(i[1]=e=>a.sendMsg(s.detail))},e.toDisplayString(t.$t("contact.send_msg")),1),a.validatePhone?(e.openBlock(),e.createElementBlock("button",{key:0,class:"cu-btn bg-blue mt-10 lg",onClick:i[2]||(i[2]=e=>a.callPhone())},e.toDisplayString(t.$t("contact.call")),1)):e.createCommentVNode("",!0),parseInt(s.globalConfig.chatInfo.webrtc)?(e.openBlock(),e.createElementBlock("button",{key:1,class:"cu-btn bg-grey mt-10 lg",onClick:i[3]||(i[3]=e=>s.modelName="callRtc")},e.toDisplayString(t.$t("contact.video")),1)):e.createCommentVNode("",!0),2==s.globalConfig.sysInfo.runMode?(e.openBlock(),e.createElementBlock("button",{key:2,class:"cu-btn bg-red mt-10 lg",onClick:i[4]||(i[4]=e=>a.delFriend())},e.toDisplayString(t.$t("contact.del_friend")),1)):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0),2!=s.globalConfig.sysInfo.runMode||s.detail.friend?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:1,class:"padding flex flex-direction"},[e.createElementVNode("button",{class:"cu-btn bg-green lg",onClick:i[5]||(i[5]=e=>a.addFriend())},e.toDisplayString(t.$t("contact.add_friend")),1)]))],64)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass(["cu-modal bottom-modal","callRtc"==s.modelName?"show":""]),onClick:i[9]||(i[9]=e=>s.modelName="")},[e.createElementVNode("view",{class:"cu-dialog"},[e.createElementVNode("view",{class:"manage-content"},[e.createElementVNode("view",{class:"cu-list menu bg-white"},[e.createElementVNode("view",{class:"cu-item",onClick:i[6]||(i[6]=e=>a.calling(0))},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("text",{class:"cuIcon-dianhua"}),e.createElementVNode("text",null,e.toDisplayString(t.$t("contact.video_yuyin")),1)])]),e.createElementVNode("view",{class:"cu-item",onClick:i[7]||(i[7]=e=>a.calling(1))},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("text",{class:"cuIcon-record"}),e.createElementVNode("text",null,e.toDisplayString(t.$t("contact.video_shiping")),1)])]),e.createElementVNode("view",{class:"parting-line-5"}),e.createElementVNode("view",{class:"cu-item",onClick:i[8]||(i[8]=e=>s.modelName="")},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("text",{class:"c-red"},e.toDisplayString(t.$t("contact.close")),1)])])])])])],2),e.withDirectives(e.createElementVNode("view",null,[e.createElementVNode("view",{class:"com_bg"}),e.createElementVNode("view",{class:"com_main"},[e.createElementVNode("view",{class:"pop_mian"},[e.createElementVNode("view",{class:"pop_title"},e.toDisplayString(t.$t("pop.title")),1),e.createElementVNode("view",{style:{padding:"10px 15px","line-height":"25px","flex-wrap":"wrap","text-align":"center"}},e.toDisplayString(t.$t("pop.content7")),1),e.createElementVNode("view",{class:"pop_foot"},[e.createElementVNode("view",{class:"pop_ft_btn1",onClick:i[10]||(i[10]=e=>t.pop_notice=!1)},e.toDisplayString(t.$t("pop.close")),1),e.createElementVNode("view",{class:"pop_ft_btn2",onClick:i[11]||(i[11]=e=>t.pop_ok())},e.toDisplayString(t.$t("pop.up")),1)])])])],512),[[e.vShow,t.pop_notice]])])}]]);const Ii=o({name:"UniSegmentedControl",emits:["clickItem"],props:{current:{type:Number,default:0},values:{type:Array,default:()=>[]},activeColor:{type:String,default:"#2979FF"},styleType:{type:String,default:"button"}},data:()=>({currentIndex:0}),watch:{current(e){e!==this.currentIndex&&(this.currentIndex=e)}},created(){this.currentIndex=this.current},methods:{_onClick(e){this.currentIndex!==e&&(this.currentIndex=e,this.$emit("clickItem",{currentIndex:e}))}}},[["render",function(t,i,o,n,s,a){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass([["text"===o.styleType?"segmented-control--text":"segmented-control--button"],"segmented-control"]),style:e.normalizeStyle({borderColor:"text"===o.styleType?"":o.activeColor})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.values,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass([["text"===o.styleType?"":"segmented-control__item--button",i===s.currentIndex&&"button"===o.styleType?"segmented-control__item--button--active":"",0===i&&"button"===o.styleType?"segmented-control__item--button--first":"",i===o.values.length-1&&"button"===o.styleType?"segmented-control__item--button--last":""],"segmented-control__item"]),key:i,style:e.normalizeStyle({backgroundColor:i===s.currentIndex&&"button"===o.styleType?o.activeColor:"",borderColor:i===s.currentIndex&&"text"===o.styleType||"button"===o.styleType?o.activeColor:"transparent"}),onClick:e=>a._onClick(i)},[e.createElementVNode("view",null,[e.createElementVNode("text",{style:e.normalizeStyle({color:i===s.currentIndex?"text"===o.styleType?o.activeColor:"#fff":"text"===o.styleType?"#000":o.activeColor}),class:e.normalizeClass(["segmented-control__text","text"===o.styleType&&i===s.currentIndex?"segmented-control__item--text":""])},e.toDisplayString(t),7)])],14,["onClick"])))),128))],6)}],["__scopeId","data-v-84a14824"]]),Pi={en:{"uni-pagination.prevText":"prev","uni-pagination.nextText":"next"},es:{"uni-pagination.prevText":"anterior","uni-pagination.nextText":"próxima"},fr:{"uni-pagination.prevText":"précédente","uni-pagination.nextText":"suivante"},"zh-Hans":{"uni-pagination.prevText":"上一页","uni-pagination.nextText":"下一页"},"zh-Hant":{"uni-pagination.prevText":"上一頁","uni-pagination.nextText":"下一頁"}},{t:Di}=Mt(Pi),Ai={name:"UniPagination",emits:["update:modelValue","input","change"],props:{value:{type:[Number,String],default:1},modelValue:{type:[Number,String],default:1},prevText:{type:String},nextText:{type:String},current:{type:[Number,String],default:1},total:{type:[Number,String],default:0},pageSize:{type:[Number,String],default:10},showIcon:{type:[Boolean,String],default:!1},pagerCount:{type:Number,default:7}},data:()=>({currentIndex:1,paperData:[]}),computed:{prevPageText(){return this.prevText||Di("uni-pagination.prevText")},nextPageText(){return this.nextText||Di("uni-pagination.nextText")},maxPage(){let e=1,t=Number(this.total),i=Number(this.pageSize);return t&&i&&(e=Math.ceil(t/i)),e},paper(){const e=this.currentIndex,t=this.pagerCount,i=this.total,o=this.pageSize;let n=[],s=[],a=Math.ceil(i/o);for(let l=0;l<a;l++)n.push(l+1);s.push(1);const r=n[n.length-(t+1)/2];return n.forEach(((i,o)=>{(t+1)/2>=e?i<t+1&&i>1&&s.push(i):e+2<=r?i>e-(t+1)/2&&i<e+(t+1)/2&&s.push(i):(i>e-(t+1)/2||a-t<i)&&i<n[n.length-1]&&s.push(i)})),a>t?((t+1)/2>=e?s[s.length-1]="...":e+2<=r?(s[1]="...",s[s.length-1]="..."):s[1]="...",s.push(n[n.length-1])):(t+1)/2>=e||e+2<=r||(s.shift(),s.push(n[n.length-1])),s}},watch:{current:{immediate:!0,handler(e,t){this.currentIndex=e<1?1:e}},value:{immediate:!0,handler(e){1===Number(this.current)&&(this.currentIndex=e<1?1:e)}}},methods:{selectPage(e,t){if(parseInt(e))this.currentIndex=e,this.change("current");else{let e=Math.ceil(this.total/this.pageSize);if(t<=1)return void(this.currentIndex-5>1?this.currentIndex-=5:this.currentIndex=1);if(t>=6)return void(this.currentIndex+5>e?this.currentIndex=e:this.currentIndex+=5)}},clickLeft(){1!==Number(this.currentIndex)&&(this.currentIndex-=1,this.change("prev"))},clickRight(){Number(this.currentIndex)>=this.maxPage||(this.currentIndex+=1,this.change("next"))},change(e){this.$emit("input",this.currentIndex),this.$emit("update:modelValue",this.currentIndex),this.$emit("change",{type:e,current:this.currentIndex})}}};const $i=o(Ai,[["render",function(t,i,o,n,s,a){const r=y(e.resolveDynamicComponent("uni-icons"),He);return e.openBlock(),e.createElementBlock("view",{class:"uni-pagination"},[e.createElementVNode("view",{class:"uni-pagination__total is-phone-hide"},"共 "+e.toDisplayString(o.total)+" 条",1),e.createElementVNode("view",{class:e.normalizeClass(["uni-pagination__btn",1===s.currentIndex?"uni-pagination--disabled":"uni-pagination--enabled"]),"hover-class":1===s.currentIndex?"":"uni-pagination--hover","hover-start-time":20,"hover-stay-time":70,onClick:i[0]||(i[0]=(...e)=>a.clickLeft&&a.clickLeft(...e))},[!0===o.showIcon||"true"===o.showIcon?(e.openBlock(),e.createBlock(r,{key:0,color:"#666",size:"16",type:"left"})):(e.openBlock(),e.createElementBlock("text",{key:1,class:"uni-pagination__child-btn"},e.toDisplayString(a.prevPageText),1))],10,["hover-class"]),e.createElementVNode("view",{class:"uni-pagination__num uni-pagination__num-flex-none"},[e.createElementVNode("view",{class:"uni-pagination__num-current"},[e.createElementVNode("text",{class:"uni-pagination__num-current-text is-pc-hide",style:{color:"#409EFF"}},e.toDisplayString(s.currentIndex),1),e.createElementVNode("text",{class:"uni-pagination__num-current-text is-pc-hide"},"/"+e.toDisplayString(a.maxPage||0),1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.paper,((t,i)=>(e.openBlock(),e.createElementBlock("view",{key:i,class:e.normalizeClass([{"page--active":t===s.currentIndex},"uni-pagination__num-tag tag--active is-phone-hide"]),onClick:e=>a.selectPage(t,i)},[e.createElementVNode("text",null,e.toDisplayString(t),1)],10,["onClick"])))),128))])]),e.createElementVNode("view",{class:e.normalizeClass(["uni-pagination__btn",s.currentIndex>=a.maxPage?"uni-pagination--disabled":"uni-pagination--enabled"]),"hover-class":s.currentIndex===a.maxPage?"":"uni-pagination--hover","hover-start-time":20,"hover-stay-time":70,onClick:i[1]||(i[1]=(...e)=>a.clickRight&&a.clickRight(...e))},[!0===o.showIcon||"true"===o.showIcon?(e.openBlock(),e.createBlock(r,{key:0,color:"#666",size:"16",type:"right"})):(e.openBlock(),e.createElementBlock("text",{key:1,class:"uni-pagination__child-btn"},e.toDisplayString(a.nextPageText),1))],10,["hover-class"])])}],["__scopeId","data-v-bd912497"]]),Li=we(he);L(Li);const Mi={name:"group",data(){return{items:[this.$t("friend.send_for_me"),this.$t("friend.send_by_me")],current:0,list:[],total:0,params:{page:1,limit:10,is_mine:0,userinfo:{}}}},created(){},mounted(){this.userinfo=uni.getStorageSync("userInfo"),this.getList()},methods:{getList(){this.$api.friendApi.applyList(this.params).then((e=>{0==e.code&&(this.list=e.data,this.total=e.count)}))},changePage(e){this.params.page=e.current,this.getList()},onClickItem(e){this.params.is_mine=e.currentIndex,this.current=e.currentIndex,this.params.page=1,this.getList()},sendMsg(e){uni.navigateTo({url:"/pages/message/chat?id="+e})},openDetails(e){uni.navigateTo({url:"/pages/contacts/detail?id="+e})},searchFriend(){1==this.userinfo.role?uni.navigateTo({url:"/pages/contacts/search"}):uni.showToast({title:this.$t("friend.pop_tit"),icon:"none"})},optApply(e){uni.showModal({title:this.$t("friend.pop_n1"),content:this.$t("friend.pop_n2"),cancelText:this.$t("friend.pop_n3"),cancelColor:"#e54d42",confirmText:this.$t("friend.pop_n4"),success:t=>{let i=0;t.confirm&&(i=1),this.$api.friendApi.acceptApply({friend_id:e.friend_id,status:i}).then((e=>{0==e.code&&(uni.showToast({title:e.msg,icon:"none"}),Li.sysUnread--,this.getList())}))}})}}};const Oi=o(Mi,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom"),l=y(e.resolveDynamicComponent("uni-segmented-control"),Ii),c=y(e.resolveDynamicComponent("uni-pagination"),$i),d=e.resolveComponent("Empty");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("friend.title")),1)])),right:e.withCtx((()=>[e.createElementVNode("view",{class:"f-20 ml-10 mr-10",onClick:i[0]||(i[0]=e=>a.searchFriend())},[e.createElementVNode("text",{class:"cuIcon-add"})])])),_:1}),e.createVNode(l,{current:s.current,values:s.items,onClickItem:a.onClickItem,styleType:"text"},null,8,["current","values","onClickItem"]),e.createElementVNode("view",{class:"cu-list menu"},[s.params.is_mine?e.createCommentVNode("",!0):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:0},e.renderList(s.list,((i,o)=>(e.openBlock(),e.createElementBlock("view",{class:"cu-item",key:o},[e.createElementVNode("view",{class:"cu-avatar md radius mr-15",style:e.normalizeStyle([{backgroundImage:"url("+i.create_user_info.avatar+")"}])},null,4),e.createElementVNode("view",{class:"content padding-tb-sm",onClick:e=>a.openDetails(i.create_user_info.user_id)},[s.params.is_mine?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"text-grey"},[e.createElementVNode("text",{class:"text-blue"},e.toDisplayString(i.create_user_info.realname),1),e.createTextVNode(" "+e.toDisplayString(t.$t("friend.replay_add")),1)])),e.createElementVNode("view",{class:"text-gray text-sm lh-15x"},e.toDisplayString(i.remark),1)],8,["onClick"]),e.createElementVNode("view",{class:"action ml-10"},[0==i.status?(e.openBlock(),e.createElementBlock("text",{key:0,class:"text-red"},e.toDisplayString(t.$t("friend.reback")),1)):e.createCommentVNode("",!0),1==i.status?(e.openBlock(),e.createElementBlock("text",{key:1,class:"text-blue",onClick:e=>a.sendMsg(i.create_user_info.user_id)},e.toDisplayString(t.$t("friend.send")),9,["onClick"])):e.createCommentVNode("",!0),2==i.status?(e.openBlock(),e.createElementBlock("button",{key:2,class:"cu-btn round sm bg-green",onClick:e=>a.optApply(i)},e.toDisplayString(t.$t("friend.control")),9,["onClick"])):e.createCommentVNode("",!0)])])))),128)),s.params.is_mine?(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(s.list,((i,o)=>(e.openBlock(),e.createElementBlock("view",{class:"cu-item",key:o},[e.createElementVNode("view",{class:"cu-avatar md radius mr-15",style:e.normalizeStyle([{backgroundImage:"url("+i.user_id_info.avatar+")"}])},null,4),e.createElementVNode("view",{class:"content",onClick:e=>a.openDetails(i.user_id_info.user_id)},[e.createElementVNode("view",{class:"text-grey"},[e.createTextVNode(" 和"),e.createElementVNode("text",{class:"text-blue"},e.toDisplayString(i.user_id_info.realname),1),e.createTextVNode(" "+e.toDisplayString(t.$t("friend.talk")),1)])],8,["onClick"]),e.createElementVNode("view",{class:"action ml-10"},[0==i.status?(e.openBlock(),e.createElementBlock("text",{key:0,class:"text-red"},e.toDisplayString(t.$t("friend.jujue")),1)):e.createCommentVNode("",!0),1==i.status?(e.openBlock(),e.createElementBlock("text",{key:1,class:"text-blue",onClick:e=>a.sendMsg(i.user_id_info.user_id)},e.toDisplayString(t.$t("friend.retalk")),9,["onClick"])):e.createCommentVNode("",!0),2==i.status?(e.openBlock(),e.createElementBlock("text",{key:2,class:"text-orange"},e.toDisplayString(t.$t("friend.wait_tongyi")),1)):e.createCommentVNode("",!0)])])))),128)):e.createCommentVNode("",!0),s.list.length?(e.openBlock(),e.createElementBlock("view",{key:2,class:"m-10"},[e.createVNode(c,{current:s.params.page,total:s.total,pageSize:s.params.limit,onChange:a.changePage},null,8,["current","total","pageSize","onChange"])])):e.createCommentVNode("",!0),s.list.length?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(d,{key:3,noDatatext:t.$t("friend.no_data"),textcolor:"#999"},null,8,["noDatatext"]))])])}]]);const Fi=o({name:"search",data(){return{title:"搜索朋友",keywords:"",contacts:[],type:1,noText:this.$t("contact.no_data")}},methods:{search(){if(""==this.keywords)return uni.showToast({title:this.$t("contact.search_pop"),icon:"none"});this.noText=this.$t("contact.search_no_data"),this.$api.msgApi.searchUser({keywords:this.keywords}).then((e=>{0==e.code&&(this.contacts=e.data)}))},openDetails(e){uni.navigateTo({url:"/pages/contacts/detail?id="+e.user_id})},sendMsg(e){uni.navigateTo({url:"/pages/message/chat?id="+e})}}},[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom"),l=e.resolveComponent("Empty");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("contact.search_title")),1)])),_:1}),e.createElementVNode("view",{class:"cu-bar bg-white search fixed",style:e.normalizeStyle([{top:t.CustomBar+"px"}])},[e.createElementVNode("view",{class:"search-form round"},[e.createElementVNode("text",{class:"cuIcon-search"}),e.withDirectives(e.createElementVNode("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=e=>s.keywords=e),placeholder:t.$t("contact.search"),"confirm-type":"search"},null,8,["placeholder"]),[[e.vModelText,s.keywords]])]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("button",{class:"cu-btn round bg-green",onClick:i[1]||(i[1]=e=>a.search())},e.toDisplayString(t.$t("contact.search_btn")),1)])],4),e.createElementVNode("view",{style:{"margin-top":"120rpx"}},[e.createElementVNode("view",null,[e.createElementVNode("view",{class:"cu-list menu no-padding"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.contacts,((i,o)=>(e.openBlock(),e.createElementBlock("view",{class:"cu-item",key:o,onClick:e=>a.openDetails(i)},[e.createElementVNode("view",{class:"cu-avatar radius mr-15",style:e.normalizeStyle([{backgroundImage:"url("+i.avatar+")"}])},null,4),e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"c-333"},e.toDisplayString(i.realname),1)]),e.createElementVNode("view",{class:"action ml-10"},[i.friend?(e.openBlock(),e.createElementBlock("view",{key:0,class:"text-blue",onClick:e.withModifiers((e=>a.sendMsg(i.user_id)),["stop"])},e.toDisplayString(t.$t("contact.send_msg")),9,["onClick"])):e.createCommentVNode("",!0),i.friend?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:1,class:"text-blue"},e.toDisplayString(t.$t("contact.see_more")),1))])],8,["onClick"])))),128))])]),s.contacts.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0},[e.createVNode(l,{noDatatext:s.noText,textcolor:"#999"},null,8,["noDatatext"])]))])])}]]),Ui={name:"IM",version:"3.1.1",description:"聊天工具",logo:"https://im.file.raingad.com/logo/logo.png",author:"IM",main:"main.js",scripts:{test:'echo "Error: no test specified" && exit 1'},repository:{type:"git",url:""},keywords:[],license:"ISC",dependencies:{jsqr:"^1.4.0",pinia:"^2.0.23","vue-i18n":"^8.28.2"}},Ri=me(he),zi={data:()=>({loginForm:{account:"",password:"",code:"",client_id:"",rememberMe:!1},forget:!1,packData:Ui,globalConfig:Ri.globalConfig}),watch:{forget(e){e&&(this.loginForm.password="123456")}},mounted(){_("log","at pages/login/index.vue:141","ffff",document.documentElement.clientHeight),this.run_bg();let e=uni.getStorageSync("LoginAccount");e&&(this.loginForm=e)},methods:{run_bg(){var e=document.getElementById("demo");document.getElementById("demo1");var t=document.getElementById("demo2");function i(){t.offsetTop-e.scrollTop-e.offsetTop<=0?(e.scrollTop=0,_("log","at pages/login/index.vue:162","<0:"+e.scrollTop)):e.scrollTop++}document.getElementById("demo3"),demo2.innerHTML=demo1.innerHTML;var o=setInterval(i,15);e.onmouseover=function(){clearInterval(o)},e.onmouseout=function(){o=setInterval(i,15)}},to_kefu(){uni.navigateTo({url:"/pages/movie/kefu/kefu"})},switchChange(e){this.loginForm.rememberMe=e.detail.value},sendCode(){if(!this.loginForm.account)return uni.showToast({title:"请输入账号！",icon:"none"}),!1;let e={account:this.loginForm.account,type:1};this.$api.LoginApi.sendCode(e).then((e=>{uni.showToast({title:e.msg,icon:"none"})}))},register(){uni.navigateTo({url:"/pages/login/register"})},login(){if(this.loginForm.rememberMe?uni.setStorageSync("LoginAccount",this.loginForm):uni.removeStorageSync("LoginAccount"),""==this.loginForm.account)return uni.showToast({title:this.$t("login.pop_tit1"),icon:"none"}),!1;if(""==this.loginForm.password)return uni.showToast({title:this.$t("login.pop_tit2"),icon:"none"}),!1;let e=uni.getStorageSync("client_id");e&&(this.loginForm.client_id=e),this.$api.LoginApi.login(this.loginForm).then((e=>{if(0==e.code){uni.setStorageSync("authToken",e.data.authToken);let t=e.data.userInfo;this.check_login(t.account),this.socketIo.send({type:"bindUid",user_id:t.user_id,token:e.data.authToken}),Ri.login(t)}}))},async check_login(e){const t=await this.$myRuquest({url:"/api/front/user/login",method:"POST",data:{username:e,password:""}});200==t.code&&(uni.setStorageSync("ifLogin",t.data.token),uni.reLaunch({url:"/pages/index/index"}))}}};const ji=o(zi,[["render",function(t,i,o,n,s,a){return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("view",{style:{height:"100vh",width:"100%",position:"fixed",top:"0",left:"0","z-index":"5"}},[e.createElementVNode("view",{style:{height:"150rpx"}}),e.createElementVNode("view",{class:"padding im-flex im-rows im-justify-content-center mb-10"},[e.createElementVNode("view",{class:"im-flex im-rows im-justify-content-center"},[e.createElementVNode("image",{class:"login-logo",src:s.globalConfig.sysInfo.logo??s.packData.logo,mode:"fixWidth"},null,8,["src"])])]),e.createElementVNode("view",{class:"im-flex im-rows im-justify-content-center"},e.toDisplayString(s.globalConfig.sysInfo.name??s.packData.name),1),e.createElementVNode("form",null,[e.createElementVNode("view",{class:"cu-form-group margin-top"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.$t("login.tit_l1")),1),e.withDirectives(e.createElementVNode("input",{placeholder:t.$t("login.tit_l1_p1"),maxlength:"32",name:"input","onUpdate:modelValue":i[0]||(i[0]=e=>s.loginForm.account=e)},null,8,["placeholder"]),[[e.vModelText,s.loginForm.account]])]),s.forget?(e.openBlock(),e.createElementBlock("view",{key:1,class:"cu-form-group"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.$t("login.tit_l3")),1),e.withDirectives(e.createElementVNode("input",{placeholder:t.$t("login.tit_l1_p3"),maxlength:"6",name:"input","onUpdate:modelValue":i[2]||(i[2]=e=>s.loginForm.code=e)},null,8,["placeholder"]),[[e.vModelText,s.loginForm.code]]),e.createElementVNode("button",{class:"cu-btn bg-blue shadow",onClick:i[3]||(i[3]=(...e)=>a.sendCode&&a.sendCode(...e))},"发送验证码")])):(e.openBlock(),e.createElementBlock("view",{key:0,class:"cu-form-group"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.$t("login.tit_l2")),1),e.withDirectives(e.createElementVNode("input",{placeholder:t.$t("login.tit_l1_p2"),maxlength:"32",type:"password",name:"input","onUpdate:modelValue":i[1]||(i[1]=e=>s.loginForm.password=e)},null,8,["placeholder"]),[[e.vModelText,s.loginForm.password]])]))]),e.createElementVNode("view",{class:"forget"},[e.createElementVNode("view",null,[e.createElementVNode("switch",{class:e.normalizeClass(["switch",s.loginForm.rememberMe?"checked":""]),checked:s.loginForm.rememberMe,onChange:i[4]||(i[4]=(...e)=>a.switchChange&&a.switchChange(...e)),style:{transform:"scale(0.7)"}},null,42,["checked"]),e.createTextVNode(e.toDisplayString(t.$t("login.tit_l4")),1)]),e.withDirectives(e.createElementVNode("view",{class:"text-blue",onClick:i[5]||(i[5]=(...e)=>a.to_kefu&&a.to_kefu(...e))},e.toDisplayString(t.$t("login.tit_l5")),513),[[e.vShow,!s.forget]])]),e.createElementVNode("view",{class:"flex flex-direction im-login-btn"},[e.createElementVNode("button",{class:"cu-btn lg bg-pink",onClick:i[6]||(i[6]=e=>a.login())},e.toDisplayString(t.$t("login.tit_l6")),1)]),s.globalConfig&&1==s.globalConfig.sysInfo.regtype?(e.openBlock(),e.createElementBlock("view",{key:0,class:"flex flex-direction im-reg-btn"},[e.createElementVNode("button",{class:"cu-btn lg bg-white",onClick:i[7]||(i[7]=e=>a.register())},e.toDisplayString(t.$t("login.tit_l7")),1)])):e.createCommentVNode("",!0)]),e.createElementVNode("view",{id:"demo",class:"out-box"},[e.createElementVNode("view",{id:"demo1",style:{display:"flex","flex-wrap":"wrap"}},[e.createElementVNode("view",{style:{width:"50%","margin-bottom":"-4px"}},[e.createElementVNode("image",{src:"/static/image/login/a1.jpg",mode:"widthFix",style:{width:"100%"}})]),e.createElementVNode("view",{style:{width:"50%","margin-bottom":"-4px"}},[e.createElementVNode("image",{src:"/static/image/login/a2.jpg",mode:"widthFix",style:{width:"100%"}})]),e.createElementVNode("view",{style:{width:"50%","margin-bottom":"-4px"}},[e.createElementVNode("image",{src:"/static/image/login/a3.jpg",mode:"widthFix",style:{width:"100%"}})]),e.createElementVNode("view",{style:{width:"50%","margin-bottom":"-4px"}},[e.createElementVNode("image",{src:"/static/image/login/a4.jpg",mode:"widthFix",style:{width:"100%"}})]),e.createElementVNode("view",{style:{width:"50%","margin-bottom":"-4px"}},[e.createElementVNode("image",{src:"/static/image/login/a5.jpg",mode:"widthFix",style:{width:"100%"}})]),e.createElementVNode("view",{style:{width:"50%","margin-bottom":"-4px"}},[e.createElementVNode("image",{src:"/static/image/login/a6.jpg",mode:"widthFix",style:{width:"100%"}})]),e.createElementVNode("view",{style:{width:"50%","margin-bottom":"-4px"}},[e.createElementVNode("image",{src:"/static/image/login/a7.jpg",mode:"widthFix",style:{width:"100%"}})]),e.createElementVNode("view",{style:{width:"50%","margin-bottom":"-4px"}},[e.createElementVNode("image",{src:"/static/image/login/a8.jpg",mode:"widthFix",style:{width:"100%"}})]),e.createElementVNode("view",{style:{width:"50%","margin-bottom":"-4px"}},[e.createElementVNode("image",{src:"/static/image/login/a9.jpg",mode:"widthFix",style:{width:"100%"}})]),e.createElementVNode("view",{style:{width:"50%","margin-bottom":"-4px"}},[e.createElementVNode("image",{src:"/static/image/login/a10.jpg",mode:"widthFix",style:{width:"100%"}})]),e.createElementVNode("view",{style:{width:"50%","margin-bottom":"-4px"}},[e.createElementVNode("image",{src:"/static/image/login/a11.jpg",mode:"widthFix",style:{width:"100%"}})]),e.createElementVNode("view",{style:{width:"50%","margin-bottom":"-4px"}},[e.createElementVNode("image",{src:"/static/image/login/a12.jpg",mode:"widthFix",style:{width:"100%"}})]),e.createElementVNode("view",{style:{width:"50%","margin-bottom":"-4px"}},[e.createElementVNode("image",{src:"/static/image/login/a13.jpg",mode:"widthFix",style:{width:"100%"}})]),e.createElementVNode("view",{style:{width:"50%","margin-bottom":"-4px"}},[e.createElementVNode("image",{src:"/static/image/login/a15.jpg",mode:"widthFix",style:{width:"100%"}})]),e.createElementVNode("view",{style:{width:"50%","margin-bottom":"-4px"}},[e.createElementVNode("image",{src:"/static/image/login/a16.jpg",mode:"widthFix",style:{width:"100%"}})]),e.createElementVNode("view",{style:{width:"50%","margin-bottom":"-4px"}},[e.createElementVNode("image",{src:"/static/image/login/a17.jpg",mode:"widthFix",style:{width:"100%"}})])]),e.createElementVNode("view",{id:"demo2"}),e.createElementVNode("view",{id:"demo3",style:{height:"1"}})])])}],["__scopeId","data-v-949ff689"]]),Hi=me(he);const Wi=o({data:()=>({regForm:{account:"",realname:"",password:"",repass:"",code:""},forget:!1,packData:Ui,globalConfig:Hi.globalConfig,base_url:"",time:parseInt((new Date).getTime()/1e3)}),watch:{forget(e){e&&(this.regForm.password="123456")}},mounted(){this.base_url=this.$baseurl()},methods:{isHongKongPhoneNumber:e=>/^(\+?852|0)?[6-9]\d{7}$/.test(e),run_time(){this.time=parseInt((new Date).getTime()/1e3)},handleInput(e){let t=e.detail.value.replace(/[\u4e00-\u9fa5]/g,"");this.regForm.account=t},sendCode(){if(!this.regForm.account)return uni.showToast({title:"请输入账号！",icon:"none"}),!1;let e={account:this.regForm.account,type:2};this.$api.LoginApi.sendCode(e).then((e=>{uni.showToast({title:e.msg,icon:"none"})}))},async check_yan_zm(){if(""==this.regForm.code)return uni.showToast({title:"请输入验证码！",icon:"none"}),!1;(await this.$myRuquest({method:"Post",url:"/api/front/user/checkCode",data:{code:this.regForm.code}})).code},login(){return""==this.regForm.account?(uni.showToast({title:this.$t("register.pop_tit1"),icon:"none"}),!1):""==this.regForm.realname?(uni.showToast({title:this.$t("register.pop_tit2"),icon:"none"}),!1):""==this.regForm.password&&this.regForm.password.length<6&&this.regForm.password>16?(uni.showToast({title:this.$t("register.pop_tit3"),icon:"none"}),!1):this.regForm.password!=this.regForm.repass?(uni.showToast({title:this.$t("register.pop_tit4"),icon:"none"}),!1):void this.$api.LoginApi.register(this.regForm).then((e=>{0==e.code&&this.check_if_friend(e.data.user_id)}))},async check_if_friend(e){var t=new Array;t.push(1),t.push(e);200==(await this.$myRuquest({url:"/api/front/index/saveImUser",method:"POST",data:{users:t.toString()}})).code&&this.sendMessage(e)},async sendMessage(e){let t={id:this.$util.getUuid(),from_user:1,to_user:e,content:this.$t("welcome"),create_time:(new Date).getTime()/1e3};200==(await this.$myRuquest({url:"/api/front/index/changeImMessageData",method:"POST",data:t})).code&&setTimeout((()=>{uni.reLaunch({url:"/pages/login/index"})}),2e3)}}},[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("register.title")),1)])),_:1}),e.createElementVNode("view",{style:{height:"100rpx"}}),e.createElementVNode("view",{class:"padding im-flex im-rows im-justify-content-center mb-10"},[e.createElementVNode("view",{class:"im-flex im-rows im-justify-content-center"},[e.createElementVNode("image",{class:"login-logo",src:s.globalConfig.sysInfo.logo??s.packData.logo,mode:"fixWidth"},null,8,["src"])])]),e.createElementVNode("view",{class:"im-flex im-rows im-justify-content-center"},e.toDisplayString(s.globalConfig.sysInfo.name??s.packData.name),1),e.createElementVNode("form",null,[e.createElementVNode("view",{class:"cu-form-group margin-top"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.$t("register.tit_l1")),1),e.withDirectives(e.createElementVNode("input",{placeholder:t.$t("register.tit_l1_p1"),class:"uni-input",maxlength:"32",name:"input","onUpdate:modelValue":i[0]||(i[0]=e=>s.regForm.account=e),onInput:i[1]||(i[1]=(...e)=>a.handleInput&&a.handleInput(...e))},null,40,["placeholder"]),[[e.vModelText,s.regForm.account]])]),e.createElementVNode("view",{class:"cu-form-group margin-top"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.$t("register.tit_l2")),1),e.withDirectives(e.createElementVNode("input",{placeholder:t.$t("register.tit_l1_p2"),maxlength:"32",name:"input","onUpdate:modelValue":i[2]||(i[2]=e=>s.regForm.realname=e)},null,8,["placeholder"]),[[e.vModelText,s.regForm.realname]])]),e.createElementVNode("view",{class:"cu-form-group"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.$t("register.tit_l3")),1),e.withDirectives(e.createElementVNode("input",{placeholder:t.$t("register.tit_l1_p3"),maxlength:"32",type:"password",name:"input","onUpdate:modelValue":i[3]||(i[3]=e=>s.regForm.password=e)},null,8,["placeholder"]),[[e.vModelText,s.regForm.password]])]),e.createElementVNode("view",{class:"cu-form-group"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.$t("register.tit_l4")),1),e.withDirectives(e.createElementVNode("input",{placeholder:t.$t("register.tit_l1_p4"),maxlength:"32",type:"password",name:"input","onUpdate:modelValue":i[4]||(i[4]=e=>s.regForm.repass=e)},null,8,["placeholder"]),[[e.vModelText,s.regForm.repass]])])]),e.createElementVNode("view",{class:"flex flex-direction im-login-btn"},[e.createElementVNode("button",{class:"cu-btn lg bg-pink",onClick:i[5]||(i[5]=e=>a.login())},e.toDisplayString(t.$t("register.ok")),1)])])}],["__scopeId","data-v-e805bd66"]]);var qi;qi="iOS"==plus.os.name;const Ji={judgeIosPermission:function(e){return"location"==e?(i=plus.ios.import("CLLocationManager"),_("log","at utils/permission.js:48","定位权限开启："+(t=2!=i.authorizationStatus())),plus.ios.deleteObject(i),t):"camera"==e?function(){var e=!1,t=plus.ios.import("AVCaptureDevice"),i=t.authorizationStatusForMediaType("vide");return _("log","at utils/permission.js:86","authStatus:"+i),3==i?(e=!0,_("log","at utils/permission.js:89","相机权限已经开启")):_("log","at utils/permission.js:91","相机权限没有开启"),plus.ios.deleteObject(t),e}():"photoLibrary"==e?function(){var e=!1,t=plus.ios.import("PHPhotoLibrary"),i=t.authorizationStatus();return _("log","at utils/permission.js:102","authStatus:"+i),3==i?(e=!0,_("log","at utils/permission.js:105","相册权限已经开启")):_("log","at utils/permission.js:107","相册权限没有开启"),plus.ios.deleteObject(t),e}():"record"==e?function(){var e=!1,t=plus.ios.import("AVAudioSession"),i=t.sharedInstance().recordPermission();return _("log","at utils/permission.js:70","permissionStatus:"+i),1684369017==i||1970168948==i?_("log","at utils/permission.js:72","麦克风权限没有开启"):(e=!0,_("log","at utils/permission.js:75","麦克风权限已经开启")),plus.ios.deleteObject(t),e}():"push"==e?function(){var e=!1,t=plus.ios.import("UIApplication"),i=t.sharedApplication(),o=0;if(i.currentUserNotificationSettings){var n=i.currentUserNotificationSettings();_("log","at utils/permission.js:19","enabledTypes1:"+(o=n.plusGetAttribute("types"))),0==o?_("log","at utils/permission.js:21","推送权限没有开启"):(e=!0,_("log","at utils/permission.js:24","已经开启推送功能!")),plus.ios.deleteObject(n)}else 0==(o=i.enabledRemoteNotificationTypes())?_("log","at utils/permission.js:30","推送权限没有开启!"):(e=!0,_("log","at utils/permission.js:33","已经开启推送功能!")),_("log","at utils/permission.js:35","enabledTypes2:"+o);return plus.ios.deleteObject(i),plus.ios.deleteObject(t),e}():"contact"==e?function(){var e=!1,t=plus.ios.import("CNContactStore");return 3==t.authorizationStatusForEntityType(0)?(e=!0,_("log","at utils/permission.js:120","通讯录权限已经开启")):_("log","at utils/permission.js:122","通讯录权限没有开启"),plus.ios.deleteObject(t),e}():"calendar"==e?function(){var e=!1,t=plus.ios.import("EKEventStore");return 3==t.authorizationStatusForEntityType(0)?(e=!0,_("log","at utils/permission.js:135","日历权限已经开启")):_("log","at utils/permission.js:137","日历权限没有开启"),plus.ios.deleteObject(t),e}():"memo"==e&&function(){var e=!1,t=plus.ios.import("EKEventStore");return 3==t.authorizationStatusForEntityType(1)?(e=!0,_("log","at utils/permission.js:150","备忘录权限已经开启")):_("log","at utils/permission.js:152","备忘录权限没有开启"),plus.ios.deleteObject(t),e}();var t,i},requestAndroidPermission:function(e){return new Promise(((t,i)=>{plus.android.requestPermissions([e],(function(e){for(var i=0,o=0;o<e.granted.length;o++){_("log","at utils/permission.js:167","已获取的权限："+e.granted[o]),i=1}for(o=0;o<e.deniedPresent.length;o++){_("log","at utils/permission.js:172","拒绝本次申请的权限："+e.deniedPresent[o]),i=0}for(o=0;o<e.deniedAlways.length;o++){_("log","at utils/permission.js:177","永久拒绝申请的权限："+e.deniedAlways[o]),i=-1}t(i)}),(function(e){_("log","at utils/permission.js:187","申请权限错误："+e.code+" = "+e.message),t({code:e.code,message:e.message})}))}))},checkSystemEnableLocation:function(){if(qi){var e=!1,t=plus.ios.import("CLLocationManager");return _("log","at utils/permission.js:253","系统定位开启:"+(e=t.locationServicesEnabled())),plus.ios.deleteObject(t),e}var i=plus.android.importClass("android.content.Context"),o=plus.android.importClass("android.location.LocationManager");return _("log","at utils/permission.js:262","系统定位开启:"+(e=plus.android.runtimeMainActivity().getSystemService(i.LOCATION_SERVICE).isProviderEnabled(o.GPS_PROVIDER))),e},gotoAppPermissionSetting:function(){if(qi){var e=plus.ios.import("UIApplication").sharedApplication(),t=plus.ios.import("NSURL"),i=t.URLWithString("app-settings:");e.openURL(i),plus.ios.deleteObject(i),plus.ios.deleteObject(t),plus.ios.deleteObject(e)}else{var o=plus.android.importClass("android.content.Intent"),n=plus.android.importClass("android.provider.Settings"),s=plus.android.importClass("android.net.Uri"),a=plus.android.runtimeMainActivity(),r=new o;r.setAction(n.ACTION_APPLICATION_DETAILS_SETTINGS);var l=s.fromParts("package",a.getPackageName(),null);r.setData(l),a.startActivity(r)}}},Gi=me(he),{userInfo:Yi}=L(Gi),Xi={data:()=>({html:"",postMsg:null,webview:null,Frames:null,mainFrame:null,contact:null,type:!1,wsData:null,main_id:null,globalConfig:Gi.globalConfig}),onReady(){var e=this.$scope.$getAppWebview(),t=this;setTimeout((function(){t.webview=e.children()[0]}),600),this.postMsg=this.appsendH5},onLoad:function(e){let t="h5";t="app",this.checkAuth(e).then((t=>{1==e.status&&setTimeout((()=>{this.postMsg({event:"calling"})}),800)}));let i=encodeURIComponent(JSON.stringify({stun:this.globalConfig.chatInfo.stun??"",stunUser:this.globalConfig.chatInfo.stunUser??"",stunPass:this.globalConfig.chatInfo.stunPass??""}));this.html="/hybrid/html/index.html?id="+Yi.value.user_id+"&status="+e.status+"&calling=0&name="+e.name+"&target_id="+e.id+"&type="+e.type+"&platform=app&avatar="+e.avatar+"&stun="+i+"&islevel="+Yi.value.islevel+"&role="+Yi.value.role,this.main_id=e.msg_id,this.type=e.type,this.status=e.status,this.contact={id:e.id,displayName:e.name,avatar:e.avatar,islevel:e.islevel,role:e.role},uni.$off("webrtcConn"),uni.$on("webrtcConn",(e=>{e.fromUser.id!=Yi.value.user_id?this.main_id&&this.main_id!=e.id?this.$api.msgApi.sendToMsg({toContactId:e.fromUser.user_id,type:e.extends.type,event:"busy",status:e.extends.status,code:907,id:e.id,msg_id:e.msg_id}):(this.wsData=e,this.main_id&&this.main_id==e.id&&this.postMsg(JSON.parse(JSON.stringify(e.extends)),"*")):"otherOpt"==e.extends.event&&(this.wsData=null,this.main_id=null,this.postMsg({event:"hangup"},"*"))}))},methods:{async checkAuth(e){if(!(await this.requestPermission("record")))return this.closeCall();if(1==e.type){if(!(await this.requestPermission("camera")))return this.closeCall()}},async requestPermission(e){let t=!1;t="iOS"==plus.os.name;let i="";if("record"==e?i="android.permission.RECORD_AUDIO":"camera"==e&&(i="android.permission.CAMERA"),t){return!!(await Ji.judgeIosPermission(e))||this.closeCall()}return 1==await Ji.requestAndroidPermission(i)||this.closeCall()},message(e){const t={data:e.detail.data[0]};this.msgCallback(t)},appsendH5(e){e.iceCandidate&&e.iceCandidate.length>0&&(e.iceCandidate=JSON.parse(e.iceCandidate)),this.webview.evalJS("getUniAppMessage('"+JSON.stringify(e)+"')")},h5sendH5(e){this.mainFrame.postMessage(e,"*")},msgCallback(e){let t="",i="";this.wsData&&(i=this.wsData.msg_id??"");let o=!0;switch(e.data.event){case"hangup":this.closeCall(),907==e.data.code&&uni.showToast({title:"对方忙~~",icon:"none"}),e.data.isbtn||(o=!1);break;case"iceCandidate":_("log","at pages/message/call.vue:201","监听同步ice");let i={};i.candidate=e.data.iceCandidate.candidate,i.sdpMLineIndex=e.data.iceCandidate.sdpMLineIndex,i.sdpMid=e.data.iceCandidate.sdpMid,t=JSON.stringify(i);break;case"mediaDevices":o=!1,uni.showToast({title:"请检查音视频",icon:"none"}),this.closeCall()}o&&this.$api.msgApi.sendToMsg({id:this.main_id,msg_id:i,toContactId:this.contact.id,type:this.type,event:e.data.event,status:e.data.status??"",code:e.data.code??"",callTime:e.data.callTime??"",sdp:e.data.sdp??"",iceCandidate:t}).then((t=>{"calling"==e.data.event&&(this.wsData=t.data),907==t.data.extends.code&&(uni.showToast({title:"对方不在线",icon:"none"}),this.closeCall())}))},closeCall(){const e=uni.createInnerAudioContext();e.autoplay=!0,e.src="https://im.file.raingad.com/static/voice/guaduan.mp3",e.onStop((e=>{this.$forceUpdate()})),getCurrentPages().length>1?uni.navigateBack():uni.reLaunch({url:"/pages/index/index"})}}};const Ki=o(Xi,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom");return e.openBlock(),e.createElementBlock("view",{class:""},[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("group_sys.call_title")),1)])),_:1}),e.createElementVNode("web-view",{onMessage:i[0]||(i[0]=(...e)=>a.message&&a.message(...e)),src:s.html},null,40,["src"])])}]]),Qi={pages:[{path:"pages/index/index",style:{navigationBarTitleText:"首页"}},{path:"pages/index/mv_index",style:{navigationBarTitleText:"消息"}},{path:"pages/message/chat",style:{navigationBarTitleText:"聊天"}},{path:"pages/contacts/index",style:{navigationBarTitleText:"通讯录"}},{path:"pages/message/detail",style:{navigationBarTitleText:"聊天信息"}},{path:"pages/contacts/detail",style:{navigationBarTitleText:"用户信息"}},{path:"pages/contacts/friend",style:{navigationBarTitleText:"新朋友"}},{path:"pages/contacts/search",style:{navigationBarTitleText:"搜索朋友"}},{path:"pages/login/index",style:{navigationBarTitleText:"登录"}},{path:"pages/login/register",style:{navigationBarTitleText:"注册"}},{path:"pages/message/call",style:{navigationBarTitleText:"通话"}},{path:"pages/index/userSelection",style:{navigationBarTitleText:"用户选择"}},{path:"pages/message/group/groupUser",style:{navigationBarTitleText:"群聊成员管理"}},{path:"pages/index/qrcode",style:{navigationBarTitleText:"群二维码"}},{path:"pages/message/group/info",style:{navigationBarTitleText:"群信息"}},{path:"pages/contacts/group",style:{navigationBarTitleText:"群聊列表"}},{path:"pages/index/search",style:{navigationBarTitleText:"搜索"}},{path:"pages/index/scan",style:{navigationBarTitleText:"扫描"}},{path:"pages/mine/index",style:{navigationBarTitleText:"我的"}},{path:"pages/mine/webview",style:{navigationBarTitleText:"webview"}},{path:"pages/mine/profile",style:{navigationBarTitleText:"个人信息"}},{path:"pages/mine/profile_msg",style:{navigationBarTitleText:"个人信息"}},{path:"pages/mine/renzheng",style:{navigationBarTitleText:"账号认证"}},{path:"pages/mine/secure",style:{navigationBarTitleText:"安全"}},{path:"pages/mine/about",style:{navigationBarTitleText:"关于"}},{path:"pages/mine/setting",style:{navigationBarTitleText:"设置"}},{path:"pages/third/third",style:{navigationBarTitleText:"",enablePullDownRefresh:!1}},{path:"pages/compass/index",style:{navigationStyle:"default",navigationBarTitleText:"探索",enablePullDownRefresh:!1,titleNView:{titleSize:"18px",autoBackButton:!1}}},{path:"pages/nearby/nearby",style:{navigationBarTitleText:"附近的人",enablePullDownRefresh:!1}},{path:"pages/opengroup/opengroup",style:{navigationBarTitleText:"公开的群",enablePullDownRefresh:!1}},{path:"pages/movie/bet/bet",style:{navigationBarTitleText:"投票",enablePullDownRefresh:!1}},{path:"pages/movie/bet/list",style:{navigationBarTitleText:"我的出票",enablePullDownRefresh:!0}},{path:"pages/movie/index/index",style:{navigationBarTitleText:"影院",enablePullDownRefresh:!1}},{path:"pages/movie/list/index",style:{navigationBarTitleText:"列表",enablePullDownRefresh:!0}},{path:"pages/movie/list/detial",style:{navigationBarTitleText:"影院详情",enablePullDownRefresh:!1}},{path:"pages/movie/notice/notice",style:{navigationBarTitleText:"系统通知",enablePullDownRefresh:!0}},{path:"pages/movie/notice/detail/detail",style:{navigationBarTitleText:"通知详情",enablePullDownRefresh:!1}},{path:"pages/mine/vip/vip",style:{navigationBarTitleText:"我的特权",enablePullDownRefresh:!1}},{path:"pages/movie/kefu/kefu",style:{navigationBarTitleText:"客服",enablePullDownRefresh:!1}},{path:"pages/movie/kefu/detail",style:{navigationBarTitleText:"客服",enablePullDownRefresh:!1}},{path:"pages/mine/like/like_me",style:{navigationBarTitleText:"喜欢的TA",enablePullDownRefresh:!1}},{path:"pages/mine/like/like",style:{navigationBarTitleText:"喜欢的TA",enablePullDownRefresh:!1}},{path:"pages/mine/run_img",style:{navigationBarTitleText:"图片设置",enablePullDownRefresh:!1}}],globalStyle:{navigationStyle:"custom",navigationBarTextStyle:"black",navigationBarTitleText:"uni-app",navigationBarBackgroundColor:"#F8F8F8",backgroundColor:"#F8F8F8","app-plus":{background:"#efeff4"}},tabBar:{custom:!0,color:"#333",selectedColor:"#1AAD19",borderStyle:"black",backgroundColor:"#FFFFFF",list:[{pagePath:"pages/index/index",iconPath:"static/image/tabbar/demo.png",selectedIconPath:"static/image/tabbar/demo.png",text:"首页"},{pagePath:"pages/contacts/index",iconPath:"static/image/tabbar/demo.png",selectedIconPath:"static/image/tabbar/demo.png",text:"通讯录"}]}};function Zi(e,t,i){return e(i={path:t,exports:{},require:function(e,t){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(null==t&&i.path)}},i.exports),i.exports}var eo=Zi((function(e,t){var i;e.exports=(i=i||function(e,t){var i=Object.create||function(){function e(){}return function(t){var i;return e.prototype=t,i=new e,e.prototype=null,i}}(),o={},n=o.lib={},s=n.Base={extend:function(e){var t=i(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=n.WordArray=s.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||l).stringify(this)},concat:function(e){var t=this.words,i=e.words,o=this.sigBytes,n=e.sigBytes;if(this.clamp(),o%4)for(var s=0;s<n;s++){var a=i[s>>>2]>>>24-s%4*8&255;t[o+s>>>2]|=a<<24-(o+s)%4*8}else for(s=0;s<n;s+=4)t[o+s>>>2]=i[s>>>2];return this.sigBytes+=n,this},clamp:function(){var t=this.words,i=this.sigBytes;t[i>>>2]&=4294967295<<32-i%4*8,t.length=e.ceil(i/4)},clone:function(){var e=s.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var i,o=[],n=function(t){var i=987654321,o=4294967295;return function(){var n=((i=36969*(65535&i)+(i>>16)&o)<<16)+(t=18e3*(65535&t)+(t>>16)&o)&o;return n/=4294967296,(n+=.5)*(e.random()>.5?1:-1)}},s=0;s<t;s+=4){var r=n(4294967296*(i||e.random()));i=987654071*r(),o.push(4294967296*r()|0)}return new a.init(o,t)}}),r=o.enc={},l=r.Hex={stringify:function(e){for(var t=e.words,i=e.sigBytes,o=[],n=0;n<i;n++){var s=t[n>>>2]>>>24-n%4*8&255;o.push((s>>>4).toString(16)),o.push((15&s).toString(16))}return o.join("")},parse:function(e){for(var t=e.length,i=[],o=0;o<t;o+=2)i[o>>>3]|=parseInt(e.substr(o,2),16)<<24-o%8*4;return new a.init(i,t/2)}},c=r.Latin1={stringify:function(e){for(var t=e.words,i=e.sigBytes,o=[],n=0;n<i;n++){var s=t[n>>>2]>>>24-n%4*8&255;o.push(String.fromCharCode(s))}return o.join("")},parse:function(e){for(var t=e.length,i=[],o=0;o<t;o++)i[o>>>2]|=(255&e.charCodeAt(o))<<24-o%4*8;return new a.init(i,t)}},d=r.Utf8={stringify:function(e){try{return decodeURIComponent(escape(c.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return c.parse(unescape(encodeURIComponent(e)))}},u=n.BufferedBlockAlgorithm=s.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var i=this._data,o=i.words,n=i.sigBytes,s=this.blockSize,r=n/(4*s),l=(r=t?e.ceil(r):e.max((0|r)-this._minBufferSize,0))*s,c=e.min(4*l,n);if(l){for(var d=0;d<l;d+=s)this._doProcessBlock(o,d);var u=o.splice(0,l);i.sigBytes-=c}return new a.init(u,c)},clone:function(){var e=s.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=u.extend({cfg:s.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,i){return new e.init(i).finalize(t)}},_createHmacHelper:function(e){return function(t,i){return new m.HMAC.init(e,i).finalize(t)}}});var m=o.algo={};return o}(Math),i)})),to=eo,io=(Zi((function(e,t){var i;e.exports=(i=to,function(e){var t=i,o=t.lib,n=o.WordArray,s=o.Hasher,a=t.algo,r=[];!function(){for(var t=0;t<64;t++)r[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=a.MD5=s.extend({_doReset:function(){this._hash=new n.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var i=0;i<16;i++){var o=t+i,n=e[o];e[o]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8)}var s=this._hash.words,a=e[t+0],l=e[t+1],h=e[t+2],p=e[t+3],g=e[t+4],f=e[t+5],v=e[t+6],_=e[t+7],y=e[t+8],w=e[t+9],k=e[t+10],x=e[t+11],b=e[t+12],C=e[t+13],B=e[t+14],N=e[t+15],S=s[0],E=s[1],V=s[2],T=s[3];S=c(S,E,V,T,a,7,r[0]),T=c(T,S,E,V,l,12,r[1]),V=c(V,T,S,E,h,17,r[2]),E=c(E,V,T,S,p,22,r[3]),S=c(S,E,V,T,g,7,r[4]),T=c(T,S,E,V,f,12,r[5]),V=c(V,T,S,E,v,17,r[6]),E=c(E,V,T,S,_,22,r[7]),S=c(S,E,V,T,y,7,r[8]),T=c(T,S,E,V,w,12,r[9]),V=c(V,T,S,E,k,17,r[10]),E=c(E,V,T,S,x,22,r[11]),S=c(S,E,V,T,b,7,r[12]),T=c(T,S,E,V,C,12,r[13]),V=c(V,T,S,E,B,17,r[14]),S=d(S,E=c(E,V,T,S,N,22,r[15]),V,T,l,5,r[16]),T=d(T,S,E,V,v,9,r[17]),V=d(V,T,S,E,x,14,r[18]),E=d(E,V,T,S,a,20,r[19]),S=d(S,E,V,T,f,5,r[20]),T=d(T,S,E,V,k,9,r[21]),V=d(V,T,S,E,N,14,r[22]),E=d(E,V,T,S,g,20,r[23]),S=d(S,E,V,T,w,5,r[24]),T=d(T,S,E,V,B,9,r[25]),V=d(V,T,S,E,p,14,r[26]),E=d(E,V,T,S,y,20,r[27]),S=d(S,E,V,T,C,5,r[28]),T=d(T,S,E,V,h,9,r[29]),V=d(V,T,S,E,_,14,r[30]),S=u(S,E=d(E,V,T,S,b,20,r[31]),V,T,f,4,r[32]),T=u(T,S,E,V,y,11,r[33]),V=u(V,T,S,E,x,16,r[34]),E=u(E,V,T,S,B,23,r[35]),S=u(S,E,V,T,l,4,r[36]),T=u(T,S,E,V,g,11,r[37]),V=u(V,T,S,E,_,16,r[38]),E=u(E,V,T,S,k,23,r[39]),S=u(S,E,V,T,C,4,r[40]),T=u(T,S,E,V,a,11,r[41]),V=u(V,T,S,E,p,16,r[42]),E=u(E,V,T,S,v,23,r[43]),S=u(S,E,V,T,w,4,r[44]),T=u(T,S,E,V,b,11,r[45]),V=u(V,T,S,E,N,16,r[46]),S=m(S,E=u(E,V,T,S,h,23,r[47]),V,T,a,6,r[48]),T=m(T,S,E,V,_,10,r[49]),V=m(V,T,S,E,B,15,r[50]),E=m(E,V,T,S,f,21,r[51]),S=m(S,E,V,T,b,6,r[52]),T=m(T,S,E,V,p,10,r[53]),V=m(V,T,S,E,k,15,r[54]),E=m(E,V,T,S,l,21,r[55]),S=m(S,E,V,T,y,6,r[56]),T=m(T,S,E,V,N,10,r[57]),V=m(V,T,S,E,v,15,r[58]),E=m(E,V,T,S,C,21,r[59]),S=m(S,E,V,T,g,6,r[60]),T=m(T,S,E,V,x,10,r[61]),V=m(V,T,S,E,h,15,r[62]),E=m(E,V,T,S,w,21,r[63]),s[0]=s[0]+S|0,s[1]=s[1]+E|0,s[2]=s[2]+V|0,s[3]=s[3]+T|0},_doFinalize:function(){var t=this._data,i=t.words,o=8*this._nDataBytes,n=8*t.sigBytes;i[n>>>5]|=128<<24-n%32;var s=e.floor(o/4294967296),a=o;i[15+(n+64>>>9<<4)]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8),i[14+(n+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),t.sigBytes=4*(i.length+1),this._process();for(var r=this._hash,l=r.words,c=0;c<4;c++){var d=l[c];l[c]=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8)}return r},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,i,o,n,s,a){var r=e+(t&i|~t&o)+n+a;return(r<<s|r>>>32-s)+t}function d(e,t,i,o,n,s,a){var r=e+(t&o|i&~o)+n+a;return(r<<s|r>>>32-s)+t}function u(e,t,i,o,n,s,a){var r=e+(t^i^o)+n+a;return(r<<s|r>>>32-s)+t}function m(e,t,i,o,n,s,a){var r=e+(i^(t|~o))+n+a;return(r<<s|r>>>32-s)+t}t.MD5=s._createHelper(l),t.HmacMD5=s._createHmacHelper(l)}(Math),i.MD5)})),Zi((function(e,t){var i,o,n;e.exports=(o=(i=to).lib.Base,n=i.enc.Utf8,void(i.algo.HMAC=o.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var i=e.blockSize,o=4*i;t.sigBytes>o&&(t=e.finalize(t)),t.clamp();for(var s=this._oKey=t.clone(),a=this._iKey=t.clone(),r=s.words,l=a.words,c=0;c<i;c++)r[c]^=1549556828,l[c]^=909522486;s.sigBytes=a.sigBytes=o,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,i=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(i))}})))})),Zi((function(e,t){e.exports=to.HmacMD5}))),oo=Zi((function(e,t){e.exports=to.enc.Utf8})),no=Zi((function(e,t){var i,o,n;e.exports=(n=(o=i=to).lib.WordArray,o.enc.Base64={stringify:function(e){var t=e.words,i=e.sigBytes,o=this._map;e.clamp();for(var n=[],s=0;s<i;s+=3)for(var a=(t[s>>>2]>>>24-s%4*8&255)<<16|(t[s+1>>>2]>>>24-(s+1)%4*8&255)<<8|t[s+2>>>2]>>>24-(s+2)%4*8&255,r=0;r<4&&s+.75*r<i;r++)n.push(o.charAt(a>>>6*(3-r)&63));var l=o.charAt(64);if(l)for(;n.length%4;)n.push(l);return n.join("")},parse:function(e){var t=e.length,i=this._map,o=this._reverseMap;if(!o){o=this._reverseMap=[];for(var s=0;s<i.length;s++)o[i.charCodeAt(s)]=s}var a=i.charAt(64);if(a){var r=e.indexOf(a);-1!==r&&(t=r)}return function(e,t,i){for(var o=[],s=0,a=0;a<t;a++)if(a%4){var r=i[e.charCodeAt(a-1)]<<a%4*2,l=i[e.charCodeAt(a)]>>>6-a%4*2;o[s>>>2]|=(r|l)<<24-s%4*8,s++}return n.create(o,s)}(e,t,o)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},i.enc.Base64)}));const so="FUNCTION",ao="pending",ro="rejected";function lo(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function co(e){return"object"===lo(e)}function uo(e){return"function"==typeof e}function mo(e){return function(){try{return e.apply(e,arguments)}catch(t){console.error(t)}}}const ho="REJECTED",po="NOT_PENDING";class go{constructor({createPromise:e,retryRule:t=ho}={}){this.createPromise=e,this.status=null,this.promise=null,this.retryRule=t}get needRetry(){if(!this.status)return!0;switch(this.retryRule){case ho:return this.status===ro;case po:return this.status!==ao}}exec(){return this.needRetry?(this.status=ao,this.promise=this.createPromise().then((e=>(this.status="fulfilled",Promise.resolve(e))),(e=>(this.status=ro,Promise.reject(e)))),this.promise):this.promise}}function fo(e){return e&&"string"==typeof e?JSON.parse(e):e}const vo=fo([]);fo("");const _o=fo("[]")||[];let yo="";try{yo="__UNI__FDD4129"}catch(ln){}let wo={};function ko(e,t={}){var i,o;return i=wo,o=e,Object.prototype.hasOwnProperty.call(i,o)||(wo[e]=t),wo[e]}wo=uni._globalUniCloudObj?uni._globalUniCloudObj:uni._globalUniCloudObj={};const xo=["invoke","success","fail","complete"],bo=ko("_globalUniCloudInterceptor");function Co(e,t){bo[e]||(bo[e]={}),co(t)&&Object.keys(t).forEach((i=>{xo.indexOf(i)>-1&&function(e,t,i){let o=bo[e][t];o||(o=bo[e][t]=[]),-1===o.indexOf(i)&&uo(i)&&o.push(i)}(e,i,t[i])}))}function Bo(e,t){bo[e]||(bo[e]={}),co(t)?Object.keys(t).forEach((i=>{xo.indexOf(i)>-1&&function(e,t,i){const o=bo[e][t];if(!o)return;const n=o.indexOf(i);n>-1&&o.splice(n,1)}(e,i,t[i])})):delete bo[e]}function No(e,t){return e&&0!==e.length?e.reduce(((e,i)=>e.then((()=>i(t)))),Promise.resolve()):Promise.resolve()}function So(e,t){return bo[e]&&bo[e][t]||[]}function Eo(e){Co("callObject",e)}const Vo=ko("_globalUniCloudListener"),To="response",Io="needLogin",Po="refreshToken",Do="clientdb",Ao="cloudfunction",$o="cloudobject";function Lo(e){return Vo[e]||(Vo[e]=[]),Vo[e]}function Mo(e,t){const i=Lo(e);i.includes(t)||i.push(t)}function Oo(e,t){const i=Lo(e),o=i.indexOf(t);-1!==o&&i.splice(o,1)}function Fo(e,t){const i=Lo(e);for(let o=0;o<i.length;o++)(0,i[o])(t)}let Uo,Ro=!1;function zo(){return Uo||(Uo=new Promise((e=>{Ro&&e(),function t(){if("function"==typeof getCurrentPages){const t=getCurrentPages();t&&t[0]&&(Ro=!0,e())}Ro||setTimeout((()=>{t()}),30)}()})),Uo)}function jo(e){const t={};for(const i in e){const o=e[i];uo(o)&&(t[i]=mo(o))}return t}class Ho extends Error{constructor(e){super(e.message),this.errMsg=e.message||e.errMsg||"unknown system error",this.code=this.errCode=e.code||e.errCode||"SYSTEM_ERROR",this.errSubject=this.subject=e.subject||e.errSubject,this.cause=e.cause,this.requestId=e.requestId}toJson(e=0){if(!(e>=10))return e++,{errCode:this.errCode,errMsg:this.errMsg,errSubject:this.errSubject,cause:this.cause&&this.cause.toJson?this.cause.toJson(e):this.cause}}}var Wo={request:e=>uni.request(e),uploadFile:e=>uni.uploadFile(e),setStorageSync:(e,t)=>uni.setStorageSync(e,t),getStorageSync:e=>uni.getStorageSync(e),removeStorageSync:e=>uni.removeStorageSync(e),clearStorageSync:()=>uni.clearStorageSync()};function qo(e){return e&&qo(e.__v_raw)||e}function Jo(){return{token:Wo.getStorageSync("uni_id_token")||Wo.getStorageSync("uniIdToken"),tokenExpired:Wo.getStorageSync("uni_id_token_expired")}}function Go({token:e,tokenExpired:t}={}){e&&Wo.setStorageSync("uni_id_token",e),t&&Wo.setStorageSync("uni_id_token_expired",t)}let Yo,Xo;function Ko(){return Yo||(Yo=uni.getSystemInfoSync()),Yo}function Qo(){let e,t;try{if(uni.getLaunchOptionsSync){if(uni.getLaunchOptionsSync.toString().indexOf("not yet implemented")>-1)return;const{scene:i,channel:o}=uni.getLaunchOptionsSync();e=o,t=i}}catch(i){}return{channel:e,scene:t}}function Zo(){const e=uni.getLocale&&uni.getLocale()||"en";if(Xo)return{...Xo,locale:e,LOCALE:e};const t=Ko(),{deviceId:i,osName:o,uniPlatform:n,appId:s}=t,a=["pixelRatio","brand","model","system","language","version","platform","host","SDKVersion","swanNativeVersion","app","AppPlatform","fontSizeSetting"];for(let r=0;r<a.length;r++)delete t[a[r]];return Xo={PLATFORM:n,OS:o,APPID:s,DEVICEID:i,...Qo(),...t},{...Xo,locale:e,LOCALE:e}}var en=function(e,t){let i="";return Object.keys(e).sort().forEach((function(t){e[t]&&(i=i+"&"+t+"="+e[t])})),i=i.slice(1),io(i,t).toString()},tn=function(e,t){return new Promise(((i,o)=>{t(Object.assign(e,{complete(e){e||(e={});const t=e.data&&e.data.header&&e.data.header["x-serverless-request-id"]||e.header&&e.header["request-id"];if(!e.statusCode||e.statusCode>=400)return o(new Ho({code:"SYS_ERR",message:e.errMsg||"request:fail",requestId:t}));const n=e.data;if(n.error)return o(new Ho({code:n.error.code,message:n.error.message,requestId:t}));n.result=n.data,n.requestId=t,delete n.data,i(n)}}))}))},on=function(e){return no.stringify(oo.parse(e))},nn=class{constructor(e){["spaceId","clientSecret"].forEach((t=>{if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error(`${t} required`)})),this.config=Object.assign({},{endpoint:0===e.spaceId.indexOf("mp-")?"https://api.next.bspapp.com":"https://api.bspapp.com"},e),this.config.provider="aliyun",this.config.requestUrl=this.config.endpoint+"/client",this.config.envType=this.config.envType||"public",this.config.accessTokenKey="access_token_"+this.config.spaceId,this.adapter=Wo,this._getAccessTokenPromiseHub=new go({createPromise:()=>this.requestAuth(this.setupRequest({method:"serverless.auth.user.anonymousAuthorize",params:"{}"},"auth")).then((e=>{if(!e.result||!e.result.accessToken)throw new Ho({code:"AUTH_FAILED",message:"获取accessToken失败"});this.setAccessToken(e.result.accessToken)})),retryRule:po})}get hasAccessToken(){return!!this.accessToken}setAccessToken(e){this.accessToken=e}requestWrapped(e){return tn(e,this.adapter.request)}requestAuth(e){return this.requestWrapped(e)}request(e,t){return Promise.resolve().then((()=>this.hasAccessToken?t?this.requestWrapped(e):this.requestWrapped(e).catch((t=>new Promise(((e,i)=>{!t||"GATEWAY_INVALID_TOKEN"!==t.code&&"InvalidParameter.InvalidToken"!==t.code?i(t):e()})).then((()=>this.getAccessToken())).then((()=>{const t=this.rebuildRequest(e);return this.request(t,!0)})))):this.getAccessToken().then((()=>{const t=this.rebuildRequest(e);return this.request(t,!0)}))))}rebuildRequest(e){const t=Object.assign({},e);return t.data.token=this.accessToken,t.header["x-basement-token"]=this.accessToken,t.header["x-serverless-sign"]=en(t.data,this.config.clientSecret),t}setupRequest(e,t){const i=Object.assign({},e,{spaceId:this.config.spaceId,timestamp:Date.now()}),o={"Content-Type":"application/json"};return"auth"!==t&&(i.token=this.accessToken,o["x-basement-token"]=this.accessToken),o["x-serverless-sign"]=en(i,this.config.clientSecret),{url:this.config.requestUrl,method:"POST",data:i,dataType:"json",header:o}}getAccessToken(){return this._getAccessTokenPromiseHub.exec()}async authorize(){await this.getAccessToken()}callFunction(e){const t={method:"serverless.function.runtime.invoke",params:JSON.stringify({functionTarget:e.name,functionArgs:e.data||{}})};return this.request(this.setupRequest(t))}getOSSUploadOptionsFromPath(e){const t={method:"serverless.file.resource.generateProximalSign",params:JSON.stringify(e)};return this.request(this.setupRequest(t))}uploadFileToOSS({url:e,formData:t,name:i,filePath:o,fileType:n,onUploadProgress:s}){return new Promise(((a,r)=>{const l=this.adapter.uploadFile({url:e,formData:t,name:i,filePath:o,fileType:n,header:{"X-OSS-server-side-encrpytion":"AES256"},success(e){e&&e.statusCode<400?a(e):r(new Ho({code:"UPLOAD_FAILED",message:"文件上传失败"}))},fail(e){r(new Ho({code:e.code||"UPLOAD_FAILED",message:e.message||e.errMsg||"文件上传失败"}))}});"function"==typeof s&&l&&"function"==typeof l.onProgressUpdate&&l.onProgressUpdate((e=>{s({loaded:e.totalBytesSent,total:e.totalBytesExpectedToSend})}))}))}reportOSSUpload(e){const t={method:"serverless.file.resource.report",params:JSON.stringify(e)};return this.request(this.setupRequest(t))}async uploadFile({filePath:e,cloudPath:t,fileType:i="image",cloudPathAsRealPath:o=!1,onUploadProgress:n,config:s}){if("string"!==lo(t))throw new Ho({code:"INVALID_PARAM",message:"cloudPath必须为字符串类型"});if(!(t=t.trim()))throw new Ho({code:"INVALID_PARAM",message:"cloudPath不可为空"});if(/:\/\//.test(t))throw new Ho({code:"INVALID_PARAM",message:"cloudPath不合法"});const a=s&&s.envType||this.config.envType;if(o&&("/"!==t[0]&&(t="/"+t),t.indexOf("\\")>-1))throw new Ho({code:"INVALID_PARAM",message:"使用cloudPath作为路径时，cloudPath不可包含“\\”"});const r=(await this.getOSSUploadOptionsFromPath({env:a,filename:o?t.split("/").pop():t,fileId:o?t:void 0})).result,l="https://"+r.cdnDomain+"/"+r.ossPath,{securityToken:c,accessKeyId:d,signature:u,host:m,ossPath:h,id:p,policy:g,ossCallbackUrl:f}=r,v={"Cache-Control":"max-age=2592000","Content-Disposition":"attachment",OSSAccessKeyId:d,Signature:u,host:m,id:p,key:h,policy:g,success_action_status:200};if(c&&(v["x-oss-security-token"]=c),f){const e=JSON.stringify({callbackUrl:f,callbackBody:JSON.stringify({fileId:p,spaceId:this.config.spaceId}),callbackBodyType:"application/json"});v.callback=on(e)}const _={url:"https://"+r.host,formData:v,fileName:"file",name:"file",filePath:e,fileType:i};if(await this.uploadFileToOSS(Object.assign({},_,{onUploadProgress:n})),f)return{success:!0,filePath:e,fileID:l};if((await this.reportOSSUpload({id:p})).success)return{success:!0,filePath:e,fileID:l};throw new Ho({code:"UPLOAD_FAILED",message:"文件上传失败"})}getTempFileURL({fileList:e}={}){return new Promise(((t,i)=>{Array.isArray(e)&&0!==e.length||i(new Ho({code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"})),t({fileList:e.map((e=>({fileID:e,tempFileURL:e})))})}))}async getFileInfo({fileList:e}={}){if(!Array.isArray(e)||0===e.length)throw new Ho({code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"});const t={method:"serverless.file.resource.info",params:JSON.stringify({id:e.map((e=>e.split("?")[0])).join(",")})};return{fileList:(await this.request(this.setupRequest(t))).result}}},sn={init(e){const t=new nn(e),i={signInAnonymously:function(){return t.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return t.auth=function(){return i},t.customAuth=t.auth,t}};const an="undefined"!=typeof location&&"http:"===location.protocol?"http:":"https:";var rn,ln;(ln=rn||(rn={})).local="local",ln.none="none",ln.session="session";var cn=function(){},dn=Zi((function(e,t){var i;e.exports=(i=to,function(e){var t=i,o=t.lib,n=o.WordArray,s=o.Hasher,a=t.algo,r=[],l=[];!function(){function t(t){for(var i=e.sqrt(t),o=2;o<=i;o++)if(!(t%o))return!1;return!0}function i(e){return 4294967296*(e-(0|e))|0}for(var o=2,n=0;n<64;)t(o)&&(n<8&&(r[n]=i(e.pow(o,.5))),l[n]=i(e.pow(o,1/3)),n++),o++}();var c=[],d=a.SHA256=s.extend({_doReset:function(){this._hash=new n.init(r.slice(0))},_doProcessBlock:function(e,t){for(var i=this._hash.words,o=i[0],n=i[1],s=i[2],a=i[3],r=i[4],d=i[5],u=i[6],m=i[7],h=0;h<64;h++){if(h<16)c[h]=0|e[t+h];else{var p=c[h-15],g=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,f=c[h-2],v=(f<<15|f>>>17)^(f<<13|f>>>19)^f>>>10;c[h]=g+c[h-7]+v+c[h-16]}var _=o&n^o&s^n&s,y=(o<<30|o>>>2)^(o<<19|o>>>13)^(o<<10|o>>>22),w=m+((r<<26|r>>>6)^(r<<21|r>>>11)^(r<<7|r>>>25))+(r&d^~r&u)+l[h]+c[h];m=u,u=d,d=r,r=a+w|0,a=s,s=n,n=o,o=w+(y+_)|0}i[0]=i[0]+o|0,i[1]=i[1]+n|0,i[2]=i[2]+s|0,i[3]=i[3]+a|0,i[4]=i[4]+r|0,i[5]=i[5]+d|0,i[6]=i[6]+u|0,i[7]=i[7]+m|0},_doFinalize:function(){var t=this._data,i=t.words,o=8*this._nDataBytes,n=8*t.sigBytes;return i[n>>>5]|=128<<24-n%32,i[14+(n+64>>>9<<4)]=e.floor(o/4294967296),i[15+(n+64>>>9<<4)]=o,t.sigBytes=4*i.length,this._process(),this._hash},clone:function(){var e=s.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=s._createHelper(d),t.HmacSHA256=s._createHmacHelper(d)}(Math),i.SHA256)})),un=dn,mn=Zi((function(e,t){e.exports=to.HmacSHA256}));const hn=()=>{let e;if(!Promise){e=()=>{},e.promise={};const t=()=>{throw new Ho({message:'Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.'})};return Object.defineProperty(e.promise,"then",{get:t}),Object.defineProperty(e.promise,"catch",{get:t}),e}const t=new Promise(((t,i)=>{e=(e,o)=>e?i(e):t(o)}));return e.promise=t,e};function pn(e){return void 0===e}function gn(e){return"[object Null]"===Object.prototype.toString.call(e)}var fn;!function(e){e.WEB="web",e.WX_MP="wx_mp"}(fn||(fn={}));const vn={adapter:null,runtime:void 0},_n=["anonymousUuidKey"];class yn extends cn{constructor(){super(),vn.adapter.root.tcbObject||(vn.adapter.root.tcbObject={})}setItem(e,t){vn.adapter.root.tcbObject[e]=t}getItem(e){return vn.adapter.root.tcbObject[e]}removeItem(e){delete vn.adapter.root.tcbObject[e]}clear(){delete vn.adapter.root.tcbObject}}function wn(e,t){switch(e){case"local":return t.localStorage||new yn;case"none":return new yn;default:return t.sessionStorage||new yn}}class kn{constructor(e){if(!this._storage){this._persistence=vn.adapter.primaryStorage||e.persistence,this._storage=wn(this._persistence,vn.adapter);const t=`access_token_${e.env}`,i=`access_token_expire_${e.env}`,o=`refresh_token_${e.env}`,n=`anonymous_uuid_${e.env}`,s=`login_type_${e.env}`,a=`user_info_${e.env}`;this.keys={accessTokenKey:t,accessTokenExpireKey:i,refreshTokenKey:o,anonymousUuidKey:n,loginTypeKey:s,userInfoKey:a}}}updatePersistence(e){if(e===this._persistence)return;const t="local"===this._persistence;this._persistence=e;const i=wn(e,vn.adapter);for(const o in this.keys){const e=this.keys[o];if(t&&_n.includes(o))continue;const n=this._storage.getItem(e);pn(n)||gn(n)||(i.setItem(e,n),this._storage.removeItem(e))}this._storage=i}setStore(e,t,i){if(!this._storage)return;const o={version:i||"localCachev1",content:t},n=JSON.stringify(o);try{this._storage.setItem(e,n)}catch(s){throw s}}getStore(e,t){try{if(!this._storage)return}catch(o){return""}t=t||"localCachev1";const i=this._storage.getItem(e);return i&&i.indexOf(t)>=0?JSON.parse(i).content:""}removeStore(e){this._storage.removeItem(e)}}const xn={},bn={};function Cn(e){return xn[e]}class Bn{constructor(e,t){this.data=t||null,this.name=e}}class Nn extends Bn{constructor(e,t){super("error",{error:e,data:t}),this.error=e}}const Sn=new class{constructor(){this._listeners={}}on(e,t){return i=e,o=t,(n=this._listeners)[i]=n[i]||[],n[i].push(o),this;var i,o,n}off(e,t){return function(e,t,i){if(i&&i[e]){const o=i[e].indexOf(t);-1!==o&&i[e].splice(o,1)}}(e,t,this._listeners),this}fire(e,t){if(e instanceof Nn)return console.error(e.error),this;const i="string"==typeof e?new Bn(e,t||{}):e,o=i.name;if(this._listens(o)){i.target=this;const e=this._listeners[o]?[...this._listeners[o]]:[];for(const t of e)t.call(this,i)}return this}_listens(e){return this._listeners[e]&&this._listeners[e].length>0}};function En(e,t){Sn.on(e,t)}function Vn(e,t={}){Sn.fire(e,t)}function Tn(e,t){Sn.off(e,t)}const In="loginStateChanged",Pn="loginStateExpire",Dn="loginTypeChanged",An="anonymousConverted",$n="refreshAccessToken";var Ln;!function(e){e.ANONYMOUS="ANONYMOUS",e.WECHAT="WECHAT",e.WECHAT_PUBLIC="WECHAT-PUBLIC",e.WECHAT_OPEN="WECHAT-OPEN",e.CUSTOM="CUSTOM",e.EMAIL="EMAIL",e.USERNAME="USERNAME",e.NULL="NULL"}(Ln||(Ln={}));const Mn=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"],On={"X-SDK-Version":"1.3.5"};function Fn(e,t,i){const o=e[t];e[t]=function(t){const n={},s={};i.forEach((i=>{const{data:o,headers:a}=i.call(e,t);Object.assign(n,o),Object.assign(s,a)}));const a=t.data;return a&&(()=>{var e;if(e=a,"[object FormData]"!==Object.prototype.toString.call(e))t.data={...a,...n};else for(const t in n)a.append(t,n[t])})(),t.headers={...t.headers||{},...s},o.call(e,t)}}function Un(){const e=Math.random().toString(16).slice(2);return{data:{seqId:e},headers:{...On,"x-seqid":e}}}class Rn{constructor(e={}){var t;this.config=e,this._reqClass=new vn.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:`请求在${this.config.timeout/1e3}s内未完成，已中断`,restrictedMethods:["post"]}),this._cache=Cn(this.config.env),this._localCache=(t=this.config.env,bn[t]),Fn(this._reqClass,"post",[Un]),Fn(this._reqClass,"upload",[Un]),Fn(this._reqClass,"download",[Un])}async post(e){return await this._reqClass.post(e)}async upload(e){return await this._reqClass.upload(e)}async download(e){return await this._reqClass.download(e)}async refreshAccessToken(){let e,t;this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken());try{e=await this._refreshAccessTokenPromise}catch(i){t=i}if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,t)throw t;return e}async _refreshAccessToken(){const{accessTokenKey:e,accessTokenExpireKey:t,refreshTokenKey:i,loginTypeKey:o,anonymousUuidKey:n}=this._cache.keys;this._cache.removeStore(e),this._cache.removeStore(t);let s=this._cache.getStore(i);if(!s)throw new Ho({message:"未登录CloudBase"});const a={refresh_token:s},r=await this.request("auth.fetchAccessTokenWithRefreshToken",a);if(r.data.code){const{code:e}=r.data;if("SIGN_PARAM_INVALID"===e||"REFRESH_TOKEN_EXPIRED"===e||"INVALID_REFRESH_TOKEN"===e){if(this._cache.getStore(o)===Ln.ANONYMOUS&&"INVALID_REFRESH_TOKEN"===e){const e=this._cache.getStore(n),t=this._cache.getStore(i),o=await this.send("auth.signInAnonymously",{anonymous_uuid:e,refresh_token:t});return this.setRefreshToken(o.refresh_token),this._refreshAccessToken()}Vn(Pn),this._cache.removeStore(i)}throw new Ho({code:r.data.code,message:`刷新access token失败：${r.data.code}`})}if(r.data.access_token)return Vn($n),this._cache.setStore(e,r.data.access_token),this._cache.setStore(t,r.data.access_token_expire+Date.now()),{accessToken:r.data.access_token,accessTokenExpire:r.data.access_token_expire};r.data.refresh_token&&(this._cache.removeStore(i),this._cache.setStore(i,r.data.refresh_token),this._refreshAccessToken())}async getAccessToken(){const{accessTokenKey:e,accessTokenExpireKey:t,refreshTokenKey:i}=this._cache.keys;if(!this._cache.getStore(i))throw new Ho({message:"refresh token不存在，登录状态异常"});let o=this._cache.getStore(e),n=this._cache.getStore(t),s=!0;return this._shouldRefreshAccessTokenHook&&!(await this._shouldRefreshAccessTokenHook(o,n))&&(s=!1),(!o||!n||n<Date.now())&&s?this.refreshAccessToken():{accessToken:o,accessTokenExpire:n}}async request(e,t,i){const o=`x-tcb-trace_${this.config.env}`;let n="application/x-www-form-urlencoded";const s={action:e,env:this.config.env,dataVersion:"2019-08-16",...t};if(-1===Mn.indexOf(e)){const{refreshTokenKey:e}=this._cache.keys;this._cache.getStore(e)&&(s.access_token=(await this.getAccessToken()).accessToken)}let a;if("storage.uploadFile"===e){a=new FormData;for(let e in a)a.hasOwnProperty(e)&&void 0!==a[e]&&a.append(e,s[e]);n="multipart/form-data"}else{n="application/json",a={};for(let e in s)void 0!==s[e]&&(a[e]=s[e])}let r={headers:{"content-type":n}};i&&i.onUploadProgress&&(r.onUploadProgress=i.onUploadProgress);const l=this._localCache.getStore(o);l&&(r.headers["X-TCB-Trace"]=l);const{parse:c,inQuery:d,search:u}=t;let m={env:this.config.env};c&&(m.parse=!0),d&&(m={...d,...m});let h=function(e,t,i={}){const o=/\?/.test(t);let n="";for(let s in i)""===n?!o&&(t+="?"):n+="&",n+=`${s}=${encodeURIComponent(i[s])}`;return/^http(s)?\:\/\//.test(t+=n)?t:`${e}${t}`}(an,"//tcb-api.tencentcloudapi.com/web",m);u&&(h+=u);const p=await this.post({url:h,data:a,...r}),g=p.header&&p.header["x-tcb-trace"];if(g&&this._localCache.setStore(o,g),200!==Number(p.status)&&200!==Number(p.statusCode)||!p.data)throw new Ho({code:"NETWORK_ERROR",message:"network request error"});return p}async send(e,t={}){const i=await this.request(e,t,{onUploadProgress:t.onUploadProgress});if("ACCESS_TOKEN_EXPIRED"===i.data.code&&-1===Mn.indexOf(e)){await this.refreshAccessToken();const i=await this.request(e,t,{onUploadProgress:t.onUploadProgress});if(i.data.code)throw new Ho({code:i.data.code,message:i.data.message});return i.data}if(i.data.code)throw new Ho({code:i.data.code,message:i.data.message});return i.data}setRefreshToken(e){const{accessTokenKey:t,accessTokenExpireKey:i,refreshTokenKey:o}=this._cache.keys;this._cache.removeStore(t),this._cache.removeStore(i),this._cache.setStore(o,e)}}const zn={};function jn(e){return zn[e]}class Hn{constructor(e){this.config=e,this._cache=Cn(e.env),this._request=jn(e.env)}setRefreshToken(e){const{accessTokenKey:t,accessTokenExpireKey:i,refreshTokenKey:o}=this._cache.keys;this._cache.removeStore(t),this._cache.removeStore(i),this._cache.setStore(o,e)}setAccessToken(e,t){const{accessTokenKey:i,accessTokenExpireKey:o}=this._cache.keys;this._cache.setStore(i,e),this._cache.setStore(o,t)}async refreshUserInfo(){const{data:e}=await this._request.send("auth.getUserInfo",{});return this.setLocalUserInfo(e),e}setLocalUserInfo(e){const{userInfoKey:t}=this._cache.keys;this._cache.setStore(t,e)}}class Wn{constructor(e){if(!e)throw new Ho({code:"PARAM_ERROR",message:"envId is not defined"});this._envId=e,this._cache=Cn(this._envId),this._request=jn(this._envId),this.setUserInfo()}linkWithTicket(e){if("string"!=typeof e)throw new Ho({code:"PARAM_ERROR",message:"ticket must be string"});return this._request.send("auth.linkWithTicket",{ticket:e})}linkWithRedirect(e){e.signInWithRedirect()}updatePassword(e,t){return this._request.send("auth.updatePassword",{oldPassword:t,newPassword:e})}updateEmail(e){return this._request.send("auth.updateEmail",{newEmail:e})}updateUsername(e){if("string"!=typeof e)throw new Ho({code:"PARAM_ERROR",message:"username must be a string"});return this._request.send("auth.updateUsername",{username:e})}async getLinkedUidList(){const{data:e}=await this._request.send("auth.getLinkedUidList",{});let t=!1;const{users:i}=e;return i.forEach((e=>{e.wxOpenId&&e.wxPublicId&&(t=!0)})),{users:i,hasPrimaryUid:t}}setPrimaryUid(e){return this._request.send("auth.setPrimaryUid",{uid:e})}unlink(e){return this._request.send("auth.unlink",{platform:e})}async update(e){const{nickName:t,gender:i,avatarUrl:o,province:n,country:s,city:a}=e,{data:r}=await this._request.send("auth.updateUserInfo",{nickName:t,gender:i,avatarUrl:o,province:n,country:s,city:a});this.setLocalUserInfo(r)}async refresh(){const{data:e}=await this._request.send("auth.getUserInfo",{});return this.setLocalUserInfo(e),e}setUserInfo(){const{userInfoKey:e}=this._cache.keys,t=this._cache.getStore(e);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl"].forEach((e=>{this[e]=t[e]})),this.location={country:t.country,province:t.province,city:t.city}}setLocalUserInfo(e){const{userInfoKey:t}=this._cache.keys;this._cache.setStore(t,e),this.setUserInfo()}}class qn{constructor(e){if(!e)throw new Ho({code:"PARAM_ERROR",message:"envId is not defined"});this._cache=Cn(e);const{refreshTokenKey:t,accessTokenKey:i,accessTokenExpireKey:o}=this._cache.keys,n=this._cache.getStore(t),s=this._cache.getStore(i),a=this._cache.getStore(o);this.credential={refreshToken:n,accessToken:s,accessTokenExpire:a},this.user=new Wn(e)}get isAnonymousAuth(){return this.loginType===Ln.ANONYMOUS}get isCustomAuth(){return this.loginType===Ln.CUSTOM}get isWeixinAuth(){return this.loginType===Ln.WECHAT||this.loginType===Ln.WECHAT_OPEN||this.loginType===Ln.WECHAT_PUBLIC}get loginType(){return this._cache.getStore(this._cache.keys.loginTypeKey)}}class Jn extends Hn{async signIn(){this._cache.updatePersistence("local");const{anonymousUuidKey:e,refreshTokenKey:t}=this._cache.keys,i=this._cache.getStore(e)||void 0,o=this._cache.getStore(t)||void 0,n=await this._request.send("auth.signInAnonymously",{anonymous_uuid:i,refresh_token:o});if(n.uuid&&n.refresh_token){this._setAnonymousUUID(n.uuid),this.setRefreshToken(n.refresh_token),await this._request.refreshAccessToken(),Vn(In),Vn(Dn,{env:this.config.env,loginType:Ln.ANONYMOUS,persistence:"local"});const e=new qn(this.config.env);return await e.user.refresh(),e}throw new Ho({message:"匿名登录失败"})}async linkAndRetrieveDataWithTicket(e){const{anonymousUuidKey:t,refreshTokenKey:i}=this._cache.keys,o=this._cache.getStore(t),n=this._cache.getStore(i),s=await this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:o,refresh_token:n,ticket:e});if(s.refresh_token)return this._clearAnonymousUUID(),this.setRefreshToken(s.refresh_token),await this._request.refreshAccessToken(),Vn(An,{env:this.config.env}),Vn(Dn,{loginType:Ln.CUSTOM,persistence:"local"}),{credential:{refreshToken:s.refresh_token}};throw new Ho({message:"匿名转化失败"})}_setAnonymousUUID(e){const{anonymousUuidKey:t,loginTypeKey:i}=this._cache.keys;this._cache.removeStore(t),this._cache.setStore(t,e),this._cache.setStore(i,Ln.ANONYMOUS)}_clearAnonymousUUID(){this._cache.removeStore(this._cache.keys.anonymousUuidKey)}}class Gn extends Hn{async signIn(e){if("string"!=typeof e)throw new Ho({code:"PARAM_ERROR",message:"ticket must be a string"});const{refreshTokenKey:t}=this._cache.keys,i=await this._request.send("auth.signInWithTicket",{ticket:e,refresh_token:this._cache.getStore(t)||""});if(i.refresh_token)return this.setRefreshToken(i.refresh_token),await this._request.refreshAccessToken(),Vn(In),Vn(Dn,{env:this.config.env,loginType:Ln.CUSTOM,persistence:this.config.persistence}),await this.refreshUserInfo(),new qn(this.config.env);throw new Ho({message:"自定义登录失败"})}}class Yn extends Hn{async signIn(e,t){if("string"!=typeof e)throw new Ho({code:"PARAM_ERROR",message:"email must be a string"});const{refreshTokenKey:i}=this._cache.keys,o=await this._request.send("auth.signIn",{loginType:"EMAIL",email:e,password:t,refresh_token:this._cache.getStore(i)||""}),{refresh_token:n,access_token:s,access_token_expire:a}=o;if(n)return this.setRefreshToken(n),s&&a?this.setAccessToken(s,a):await this._request.refreshAccessToken(),await this.refreshUserInfo(),Vn(In),Vn(Dn,{env:this.config.env,loginType:Ln.EMAIL,persistence:this.config.persistence}),new qn(this.config.env);throw o.code?new Ho({code:o.code,message:`邮箱登录失败: ${o.message}`}):new Ho({message:"邮箱登录失败"})}async activate(e){return this._request.send("auth.activateEndUserMail",{token:e})}async resetPasswordWithToken(e,t){return this._request.send("auth.resetPasswordWithToken",{token:e,newPassword:t})}}class Xn extends Hn{async signIn(e,t){if("string"!=typeof e)throw new Ho({code:"PARAM_ERROR",message:"username must be a string"});"string"!=typeof t&&(t="",console.warn("password is empty"));const{refreshTokenKey:i}=this._cache.keys,o=await this._request.send("auth.signIn",{loginType:Ln.USERNAME,username:e,password:t,refresh_token:this._cache.getStore(i)||""}),{refresh_token:n,access_token_expire:s,access_token:a}=o;if(n)return this.setRefreshToken(n),a&&s?this.setAccessToken(a,s):await this._request.refreshAccessToken(),await this.refreshUserInfo(),Vn(In),Vn(Dn,{env:this.config.env,loginType:Ln.USERNAME,persistence:this.config.persistence}),new qn(this.config.env);throw o.code?new Ho({code:o.code,message:`用户名密码登录失败: ${o.message}`}):new Ho({message:"用户名密码登录失败"})}}class Kn{constructor(e){this.config=e,this._cache=Cn(e.env),this._request=jn(e.env),this._onAnonymousConverted=this._onAnonymousConverted.bind(this),this._onLoginTypeChanged=this._onLoginTypeChanged.bind(this),En(Dn,this._onLoginTypeChanged)}get currentUser(){const e=this.hasLoginState();return e&&e.user||null}get loginType(){return this._cache.getStore(this._cache.keys.loginTypeKey)}anonymousAuthProvider(){return new Jn(this.config)}customAuthProvider(){return new Gn(this.config)}emailAuthProvider(){return new Yn(this.config)}usernameAuthProvider(){return new Xn(this.config)}async signInAnonymously(){return new Jn(this.config).signIn()}async signInWithEmailAndPassword(e,t){return new Yn(this.config).signIn(e,t)}signInWithUsernameAndPassword(e,t){return new Xn(this.config).signIn(e,t)}async linkAndRetrieveDataWithTicket(e){return this._anonymousAuthProvider||(this._anonymousAuthProvider=new Jn(this.config)),En(An,this._onAnonymousConverted),await this._anonymousAuthProvider.linkAndRetrieveDataWithTicket(e)}async signOut(){if(this.loginType===Ln.ANONYMOUS)throw new Ho({message:"匿名用户不支持登出操作"});const{refreshTokenKey:e,accessTokenKey:t,accessTokenExpireKey:i}=this._cache.keys,o=this._cache.getStore(e);if(!o)return;const n=await this._request.send("auth.logout",{refresh_token:o});return this._cache.removeStore(e),this._cache.removeStore(t),this._cache.removeStore(i),Vn(In),Vn(Dn,{env:this.config.env,loginType:Ln.NULL,persistence:this.config.persistence}),n}async signUpWithEmailAndPassword(e,t){return this._request.send("auth.signUpWithEmailAndPassword",{email:e,password:t})}async sendPasswordResetEmail(e){return this._request.send("auth.sendPasswordResetEmail",{email:e})}onLoginStateChanged(e){En(In,(()=>{const t=this.hasLoginState();e.call(this,t)}));const t=this.hasLoginState();e.call(this,t)}onLoginStateExpired(e){En(Pn,e.bind(this))}onAccessTokenRefreshed(e){En($n,e.bind(this))}onAnonymousConverted(e){En(An,e.bind(this))}onLoginTypeChanged(e){En(Dn,(()=>{const t=this.hasLoginState();e.call(this,t)}))}async getAccessToken(){return{accessToken:(await this._request.getAccessToken()).accessToken,env:this.config.env}}hasLoginState(){const{refreshTokenKey:e}=this._cache.keys;return this._cache.getStore(e)?new qn(this.config.env):null}async isUsernameRegistered(e){if("string"!=typeof e)throw new Ho({code:"PARAM_ERROR",message:"username must be a string"});const{data:t}=await this._request.send("auth.isUsernameRegistered",{username:e});return t&&t.isRegistered}getLoginState(){return Promise.resolve(this.hasLoginState())}async signInWithTicket(e){return new Gn(this.config).signIn(e)}shouldRefreshAccessToken(e){this._request._shouldRefreshAccessTokenHook=e.bind(this)}getUserInfo(){return this._request.send("auth.getUserInfo",{}).then((e=>e.code?e:{...e.data,requestId:e.seqId}))}getAuthHeader(){const{refreshTokenKey:e,accessTokenKey:t}=this._cache.keys,i=this._cache.getStore(e);return{"x-cloudbase-credentials":this._cache.getStore(t)+"/@@/"+i}}_onAnonymousConverted(e){const{env:t}=e.data;t===this.config.env&&this._cache.updatePersistence(this.config.persistence)}_onLoginTypeChanged(e){const{loginType:t,persistence:i,env:o}=e.data;o===this.config.env&&(this._cache.updatePersistence(i),this._cache.setStore(this._cache.keys.loginTypeKey,t))}}const Qn=function(e,t){t=t||hn();const i=jn(this.config.env),{cloudPath:o,filePath:n,onUploadProgress:s,fileType:a="image"}=e;return i.send("storage.getUploadMetadata",{path:o}).then((e=>{const{data:{url:r,authorization:l,token:c,fileId:d,cosFileId:u},requestId:m}=e,h={key:o,signature:l,"x-cos-meta-fileid":u,success_action_status:"201","x-cos-security-token":c};i.upload({url:r,data:h,file:n,name:o,fileType:a,onUploadProgress:s}).then((e=>{201===e.statusCode?t(null,{fileID:d,requestId:m}):t(new Ho({code:"STORAGE_REQUEST_FAIL",message:`STORAGE_REQUEST_FAIL: ${e.data}`}))})).catch((e=>{t(e)}))})).catch((e=>{t(e)})),t.promise},Zn=function(e,t){t=t||hn();const i=jn(this.config.env),{cloudPath:o}=e;return i.send("storage.getUploadMetadata",{path:o}).then((e=>{t(null,e)})).catch((e=>{t(e)})),t.promise},es=function({fileList:e},t){if(t=t||hn(),!e||!Array.isArray(e))return{code:"INVALID_PARAM",message:"fileList必须是非空的数组"};for(let o of e)if(!o||"string"!=typeof o)return{code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"};const i={fileid_list:e};return jn(this.config.env).send("storage.batchDeleteFile",i).then((e=>{e.code?t(null,e):t(null,{fileList:e.data.delete_list,requestId:e.requestId})})).catch((e=>{t(e)})),t.promise},ts=function({fileList:e},t){t=t||hn(),e&&Array.isArray(e)||t(null,{code:"INVALID_PARAM",message:"fileList必须是非空的数组"});let i=[];for(let n of e)"object"==typeof n?(n.hasOwnProperty("fileID")&&n.hasOwnProperty("maxAge")||t(null,{code:"INVALID_PARAM",message:"fileList的元素必须是包含fileID和maxAge的对象"}),i.push({fileid:n.fileID,max_age:n.maxAge})):"string"==typeof n?i.push({fileid:n}):t(null,{code:"INVALID_PARAM",message:"fileList的元素必须是字符串"});const o={file_list:i};return jn(this.config.env).send("storage.batchGetDownloadUrl",o).then((e=>{e.code?t(null,e):t(null,{fileList:e.data.download_list,requestId:e.requestId})})).catch((e=>{t(e)})),t.promise},is=async function({fileID:e},t){const i=(await ts.call(this,{fileList:[{fileID:e,maxAge:600}]})).fileList[0];if("SUCCESS"!==i.code)return t?t(i):new Promise((e=>{e(i)}));const o=jn(this.config.env);let n=i.download_url;if(n=encodeURI(n),!t)return o.download({url:n});t(await o.download({url:n}))},os=function({name:e,data:t,query:i,parse:o,search:n},s){const a=s||hn();let r;try{r=t?JSON.stringify(t):""}catch(c){return Promise.reject(c)}if(!e)return Promise.reject(new Ho({code:"PARAM_ERROR",message:"函数名不能为空"}));const l={inQuery:i,parse:o,search:n,function_name:e,request_data:r};return jn(this.config.env).send("functions.invokeFunction",l).then((e=>{if(e.code)a(null,e);else{let i=e.data.response_data;if(o)a(null,{result:i,requestId:e.requestId});else try{i=JSON.parse(e.data.response_data),a(null,{result:i,requestId:e.requestId})}catch(t){a(new Ho({message:"response data must be json"}))}}return a.promise})).catch((e=>{a(e)})),a.promise},ns={timeout:15e3,persistence:"session"},ss={};class as{constructor(e){this.config=e||this.config,this.authObj=void 0}init(e){switch(vn.adapter||(this.requestClient=new vn.adapter.reqClass({timeout:e.timeout||5e3,timeoutMsg:`请求在${(e.timeout||5e3)/1e3}s内未完成，已中断`})),this.config={...ns,...e},!0){case this.config.timeout>6e5:console.warn("timeout大于可配置上限[10分钟]，已重置为上限数值"),this.config.timeout=6e5;break;case this.config.timeout<100:console.warn("timeout小于可配置下限[100ms]，已重置为下限数值"),this.config.timeout=100}return new as(this.config)}auth({persistence:e}={}){if(this.authObj)return this.authObj;const t=e||vn.adapter.primaryStorage||ns.persistence;var i;return t!==this.config.persistence&&(this.config.persistence=t),function(e){const{env:t}=e;xn[t]=new kn(e),bn[t]=new kn({...e,persistence:"local"})}(this.config),i=this.config,zn[i.env]=new Rn(i),this.authObj=new Kn(this.config),this.authObj}on(e,t){return En.apply(this,[e,t])}off(e,t){return Tn.apply(this,[e,t])}callFunction(e,t){return os.apply(this,[e,t])}deleteFile(e,t){return es.apply(this,[e,t])}getTempFileURL(e,t){return ts.apply(this,[e,t])}downloadFile(e,t){return is.apply(this,[e,t])}uploadFile(e,t){return Qn.apply(this,[e,t])}getUploadMetadata(e,t){return Zn.apply(this,[e,t])}registerExtension(e){ss[e.name]=e}async invokeExtension(e,t){const i=ss[e];if(!i)throw new Ho({message:`扩展${e} 必须先注册`});return await i.invoke(t,this)}useAdapters(e){const{adapter:t,runtime:i}=function(e){const t=(i=e,"[object Array]"===Object.prototype.toString.call(i)?e:[e]);var i;for(const o of t){const{isMatch:e,genAdapter:t,runtime:i}=o;if(e())return{adapter:t(),runtime:i}}}(e)||{};t&&(vn.adapter=t),i&&(vn.runtime=i)}}var rs=new as;function ls(e,t,i){void 0===i&&(i={});var o=/\?/.test(t),n="";for(var s in i)""===n?!o&&(t+="?"):n+="&",n+=s+"="+encodeURIComponent(i[s]);return/^http(s)?:\/\//.test(t+=n)?t:""+e+t}class cs{post(e){const{url:t,data:i,headers:o}=e;return new Promise(((e,n)=>{Wo.request({url:ls("https:",t),data:i,method:"POST",header:o,success(t){e(t)},fail(e){n(e)}})}))}upload(e){return new Promise(((t,i)=>{const{url:o,file:n,data:s,headers:a,fileType:r}=e,l=Wo.uploadFile({url:ls("https:",o),name:"file",formData:Object.assign({},s),filePath:n,fileType:r,header:a,success(e){const i={statusCode:e.statusCode,data:e.data||{}};200===e.statusCode&&s.success_action_status&&(i.statusCode=parseInt(s.success_action_status,10)),t(i)},fail(e){i(new Error(e.errMsg||"uploadFile:fail"))}});"function"==typeof e.onUploadProgress&&l&&"function"==typeof l.onProgressUpdate&&l.onProgressUpdate((t=>{e.onUploadProgress({loaded:t.totalBytesSent,total:t.totalBytesExpectedToSend})}))}))}}const ds={setItem(e,t){Wo.setStorageSync(e,t)},getItem:e=>Wo.getStorageSync(e),removeItem(e){Wo.removeStorageSync(e)},clear(){Wo.clearStorageSync()}};var us={genAdapter:function(){return{root:{},reqClass:cs,localStorage:ds,primaryStorage:"local"}},isMatch:function(){return!0},runtime:"uni_app"};rs.useAdapters(us);const ms=rs,hs=ms.init;ms.init=function(e){e.env=e.spaceId;const t=hs.call(this,e);t.config.provider="tencent",t.config.spaceId=e.spaceId;const i=t.auth;return t.auth=function(e){const t=i.call(this,e);return["linkAndRetrieveDataWithTicket","signInAnonymously","signOut","getAccessToken","getLoginState","signInWithTicket","getUserInfo"].forEach((e=>{var i;t[e]=(i=t[e],function(e){e=e||{};const{success:t,fail:o,complete:n}=jo(e);if(!(t||o||n))return i.call(this,e);i.call(this,e).then((e=>{t&&t(e),n&&n(e)}),(e=>{o&&o(e),n&&n(e)}))}).bind(t)})),t},t.customAuth=t.auth,t};var ps=ms,gs=class extends nn{getAccessToken(){return new Promise(((e,t)=>{const i="Anonymous_Access_token";this.setAccessToken(i),e(i)}))}setupRequest(e,t){const i=Object.assign({},e,{spaceId:this.config.spaceId,timestamp:Date.now()}),o={"Content-Type":"application/json"};"auth"!==t&&(i.token=this.accessToken,o["x-basement-token"]=this.accessToken),o["x-serverless-sign"]=en(i,this.config.clientSecret);const n=Zo();o["x-client-info"]=encodeURIComponent(JSON.stringify(n));const{token:s}=Jo();return o["x-client-token"]=s,{url:this.config.requestUrl,method:"POST",data:i,dataType:"json",header:JSON.parse(JSON.stringify(o))}}uploadFileToOSS({url:e,formData:t,name:i,filePath:o,fileType:n,onUploadProgress:s}){return new Promise(((a,r)=>{const l=this.adapter.uploadFile({url:e,formData:t,name:i,filePath:o,fileType:n,success(e){e&&e.statusCode<400?a(e):r(new Ho({code:"UPLOAD_FAILED",message:"文件上传失败"}))},fail(e){r(new Ho({code:e.code||"UPLOAD_FAILED",message:e.message||e.errMsg||"文件上传失败"}))}});"function"==typeof s&&l&&"function"==typeof l.onProgressUpdate&&l.onProgressUpdate((e=>{s({loaded:e.totalBytesSent,total:e.totalBytesExpectedToSend})}))}))}uploadFile({filePath:e,cloudPath:t,fileType:i="image",onUploadProgress:o}){if(!t)throw new Ho({code:"CLOUDPATH_REQUIRED",message:"cloudPath不可为空"});let n;return this.getOSSUploadOptionsFromPath({cloudPath:t}).then((t=>{const{url:s,formData:a,name:r}=t.result;n=t.result.fileUrl;const l={url:s,formData:a,name:r,filePath:e,fileType:i};return this.uploadFileToOSS(Object.assign({},l,{onUploadProgress:o}))})).then((()=>this.reportOSSUpload({cloudPath:t}))).then((t=>new Promise(((i,o)=>{t.success?i({success:!0,filePath:e,fileID:n}):o(new Ho({code:"UPLOAD_FAILED",message:"文件上传失败"}))}))))}deleteFile({fileList:e}){const t={method:"serverless.file.resource.delete",params:JSON.stringify({fileList:e})};return this.request(this.setupRequest(t)).then((e=>{if(e.success)return e.result;throw new Ho({code:"DELETE_FILE_FAILED",message:"删除文件失败"})}))}getTempFileURL({fileList:e,maxAge:t}={}){if(!Array.isArray(e)||0===e.length)throw new Ho({code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"});const i={method:"serverless.file.resource.getTempFileURL",params:JSON.stringify({fileList:e,maxAge:t})};return this.request(this.setupRequest(i)).then((e=>{if(e.success)return{fileList:e.result.fileList.map((e=>({fileID:e.fileID,tempFileURL:e.tempFileURL})))};throw new Ho({code:"GET_TEMP_FILE_URL_FAILED",message:"获取临时文件链接失败"})}))}},fs={init(e){const t=new gs(e),i={signInAnonymously:function(){return t.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return t.auth=function(){return i},t.customAuth=t.auth,t}},vs=Zi((function(e,t){e.exports=to.enc.Hex}));function _s(e="",t={}){const{data:i,functionName:o,method:n,headers:s,signHeaderKeys:a=[],config:r}=t,l=Date.now(),c="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),d=Object.assign({},s,{"x-from-app-id":r.spaceAppId,"x-from-env-id":r.spaceId,"x-to-env-id":r.spaceId,"x-from-instance-id":l,"x-from-function-name":o,"x-client-timestamp":l,"x-alipay-source":"client","x-request-id":c,"x-alipay-callid":c}),u=["x-from-app-id","x-from-env-id","x-to-env-id","x-from-instance-id","x-from-function-name","x-client-timestamp"].concat(a),[m="",h=""]=e.split("?")||[],p=function(e){const t=e.signedHeaders.join(";"),i=e.signedHeaders.map((t=>`${t.toLowerCase()}:${e.headers[t]}\n`)).join(""),o=un(e.body).toString(vs),n=`${e.method.toUpperCase()}\n${e.path}\n${e.query}\n${i}\n${t}\n${o}\n`,s=un(n).toString(vs),a=`HMAC-SHA256\n${e.timestamp}\n${s}\n`,r=mn(a,e.secretKey).toString(vs);return`HMAC-SHA256 Credential=${e.secretId}, SignedHeaders=${t}, Signature=${r}`}({path:m,query:h,method:n,headers:d,timestamp:l,body:JSON.stringify(i),secretId:r.accessKey,secretKey:r.secretKey,signedHeaders:u.sort()});return{url:`${r.endpoint}${e}`,headers:Object.assign({},d,{Authorization:p})}}function ys({url:e,data:t,method:i="POST",headers:o={}}){return new Promise(((n,s)=>{Wo.request({url:e,method:i,data:t,header:o,dataType:"json",complete:(e={})=>{if(!e.statusCode||e.statusCode>=400){const{errMsg:t}=e.data||{};return s(new Ho({code:"SYS_ERR",message:t||e.errMsg||"request:fail",requestId:e.requestID}))}n({status:e.statusCode,data:e.data,headers:e.header,requestId:e.requestID})}})}))}function ws(e,t){const{path:i,data:o,method:n="GET"}=e,{url:s,headers:a}=_s(i,{functionName:"",data:o,method:n,headers:{"x-alipay-cloud-mode":"oss","x-data-api-type":"oss","x-expire-timestamp":Date.now()+6e4},signHeaderKeys:["x-data-api-type","x-expire-timestamp"],config:t});return ys({url:s,data:o,method:n,headers:a}).then((e=>{const t=e.data||{};if(!t.success)throw new Ho({code:e.code,message:e.message,requestId:e.trace_id});return t.data||{}})).catch((e=>{throw new Ho({code:e.errCode,message:e.errMsg,requestId:e.requestId})}))}function ks(e=""){const t=e.trim().replace(/^cloud:\/\//,""),i=t.indexOf("/");if(i<=0)throw new Ho({code:"INVALID_PARAM",message:"fileID不合法"});const o=t.substring(0,i),n=t.substring(i+1);return o!==this.config.spaceId&&console.warn("file ".concat(e," does not belong to env ").concat(this.config.spaceId)),n}var xs={init:e=>{e.provider="alipay";const t=new class{constructor(e){if(["spaceId","spaceAppId","accessKey","secretKey"].forEach((t=>{if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error(`${t} required`)})),e.endpoint){if("string"!=typeof e.endpoint)throw new Error("endpoint must be string");if(!/^https:\/\//.test(e.endpoint))throw new Error("endpoint must start with https://");e.endpoint=e.endpoint.replace(/\/$/,"")}this.config=Object.assign({},e,{endpoint:e.endpoint||`https://${e.spaceId}.api-hz.cloudbasefunction.cn`})}callFunction(e){return function(e,t){const{name:i,data:o}=e,n="POST",{url:s,headers:a}=_s("/functions/invokeFunction",{functionName:i,data:o,method:n,headers:{"x-to-function-name":i},signHeaderKeys:["x-to-function-name"],config:t});return ys({url:s,data:o,method:n,headers:a}).then((e=>({errCode:0,success:!0,requestId:e.requestId,result:e.data}))).catch((e=>{throw new Ho({code:e.errCode,message:e.errMsg,requestId:e.requestId})}))}(e,this.config)}uploadFileToOSS({url:e,filePath:t,fileType:i,formData:o,onUploadProgress:n}){return new Promise(((s,a)=>{const r=Wo.uploadFile({url:e,filePath:t,fileType:i,formData:o,name:"file",success(e){e&&e.statusCode<400?s(e):a(new Ho({code:"UPLOAD_FAILED",message:"文件上传失败"}))},fail(e){a(new Ho({code:e.code||"UPLOAD_FAILED",message:e.message||e.errMsg||"文件上传失败"}))}});"function"==typeof n&&r&&"function"==typeof r.onProgressUpdate&&r.onProgressUpdate((e=>{n({loaded:e.totalBytesSent,total:e.totalBytesExpectedToSend})}))}))}async uploadFile({filePath:e,cloudPath:t="",fileType:i="image",onUploadProgress:o}){if("string"!==lo(t))throw new Ho({code:"INVALID_PARAM",message:"cloudPath必须为字符串类型"});if(!(t=t.trim()))throw new Ho({code:"INVALID_PARAM",message:"cloudPath不可为空"});if(/:\/\//.test(t))throw new Ho({code:"INVALID_PARAM",message:"cloudPath不合法"});const n=await ws({path:"/".concat(t.replace(/^\//,""),"?post_url")},this.config),{file_id:s,upload_url:a,form_data:r}=n,l=r&&r.reduce(((e,t)=>(e[t.key]=t.value,e)),{});return this.uploadFileToOSS({url:a,filePath:e,fileType:i,formData:l,onUploadProgress:o}).then((()=>({fileID:s})))}async getTempFileURL({fileList:e}){return new Promise(((t,i)=>{(!e||e.length<0)&&i(new Ho({errCode:"INVALID_PARAM",errMsg:"fileList不能为空数组"})),e.length>50&&i(new Ho({errCode:"INVALID_PARAM",errMsg:"fileList数组长度不能超过50"}));const o=[];for(const n of e){"string"!==lo(n)&&i(new Ho({errCode:"INVALID_PARAM",errMsg:"fileList的元素必须是非空的字符串"}));const e=ks.call(this,n);o.push({file_id:e,expire:600})}ws({path:"/?download_url",data:{file_list:o},method:"POST"},this.config).then((e=>{const{file_list:i=[]}=e;t({fileList:i.map((e=>({fileID:e.file_id,tempFileURL:e.download_url})))})})).catch((e=>i(e)))}))}}(e);return t.auth=function(){return{signInAnonymously:function(){return Promise.resolve()},getLoginState:function(){return Promise.resolve(!0)}}},t}};function bs({data:e}){let t;t=Zo();const i=JSON.parse(JSON.stringify(e||{}));if(Object.assign(i,{clientInfo:t}),!i.uniIdToken){const{token:e}=Jo();e&&(i.uniIdToken=e)}return i}const Cs=[{rule:/fc_function_not_found|FUNCTION_NOT_FOUND/,content:"，云函数[{functionName}]在云端不存在，请检查此云函数名称是否正确以及该云函数是否已上传到服务空间",mode:"append"}];var Bs=/[\\^$.*+?()[\]{}|]/g,Ns=RegExp(Bs.source);function Ss(e,t,i){return e.replace(new RegExp((o=t)&&Ns.test(o)?o.replace(Bs,"\\$&"):o,"g"),i);var o}const Es=2e4,Vs={code:20101,message:"Invalid client"};function Ts(e){const{errSubject:t,subject:i,errCode:o,errMsg:n,code:s,message:a,cause:r}=e||{};return new Ho({subject:t||i||"uni-secure-network",code:o||s||Es,message:n||a,cause:r})}let Is;function Ps({secretType:e}={}){return"request"===e||"response"===e||"both"===e}function Ds({name:e,data:t={}}={}){return"DCloud-clientDB"===e&&"encryption"===t.redirectTo&&"getAppClientKey"===t.action}function As({functionName:e,result:t,logPvd:i}){}function $s(e){const t=e.callFunction,i=function(i){const o=i.name;i.data=bs.call(e,{data:i.data});const n={aliyun:"aliyun",tencent:"tcb",tcb:"tcb",alipay:"alipay"}[this.config.provider],s=Ps(i),a=Ds(i),r=s||a;return t.call(this,i).then((e=>(e.errCode=0,!r&&As.call(this,{functionName:o,result:e,logPvd:n}),Promise.resolve(e))),(e=>(!r&&As.call(this,{functionName:o,result:e,logPvd:n}),e&&e.message&&(e.message=function({message:e="",extraInfo:t={},formatter:i=[]}={}){for(let o=0;o<i.length;o++){const{rule:n,content:s,mode:a}=i[o],r=e.match(n);if(!r)continue;let l=s;for(let e=1;e<r.length;e++)l=Ss(l,`{$${e}}`,r[e]);for(const e in t)l=Ss(l,`{${e}}`,t[e]);return"replace"===a?l:e+l}return e}({message:`[${i.name}]: ${e.message}`,formatter:Cs,extraInfo:{functionName:o}})),Promise.reject(e))))};e.callFunction=function(t){const{provider:o,spaceId:n}=e.config,s=t.name;let a,r;return t.data=t.data||{},a=i,a=a.bind(e),r=Ds(t)?i.call(e,t):Ps(t)?new Is({secretType:t.secretType,uniCloudIns:e}).wrapEncryptDataCallFunction(i.bind(e))(t):function({provider:e,spaceId:t,functionName:i}={}){const{appId:o,uniPlatform:n,osName:s}=Ko();let a=n;"app"===n&&(a=s);const r=function({provider:e,spaceId:t}={}){if(!vo)return{};var i;e="tencent"===(i=e)?"tcb":i;const o=vo.find((i=>i.provider===e&&i.spaceId===t));return o&&o.config}({provider:e,spaceId:t});if(!r||!r.accessControl||!r.accessControl.enable)return!1;const l=r.accessControl.function||{},c=Object.keys(l);if(0===c.length)return!0;const d=function(e,t){let i,o,n;for(let s=0;s<e.length;s++){const a=e[s];a!==t?"*"!==a?a.split(",").map((e=>e.trim())).indexOf(t)>-1&&(o=a):n=a:i=a}return i||o||n}(c,i);if(!d)return!1;if((l[d]||[]).find(((e={})=>e.appId===o&&(e.platform||"").toLowerCase()===a.toLowerCase())))return!0;throw console.error(`此应用[appId: ${o}, platform: ${a}]不在云端配置的允许访问的应用列表内，参考：https://uniapp.dcloud.net.cn/uniCloud/secure-network.html#verify-client`),Ts(Vs)}({provider:o,spaceId:n,functionName:s})?new Is({secretType:t.secretType,uniCloudIns:e}).wrapVerifyClientCallFunction(i.bind(e))(t):a(t),Object.defineProperty(r,"result",{get:()=>(console.warn("当前返回结果为Promise类型，不可直接访问其result属性，详情请参考：https://uniapp.dcloud.net.cn/uniCloud/faq?id=promise"),{})}),r}}Is=class{constructor(){throw Ts({message:"Platform app is not enabled, please check whether secure network module is enabled in your manifest.json"})}};const Ls=Symbol("CLIENT_DB_INTERNAL");function Ms(e,t){return e.then="DoNotReturnProxyWithAFunctionNamedThen",e._internalType=Ls,e.inspect=null,e.__v_raw=void 0,new Proxy(e,{get(e,i,o){if("_uniClient"===i)return null;if("symbol"==typeof i)return e[i];if(i in e||"string"!=typeof i){const t=e[i];return"function"==typeof t?t.bind(e):t}return t.get(e,i,o)}})}function Os(e){return{on:(t,i)=>{e[t]=e[t]||[],e[t].indexOf(i)>-1||e[t].push(i)},off:(t,i)=>{e[t]=e[t]||[];const o=e[t].indexOf(i);-1!==o&&e[t].splice(o,1)}}}const Fs=["db.Geo","db.command","command.aggregate"];function Us(e,t){return Fs.indexOf(`${e}.${t}`)>-1}function Rs(e){switch(lo(e=qo(e))){case"array":return e.map((e=>Rs(e)));case"object":return e._internalType===Ls||Object.keys(e).forEach((t=>{e[t]=Rs(e[t])})),e;case"regexp":return{$regexp:{source:e.source,flags:e.flags}};case"date":return{$date:e.toISOString()};default:return e}}function zs(e){return e&&e.content&&e.content.$method}class js{constructor(e,t,i){this.content=e,this.prevStage=t||null,this.udb=null,this._database=i}toJSON(){let e=this;const t=[e.content];for(;e.prevStage;)e=e.prevStage,t.push(e.content);return{$db:t.reverse().map((e=>({$method:e.$method,$param:Rs(e.$param)})))}}toString(){return JSON.stringify(this.toJSON())}getAction(){const e=this.toJSON().$db.find((e=>"action"===e.$method));return e&&e.$param&&e.$param[0]}getCommand(){return{$db:this.toJSON().$db.filter((e=>"action"!==e.$method))}}get isAggregate(){let e=this;for(;e;){const t=zs(e),i=zs(e.prevStage);if("aggregate"===t&&"collection"===i||"pipeline"===t)return!0;e=e.prevStage}return!1}get isCommand(){let e=this;for(;e;){if("command"===zs(e))return!0;e=e.prevStage}return!1}get isAggregateCommand(){let e=this;for(;e;){const t=zs(e),i=zs(e.prevStage);if("aggregate"===t&&"command"===i)return!0;e=e.prevStage}return!1}getNextStageFn(e){const t=this;return function(){return Hs({$method:e,$param:Rs(Array.from(arguments))},t,t._database)}}get count(){return this.isAggregate?this.getNextStageFn("count"):function(){return this._send("count",Array.from(arguments))}}get remove(){return this.isCommand?this.getNextStageFn("remove"):function(){return this._send("remove",Array.from(arguments))}}get(){return this._send("get",Array.from(arguments))}get add(){return this.isCommand?this.getNextStageFn("add"):function(){return this._send("add",Array.from(arguments))}}update(){return this._send("update",Array.from(arguments))}end(){return this._send("end",Array.from(arguments))}get set(){return this.isCommand?this.getNextStageFn("set"):function(){throw new Error("JQL禁止使用set方法")}}_send(e,t){const i=this.getAction(),o=this.getCommand();return o.$db.push({$method:e,$param:Rs(t)}),this._database._callCloudFunction({action:i,command:o})}}function Hs(e,t,i){return Ms(new js(e,t,i),{get(e,t){let o="db";return e&&e.content&&(o=e.content.$method),Us(o,t)?Hs({$method:t},e,i):function(){return Hs({$method:t,$param:Rs(Array.from(arguments))},e,i)}}})}function Ws({path:e,method:t}){return class{constructor(){this.param=Array.from(arguments)}toJSON(){return{$newDb:[...e.map((e=>({$method:e}))),{$method:t,$param:this.param}]}}toString(){return JSON.stringify(this.toJSON())}}}function qs(e,t={}){return Ms(new e(t),{get:(e,t)=>Us("db",t)?Hs({$method:t},null,e):function(){return Hs({$method:t,$param:Rs(Array.from(arguments))},null,e)}})}class Js extends class{constructor({uniClient:e={},isJQL:t=!1}={}){this._uniClient=e,this._authCallBacks={},this._dbCallBacks={},e._isDefault&&(this._dbCallBacks=ko("_globalUniCloudDatabaseCallback")),t||(this.auth=Os(this._authCallBacks)),this._isJQL=t,Object.assign(this,Os(this._dbCallBacks)),this.env=Ms({},{get:(e,t)=>({$env:t})}),this.Geo=Ms({},{get:(e,t)=>Ws({path:["Geo"],method:t})}),this.serverDate=Ws({path:[],method:"serverDate"}),this.RegExp=Ws({path:[],method:"RegExp"})}getCloudEnv(e){if("string"!=typeof e||!e.trim())throw new Error("getCloudEnv参数错误");return{$env:e.replace("$cloudEnv_","")}}_callback(e,t){const i=this._dbCallBacks;i[e]&&i[e].forEach((e=>{e(...t)}))}_callbackAuth(e,t){const i=this._authCallBacks;i[e]&&i[e].forEach((e=>{e(...t)}))}multiSend(){const e=Array.from(arguments),t=e.map((e=>{const t=e.getAction(),i=e.getCommand();if("getTemp"!==i.$db[i.$db.length-1].$method)throw new Error("multiSend只支持子命令内使用getTemp");return{action:t,command:i}}));return this._callCloudFunction({multiCommand:t,queryList:e})}}{_parseResult(e){return this._isJQL?e.result:e}_callCloudFunction({action:e,command:t,multiCommand:i,queryList:o}){function n(e,t){if(i&&o)for(let i=0;i<o.length;i++){const n=o[i];n.udb&&"function"==typeof n.udb.setResult&&(t?n.udb.setResult(t):n.udb.setResult(e.result.dataList[i]))}}const s=this,a=this._isJQL?"databaseForJQL":"database";function r(e){return s._callback("error",[e]),No(So(a,"fail"),e).then((()=>No(So(a,"complete"),e))).then((()=>(n(null,e),Fo(To,{type:Do,content:e}),Promise.reject(e))))}const l=No(So(a,"invoke")),c=this._uniClient;return l.then((()=>c.callFunction({name:"DCloud-clientDB",type:"CLIENT_DB",data:{action:e,command:t,multiCommand:i}}))).then((e=>{const{code:t,message:i,token:o,tokenExpired:l,systemInfo:c=[]}=e.result;if(c)for(let n=0;n<c.length;n++){const{level:e,message:t,detail:i}=c[n],o=console["warn"===e?"error":e]||console.log;let s="[System Info]"+t;i&&(s=`${s}\n详细信息：${i}`),o(s)}if(t)return r(new Ho({code:t,message:i,requestId:e.requestId}));e.result.errCode=e.result.errCode||e.result.code,e.result.errMsg=e.result.errMsg||e.result.message,o&&l&&(Go({token:o,tokenExpired:l}),this._callbackAuth("refreshToken",[{token:o,tokenExpired:l}]),this._callback("refreshToken",[{token:o,tokenExpired:l}]),Fo(Po,{token:o,tokenExpired:l}));const d=[{prop:"affectedDocs",tips:"affectedDocs不再推荐使用，请使用inserted/deleted/updated/data.length替代"},{prop:"code",tips:"code不再推荐使用，请使用errCode替代"},{prop:"message",tips:"message不再推荐使用，请使用errMsg替代"}];for(let n=0;n<d.length;n++){const{prop:t,tips:i}=d[n];if(t in e.result){const o=e.result[t];Object.defineProperty(e.result,t,{get:()=>(console.warn(i),o)})}}return u=e,No(So(a,"success"),u).then((()=>No(So(a,"complete"),u))).then((()=>{n(u,null);const e=s._parseResult(u);return Fo(To,{type:Do,content:e}),Promise.resolve(e)}));var u}),(e=>(/fc_function_not_found|FUNCTION_NOT_FOUND/g.test(e.message)&&console.warn("clientDB未初始化，请在web控制台保存一次schema以开启clientDB"),r(new Ho({code:e.code||"SYSTEM_ERROR",message:e.message,requestId:e.requestId})))))}}const Gs="token无效，跳转登录页面",Ys="token过期，跳转登录页面",Xs={TOKEN_INVALID_TOKEN_EXPIRED:Ys,TOKEN_INVALID_INVALID_CLIENTID:Gs,TOKEN_INVALID:Gs,TOKEN_INVALID_WRONG_TOKEN:Gs,TOKEN_INVALID_ANONYMOUS_USER:Gs},Ks={"uni-id-token-expired":Ys,"uni-id-check-token-failed":Gs,"uni-id-token-not-exist":Gs,"uni-id-check-device-feature-failed":Gs};function Qs(e,t){let i="";return i=e?`${e}/${t}`:t,i.replace(/^\//,"")}function Zs(e=[],t=""){const i=[],o=[];return e.forEach((e=>{!0===e.needLogin?i.push(Qs(t,e.path)):!1===e.needLogin&&o.push(Qs(t,e.path))})),{needLoginPage:i,notNeedLoginPage:o}}function ea(e){return e.split("?")[0].replace(/^\//,"")}function ta(){return function(e){let t=e&&e.$page&&e.$page.fullPath||"";return t?("/"!==t.charAt(0)&&(t="/"+t),t):t}(function(){const e=getCurrentPages();return e[e.length-1]}())}function ia(){return ea(ta())}function oa(e="",t={}){if(!e)return!1;if(!(t&&t.list&&t.list.length))return!1;const i=t.list,o=ea(e);return i.some((e=>e.pagePath===o))}const na=!!Qi.uniIdRouter,{loginPage:sa,routerNeedLogin:aa,resToLogin:ra,needLoginPage:la,notNeedLoginPage:ca,loginPageInTabBar:da}=function({pages:e=[],subPackages:t=[],uniIdRouter:i={},tabBar:o={}}=Qi){const{loginPage:n,needLogin:s=[],resToLogin:a=!0}=i,{needLoginPage:r,notNeedLoginPage:l}=Zs(e),{needLoginPage:c,notNeedLoginPage:d}=function(e=[]){const t=[],i=[];return e.forEach((e=>{const{root:o,pages:n=[]}=e,{needLoginPage:s,notNeedLoginPage:a}=Zs(n,o);t.push(...s),i.push(...a)})),{needLoginPage:t,notNeedLoginPage:i}}(t);return{loginPage:n,routerNeedLogin:s,resToLogin:a,needLoginPage:[...r,...c],notNeedLoginPage:[...l,...d],loginPageInTabBar:oa(n,o)}}();if(la.indexOf(sa)>-1)throw new Error(`Login page [${sa}] should not be "needLogin", please check your pages.json`);function ua(e){const t=ia();if("/"===e.charAt(0))return e;const[i,o]=e.split("?"),n=i.replace(/^\//,"").split("/"),s=t.split("/");s.pop();for(let a=0;a<n.length;a++){const e=n[a];".."===e?s.pop():"."!==e&&s.push(e)}return""===s[0]&&s.shift(),"/"+s.join("/")+(o?"?"+o:"")}function ma({redirect:e}){const t=ea(e),i=ea(sa);return ia()!==i&&t!==i}function ha({api:e,redirect:t}={}){if(!t||!ma({redirect:t}))return;const i=(n=t,"/"!==(o=sa).charAt(0)&&(o="/"+o),n?o.indexOf("?")>-1?o+`&uniIdRedirectUrl=${encodeURIComponent(n)}`:o+`?uniIdRedirectUrl=${encodeURIComponent(n)}`:o);var o,n;da?"navigateTo"!==e&&"redirectTo"!==e||(e="switchTab"):"switchTab"===e&&(e="navigateTo");const s={navigateTo:uni.navigateTo,redirectTo:uni.redirectTo,switchTab:uni.switchTab,reLaunch:uni.reLaunch};setTimeout((()=>{s[e]({url:i})}))}function pa({url:e}={}){const t={abortLoginPageJump:!1,autoToLoginPage:!1},i=function(){const{token:e,tokenExpired:t}=Jo();let i;if(e){if(t<Date.now()){const e="uni-id-token-expired";i={errCode:e,errMsg:Ks[e]}}}else{const e="uni-id-check-token-failed";i={errCode:e,errMsg:Ks[e]}}return i}();if(function(e){const t=ea(ua(e));return!(ca.indexOf(t)>-1)&&(la.indexOf(t)>-1||aa.some((t=>{return i=e,new RegExp(t).test(i);var i})))}(e)&&i){if(i.uniIdRedirectUrl=e,Lo(Io).length>0)return setTimeout((()=>{Fo(Io,i)}),0),t.abortLoginPageJump=!0,t;t.autoToLoginPage=!0}return t}function ga(){!function(){const e=ta(),{abortLoginPageJump:t,autoToLoginPage:i}=pa({url:e});t||i&&ha({api:"redirectTo",redirect:e})}();const e=["navigateTo","redirectTo","reLaunch","switchTab"];for(let t=0;t<e.length;t++){const i=e[t];uni.addInterceptor(i,{invoke(e){const{abortLoginPageJump:t,autoToLoginPage:o}=pa({url:e.url});return t?e:o?(ha({api:i,redirect:ua(e.url)}),!1):e}})}}function fa(){this.onResponse((e=>{const{type:t,content:i}=e;let o=!1;switch(t){case"cloudobject":o=function(e){if("object"!=typeof e)return!1;const{errCode:t}=e||{};return t in Ks}(i);break;case"clientdb":o=function(e){if("object"!=typeof e)return!1;const{errCode:t}=e||{};return t in Xs}(i)}o&&function(e={}){const t=Lo(Io);zo().then((()=>{const i=ta();if(i&&ma({redirect:i}))return t.length>0?Fo(Io,Object.assign({uniIdRedirectUrl:i},e)):void(sa&&ha({api:"navigateTo",redirect:i}))}))}(i)}))}function va(e){var t;(t=e).onResponse=function(e){Mo(To,e)},t.offResponse=function(e){Oo(To,e)},function(e){e.onNeedLogin=function(e){Mo(Io,e)},e.offNeedLogin=function(e){Oo(Io,e)},na&&(ko("_globalUniCloudStatus").needLoginInit||(ko("_globalUniCloudStatus").needLoginInit=!0,zo().then((()=>{ga.call(e)})),ra&&fa.call(e)))}(e),function(e){e.onRefreshToken=function(e){Mo(Po,e)},e.offRefreshToken=function(e){Oo(Po,e)}}(e)}let _a;const ya="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",wa=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;function ka(){const e=Jo().token||"",t=e.split(".");if(!e||3!==t.length)return{uid:null,role:[],permission:[],tokenExpired:0};let i;try{i=JSON.parse((o=t[1],decodeURIComponent(_a(o).split("").map((function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))))}catch(n){throw new Error("获取当前用户信息出错，详细错误信息为："+n.message)}var o;return i.tokenExpired=1e3*i.exp,delete i.exp,delete i.iat,i}_a="function"!=typeof atob?function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!wa.test(e))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");var t;e+="==".slice(2-(3&e.length));for(var i,o,n="",s=0;s<e.length;)t=ya.indexOf(e.charAt(s++))<<18|ya.indexOf(e.charAt(s++))<<12|(i=ya.indexOf(e.charAt(s++)))<<6|(o=ya.indexOf(e.charAt(s++))),n+=64===i?String.fromCharCode(t>>16&255):64===o?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,255&t);return n}:atob;var xa=function(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}(Zi((function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const i="chooseAndUploadFile:ok",o="chooseAndUploadFile:fail";function n(e,t){return e.tempFiles.forEach(((e,i)=>{e.name||(e.name=e.path.substring(e.path.lastIndexOf("/")+1)),t&&(e.fileType=t),e.cloudPath=Date.now()+"_"+i+e.name.substring(e.name.lastIndexOf("."))})),e.tempFilePaths||(e.tempFilePaths=e.tempFiles.map((e=>e.path))),e}function s(e,t,{onChooseFile:o,onUploadProgress:n}){return t.then((e=>{if(o){const t=o(e);if(void 0!==t)return Promise.resolve(t).then((t=>void 0===t?e:t))}return e})).then((t=>!1===t?{errMsg:i,tempFilePaths:[],tempFiles:[]}:function(e,t,o=5,n){(t=Object.assign({},t)).errMsg=i;const s=t.tempFiles,a=s.length;let r=0;return new Promise((i=>{for(;r<o;)l();function l(){const o=r++;if(o>=a)return void(!s.find((e=>!e.url&&!e.errMsg))&&i(t));const c=s[o];e.uploadFile({filePath:c.path,cloudPath:c.cloudPath,fileType:c.fileType,cloudPathAsRealPath:c.cloudPathAsRealPath,onUploadProgress(e){e.index=o,e.tempFile=c,e.tempFilePath=c.path,n&&n(e)}}).then((e=>{c.url=e.fileID,o<a&&l()})).catch((e=>{c.errMsg=e.errMsg||e.message,o<a&&l()}))}}))}(e,t,5,n)))}t.initChooseAndUploadFile=function(e){return function(t={type:"all"}){return"image"===t.type?s(e,function(e){const{count:t,sizeType:i,sourceType:s=["album","camera"],extension:a}=e;return new Promise(((e,r)=>{uni.chooseImage({count:t,sizeType:i,sourceType:s,extension:a,success(t){e(n(t,"image"))},fail(e){r({errMsg:e.errMsg.replace("chooseImage:fail",o)})}})}))}(t),t):"video"===t.type?s(e,function(e){const{camera:t,compressed:i,maxDuration:s,sourceType:a=["album","camera"],extension:r}=e;return new Promise(((e,l)=>{uni.chooseVideo({camera:t,compressed:i,maxDuration:s,sourceType:a,extension:r,success(t){const{tempFilePath:i,duration:o,size:s,height:a,width:r}=t;e(n({errMsg:"chooseVideo:ok",tempFilePaths:[i],tempFiles:[{name:t.tempFile&&t.tempFile.name||"",path:i,size:s,type:t.tempFile&&t.tempFile.type||"",width:r,height:a,duration:o,fileType:"video",cloudPath:""}]},"video"))},fail(e){l({errMsg:e.errMsg.replace("chooseVideo:fail",o)})}})}))}(t),t):s(e,function(e){const{count:t,extension:i}=e;return new Promise(((e,s)=>{let a=uni.chooseFile;if("undefined"!=typeof wx&&"function"==typeof wx.chooseMessageFile&&(a=wx.chooseMessageFile),"function"!=typeof a)return s({errMsg:o+" 请指定 type 类型，该平台仅支持选择 image 或 video。"});a({type:"all",count:t,extension:i,success(t){e(n(t))},fail(e){s({errMsg:e.errMsg.replace("chooseFile:fail",o)})}})}))}(t),t)}}})));function ba(e){return{props:{localdata:{type:Array,default:()=>[]},options:{type:[Object,Array],default:()=>({})},spaceInfo:{type:Object,default:()=>({})},collection:{type:[String,Array],default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String],default:!1},gettreepath:{type:[Boolean,String],default:!1},startwith:{type:String,default:""},limitlevel:{type:Number,default:10},groupby:{type:String,default:""},groupField:{type:String,default:""},distinct:{type:[Boolean,String],default:!1},foreignKey:{type:String,default:""},loadtime:{type:String,default:"auto"},manual:{type:Boolean,default:!1}},data:()=>({mixinDatacomLoading:!1,mixinDatacomHasMore:!1,mixinDatacomResData:[],mixinDatacomErrorMessage:"",mixinDatacomPage:{}}),created(){this.mixinDatacomPage={current:this.pageCurrent,size:this.pageSize,count:0},this.$watch((()=>{var e=[];return["pageCurrent","pageSize","localdata","collection","action","field","orderby","where","getont","getcount","gettree","groupby","groupField","distinct"].forEach((t=>{e.push(this[t])})),e}),((e,t)=>{if("manual"===this.loadtime)return;let i=!1;const o=[];for(let n=2;n<e.length;n++)e[n]!==t[n]&&(o.push(e[n]),i=!0);e[0]!==t[0]&&(this.mixinDatacomPage.current=this.pageCurrent),this.mixinDatacomPage.size=this.pageSize,this.onMixinDatacomPropsChange(i,o)}))},methods:{onMixinDatacomPropsChange(e,t){},mixinDatacomEasyGet({getone:e=!1,success:t,fail:i}={}){this.mixinDatacomLoading||(this.mixinDatacomLoading=!0,this.mixinDatacomErrorMessage="",this.mixinDatacomGet().then((i=>{this.mixinDatacomLoading=!1;const{data:o,count:n}=i.result;this.getcount&&(this.mixinDatacomPage.count=n),this.mixinDatacomHasMore=o.length<this.pageSize;const s=e?o.length?o[0]:void 0:o;this.mixinDatacomResData=s,t&&t(s)})).catch((e=>{this.mixinDatacomLoading=!1,this.mixinDatacomErrorMessage=e,i&&i(e)})))},mixinDatacomGet(t={}){let i=e.database(this.spaceInfo);const o=t.action||this.action;o&&(i=i.action(o));const n=t.collection||this.collection;i=Array.isArray(n)?i.collection(...n):i.collection(n);const s=t.where||this.where;s&&Object.keys(s).length&&(i=i.where(s));const a=t.field||this.field;a&&(i=i.field(a));const r=t.foreignKey||this.foreignKey;r&&(i=i.foreignKey(r));const l=t.groupby||this.groupby;l&&(i=i.groupBy(l));const c=t.groupField||this.groupField;c&&(i=i.groupField(c)),!0===(void 0!==t.distinct?t.distinct:this.distinct)&&(i=i.distinct());const d=t.orderby||this.orderby;d&&(i=i.orderBy(d));const u=void 0!==t.pageCurrent?t.pageCurrent:this.mixinDatacomPage.current,m=void 0!==t.pageSize?t.pageSize:this.mixinDatacomPage.size,h=void 0!==t.getcount?t.getcount:this.getcount,p=void 0!==t.gettree?t.gettree:this.gettree,g=void 0!==t.gettreepath?t.gettreepath:this.gettreepath,f={getCount:h},v={limitLevel:void 0!==t.limitlevel?t.limitlevel:this.limitlevel,startWith:void 0!==t.startwith?t.startwith:this.startwith};return p&&(f.getTree=v),g&&(f.getTreePath=v),i=i.skip(m*(u-1)).limit(m).get(f),i}}}}function Ca(e){return ko("_globalUniCloudSecureNetworkCache__{spaceId}".replace("{spaceId}",e.config.spaceId))}async function Ba({openid:e,callLoginByWeixin:t=!1}={}){throw Ca(this),new Error("[SecureNetwork] API `initSecureNetworkByWeixin` is not supported on platform `app`")}async function Na(e){const t=Ca(this);return t.initPromise||(t.initPromise=Ba.call(this,e)),t.initPromise}function Sa(e){const t={getSystemInfo:uni.getSystemInfo,getPushClientId:uni.getPushClientId};return function(i){return new Promise(((o,n)=>{t[e]({...i,success(e){o(e)},fail(e){n(e)}})}))}}class Ea extends class{constructor(){this._callback={}}addListener(e,t){this._callback[e]||(this._callback[e]=[]),this._callback[e].push(t)}on(e,t){return this.addListener(e,t)}removeListener(e,t){if(!t)throw new Error('The "listener" argument must be of type function. Received undefined');const i=this._callback[e];if(!i)return;const o=function(e,t){for(let i=e.length-1;i>=0;i--)if(e[i]===t)return i;return-1}(i,t);i.splice(o,1)}off(e,t){return this.removeListener(e,t)}removeAllListener(e){delete this._callback[e]}emit(e,...t){const i=this._callback[e];if(i)for(let o=0;o<i.length;o++)i[o](...t)}}{constructor(){super(),this._uniPushMessageCallback=this._receivePushMessage.bind(this),this._currentMessageId=-1,this._payloadQueue=[]}init(){return Promise.all([Sa("getSystemInfo")(),Sa("getPushClientId")()]).then((([{appId:e}={},{cid:t}={}]=[])=>{if(!e)throw new Error("Invalid appId, please check the manifest.json file");if(!t)throw new Error("Invalid push client id");this._appId=e,this._pushClientId=t,this._seqId=Date.now()+"-"+Math.floor(9e5*Math.random()+1e5),this.emit("open"),this._initMessageListener()}),(e=>{throw this.emit("error",e),this.close(),e}))}async open(){return this.init()}_isUniCloudSSE(e){if("receive"!==e.type)return!1;const t=e&&e.data&&e.data.payload;return!(!t||"UNI_CLOUD_SSE"!==t.channel||t.seqId!==this._seqId)}_receivePushMessage(e){if(!this._isUniCloudSSE(e))return;const t=e&&e.data&&e.data.payload,{action:i,messageId:o,message:n}=t;this._payloadQueue.push({action:i,messageId:o,message:n}),this._consumMessage()}_consumMessage(){for(;;){const e=this._payloadQueue.find((e=>e.messageId===this._currentMessageId+1));if(!e)break;this._currentMessageId++,this._parseMessagePayload(e)}}_parseMessagePayload(e){const{action:t,messageId:i,message:o}=e;"end"===t?this._end({messageId:i,message:o}):"message"===t&&this._appendMessage({messageId:i,message:o})}_appendMessage({messageId:e,message:t}={}){this.emit("message",t)}_end({messageId:e,message:t}={}){this.emit("end",t),this.close()}_initMessageListener(){uni.onPushMessage(this._uniPushMessageCallback)}_destroy(){uni.offPushMessage(this._uniPushMessageCallback)}toJSON(){return{appId:this._appId,pushClientId:this._pushClientId,seqId:this._seqId}}close(){this._destroy(),this.emit("close")}}const Va={tcb:ps,tencent:ps,aliyun:sn,private:fs,alipay:xs};let Ta=new class{init(e){let t={};const i=Va[e.provider];if(!i)throw new Error("未提供正确的provider参数");var o;return t=i.init(e),function(e){e._initPromiseHub||(e._initPromiseHub=new go({createPromise:function(){let t=Promise.resolve();t=new Promise((e=>{setTimeout((()=>{e()}),1)}));const i=e.auth();return t.then((()=>i.getLoginState())).then((e=>e?Promise.resolve():i.signInAnonymously()))}}))}(t),$s(t),function(e){const t=e.uploadFile;e.uploadFile=function(e){return t.call(this,e)}}(t),(o=t).database=function(e){if(e&&Object.keys(e).length>0)return o.init(e).database();if(this._database)return this._database;const t=qs(Js,{uniClient:o});return this._database=t,t},o.databaseForJQL=function(e){if(e&&Object.keys(e).length>0)return o.init(e).databaseForJQL();if(this._databaseForJQL)return this._databaseForJQL;const t=qs(Js,{uniClient:o,isJQL:!0});return this._databaseForJQL=t,t},function(e){e.getCurrentUserInfo=ka,e.chooseAndUploadFile=xa.initChooseAndUploadFile(e),Object.assign(e,{get mixinDatacom(){return ba(e)}}),e.SSEChannel=Ea,e.initSecureNetworkByWeixin=function(e){return function({openid:t,callLoginByWeixin:i=!1}={}){return Na.call(e,{openid:t,callLoginByWeixin:i})}}(e),e.importObject=function(t){return function(i,o={}){o=function(e,t={}){return e.customUI=t.customUI||e.customUI,e.parseSystemError=t.parseSystemError||e.parseSystemError,Object.assign(e.loadingOptions,t.loadingOptions),Object.assign(e.errorOptions,t.errorOptions),"object"==typeof t.secretMethods&&(e.secretMethods=t.secretMethods),e}({customUI:!1,loadingOptions:{title:"加载中...",mask:!0},errorOptions:{type:"modal",retry:!1}},o);const{customUI:n,loadingOptions:s,errorOptions:a,parseSystemError:r}=o,l=!n;return new Proxy({},{get:(n,c)=>function({fn:e,interceptorName:t,getCallbackArgs:i}={}){return async function(...o){const n=i?i({params:o}):{};let s,a;try{return await No(So(t,"invoke"),{...n}),s=await e(...o),await No(So(t,"success"),{...n,result:s}),s}catch(r){throw a=r,await No(So(t,"fail"),{...n,error:a}),a}finally{await No(So(t,"complete"),a?{...n,error:a}:{...n,result:s})}}}({fn:async function n(...d){let u;l&&uni.showLoading({title:s.title,mask:s.mask});const m={name:i,type:"OBJECT",data:{method:c,params:d}};"object"==typeof o.secretMethods&&function(e,t){const i=t.data.method,o=e.secretMethods||{},n=o[i]||o["*"];n&&(t.secretType=n)}(o,m);let h=!1;try{u=await t.callFunction(m)}catch(e){h=!0,u={result:new Ho(e)}}const{errSubject:p,errCode:g,errMsg:f,newToken:v}=u.result||{};if(l&&uni.hideLoading(),v&&v.token&&v.tokenExpired&&(Go(v),Fo(Po,{...v})),g){let e=f;if(h&&r&&(e=(await r({objectName:i,methodName:c,params:d,errSubject:p,errCode:g,errMsg:f})).errMsg||f),l)if("toast"===a.type)uni.showToast({title:e,icon:"none"});else{if("modal"!==a.type)throw new Error(`Invalid errorOptions.type: ${a.type}`);{const{confirm:t}=await async function({title:e,content:t,showCancel:i,cancelText:o,confirmText:n}={}){return new Promise(((s,a)=>{uni.showModal({title:e,content:t,showCancel:i,cancelText:o,confirmText:n,success(e){s(e)},fail(){s({confirm:!1,cancel:!0})}})}))}({title:"提示",content:e,showCancel:a.retry,cancelText:"取消",confirmText:a.retry?"重试":"确定"});if(a.retry&&t)return n(...d)}}const t=new Ho({subject:p,code:g,message:f,requestId:u.requestId});throw t.detail=u.result,Fo(To,{type:$o,content:t}),t}return Fo(To,{type:$o,content:u.result}),u.result},interceptorName:"callObject",getCallbackArgs:function({params:e}={}){return{objectName:i,methodName:c,params:e}}})})}}(e)}(t),["callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","chooseAndUploadFile"].forEach((e=>{if(!t[e])return;const i=t[e];var o,n;t[e]=function(){return i.apply(t,Array.from(arguments))},t[e]=(o=t[e],n=e,function(e){let t=!1;if("callFunction"===n){const i=e&&e.type||so;t=i!==so}const i="callFunction"===n&&!t,s=this._initPromiseHub.exec();e=e||{};const{success:a,fail:r,complete:l}=jo(e),c=s.then((()=>t?Promise.resolve():No(So(n,"invoke"),e))).then((()=>o.call(this,e))).then((e=>t?Promise.resolve(e):No(So(n,"success"),e).then((()=>No(So(n,"complete"),e))).then((()=>(i&&Fo(To,{type:Ao,content:e}),Promise.resolve(e))))),(e=>t?Promise.reject(e):No(So(n,"fail"),e).then((()=>No(So(n,"complete"),e))).then((()=>(Fo(To,{type:Ao,content:e}),Promise.reject(e))))));if(!(a||r||l))return c;c.then((e=>{a&&a(e),l&&l(e),i&&Fo(To,{type:Ao,content:e})}),(e=>{r&&r(e),l&&l(e),i&&Fo(To,{type:Ao,content:e})}))}).bind(t)})),t.init=this.init,t}};(()=>{const e=_o;let t={};if(e&&1===e.length)t=e[0],Ta=Ta.init(t),Ta._isDefault=!0;else{const t=["auth","callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","database","getCurrentUSerInfo","importObject"];let i;i=e&&e.length>0?"应用有多个服务空间，请通过uniCloud.init方法指定要使用的服务空间":"应用未关联服务空间，请在uniCloud目录右键关联服务空间",t.forEach((e=>{Ta[e]=function(){return console.error(i),Promise.reject(new Ho({code:"SYS_ERR",message:i}))}}))}Object.assign(Ta,{get mixinDatacom(){return ba(Ta)}}),va(Ta),Ta.addInterceptor=Co,Ta.removeInterceptor=Bo,Ta.interceptObject=Eo})();const Ia={name:"uniDataChecklist",mixins:[Ta.mixinDatacom||{}],emits:["input","update:modelValue","change"],props:{mode:{type:String,default:"default"},multiple:{type:Boolean,default:!1},value:{type:[Array,String,Number],default:()=>""},modelValue:{type:[Array,String,Number],default:()=>""},localdata:{type:Array,default:()=>[]},min:{type:[Number,String],default:""},max:{type:[Number,String],default:""},wrap:{type:Boolean,default:!1},icon:{type:String,default:"left"},selectedColor:{type:String,default:""},selectedTextColor:{type:String,default:""},emptyText:{type:String,default:"暂无数据"},disabled:{type:Boolean,default:!1},map:{type:Object,default:()=>({text:"text",value:"value"})}},watch:{localdata:{handler(e){this.range=e,this.dataList=this.getDataList(this.getSelectedValue(e))},deep:!0},mixinDatacomResData(e){this.range=e,this.dataList=this.getDataList(this.getSelectedValue(e))},value(e){this.dataList=this.getDataList(e)},modelValue(e){this.dataList=this.getDataList(e)}},data:()=>({dataList:[],range:[],contentText:{contentdown:"查看更多",contentrefresh:"加载中",contentnomore:"没有更多"},isLocal:!0,styles:{selectedColor:"#2979ff",selectedTextColor:"#666"},isTop:0}),computed:{dataValue(){return""===this.value?this.modelValue:(this.modelValue,this.value)}},created(){this.localdata&&0!==this.localdata.length?(this.isLocal=!0,this.range=this.localdata,this.dataList=this.getDataList(this.getSelectedValue(this.range))):this.collection&&(this.isLocal=!1,this.loadData())},methods:{loadData(){this.mixinDatacomGet().then((e=>{this.mixinDatacomResData=e.result.data,0===this.mixinDatacomResData.length?(this.isLocal=!1,this.mixinDatacomErrorMessage=this.emptyText):this.isLocal=!0})).catch((e=>{this.mixinDatacomErrorMessage=e.message}))},getForm(e="uniForms"){let t=this.$parent,i=t.$options.name;for(;i!==e;){if(t=t.$parent,!t)return!1;i=t.$options.name}return t},chagne(e){const t=e.detail.value;let i={value:[],data:[]};if(this.multiple)this.range.forEach((e=>{t.includes(e[this.map.value]+"")&&(i.value.push(e[this.map.value]),i.data.push(e))}));else{const e=this.range.find((e=>e[this.map.value]+""===t));e&&(i={value:e[this.map.value],data:e})}this.$emit("input",i.value),this.$emit("update:modelValue",i.value),this.$emit("change",{detail:i}),this.multiple?this.dataList=this.getDataList(i.value,!0):this.dataList=this.getDataList(i.value)},getDataList(e){let t=JSON.parse(JSON.stringify(this.range)),i=[];return this.multiple&&(Array.isArray(e)||(e=[])),t.forEach(((t,o)=>{if(t.disabled=t.disable||t.disabled||!1,this.multiple)if(e.length>0){let i=e.find((e=>e===t[this.map.value]));t.selected=void 0!==i}else t.selected=!1;else t.selected=e===t[this.map.value];i.push(t)})),this.setRange(i)},setRange(e){let t=e.filter((e=>e.selected)),i=Number(this.min)||0,o=Number(this.max)||"";return e.forEach(((n,s)=>{if(this.multiple){if(t.length<=i){void 0!==t.find((e=>e[this.map.value]===n[this.map.value]))&&(n.disabled=!0)}if(t.length>=o&&""!==o){void 0===t.find((e=>e[this.map.value]===n[this.map.value]))&&(n.disabled=!0)}}this.setStyles(n,s),e[s]=n})),e},setStyles(e,t){e.styleBackgroud=this.setStyleBackgroud(e),e.styleIcon=this.setStyleIcon(e),e.styleIconText=this.setStyleIconText(e),e.styleRightIcon=this.setStyleRightIcon(e)},getSelectedValue(e){if(!this.multiple)return this.dataValue;let t=[];return e.forEach((e=>{e.selected&&t.push(e[this.map.value])})),this.dataValue.length>0?this.dataValue:t},setStyleBackgroud(e){let t={},i=this.selectedColor?this.selectedColor:"#2979ff";"list"!==this.mode&&(t["border-color"]=e.selected?i:"#DCDFE6"),"tag"===this.mode&&(t["background-color"]=e.selected?i:"#f5f5f5");let o="";for(let n in t)o+=`${n}:${t[n]};`;return o},setStyleIcon(e){let t={},i="",o=this.selectedColor?this.selectedColor:"#2979ff";t["background-color"]=e.selected?o:"#fff",t["border-color"]=e.selected?o:"#DCDFE6",!e.selected&&e.disabled&&(t["background-color"]="#F2F6FC",t["border-color"]=e.selected?o:"#DCDFE6");for(let n in t)i+=`${n}:${t[n]};`;return i},setStyleIconText(e){let t={},i="",o=this.selectedColor?this.selectedColor:"#2979ff";"tag"===this.mode?t.color=e.selected?this.selectedTextColor?this.selectedTextColor:"#fff":"#666":t.color=e.selected?this.selectedTextColor?this.selectedTextColor:o:"#666",!e.selected&&e.disabled&&(t.color="#999");for(let n in t)i+=`${n}:${t[n]};`;return i},setStyleRightIcon(e){let t={},i="";"list"===this.mode&&(t["border-color"]=e.selected?this.styles.selectedColor:"#DCDFE6");for(let o in t)i+=`${o}:${t[o]};`;return i}}};const Pa=o(Ia,[["render",function(t,i,o,n,s,a){const r=y(e.resolveDynamicComponent("uni-load-more"),Rt);return e.openBlock(),e.createElementBlock("view",{class:"uni-data-checklist",style:e.normalizeStyle({"margin-top":s.isTop+"px"})},[s.isLocal?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[o.multiple?(e.openBlock(),e.createElementBlock("checkbox-group",{key:0,class:e.normalizeClass(["checklist-group",{"is-list":"list"===o.mode||o.wrap}]),onChange:i[0]||(i[0]=(...e)=>a.chagne&&a.chagne(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.dataList,((t,i)=>(e.openBlock(),e.createElementBlock("label",{class:e.normalizeClass(["checklist-box",["is--"+o.mode,t.selected?"is-checked":"",o.disabled||t.disabled?"is-disable":"",0!==i&&"list"===o.mode?"is-list-border":""]]),style:e.normalizeStyle(t.styleBackgroud),key:i},[e.createElementVNode("checkbox",{class:"hidden",hidden:"",disabled:o.disabled||!!t.disabled,value:t[o.map.value]+"",checked:t.selected},null,8,["disabled","value","checked"]),"tag"!==o.mode&&"list"!==o.mode||"list"===o.mode&&"left"===o.icon?(e.openBlock(),e.createElementBlock("view",{key:0,class:"checkbox__inner",style:e.normalizeStyle(t.styleIcon)},[e.createElementVNode("view",{class:"checkbox__inner-icon"})],4)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass(["checklist-content",{"list-content":"list"===o.mode&&"left"===o.icon}])},[e.createElementVNode("text",{class:"checklist-text",style:e.normalizeStyle(t.styleIconText)},e.toDisplayString(t[o.map.text]),5),"list"===o.mode&&"right"===o.icon?(e.openBlock(),e.createElementBlock("view",{key:0,class:"checkobx__list",style:e.normalizeStyle(t.styleBackgroud)},null,4)):e.createCommentVNode("",!0)],2)],6)))),128))],34)):(e.openBlock(),e.createElementBlock("radio-group",{key:1,class:e.normalizeClass(["checklist-group",{"is-list":"list"===o.mode,"is-wrap":o.wrap}]),onChange:i[1]||(i[1]=(...e)=>a.chagne&&a.chagne(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.dataList,((t,i)=>(e.openBlock(),e.createElementBlock("label",{class:e.normalizeClass(["checklist-box",["is--"+o.mode,t.selected?"is-checked":"",o.disabled||t.disabled?"is-disable":"",0!==i&&"list"===o.mode?"is-list-border":""]]),style:e.normalizeStyle(t.styleBackgroud),key:i},[e.createElementVNode("radio",{class:"hidden",hidden:"",disabled:o.disabled||t.disabled,value:t[o.map.value]+"",checked:t.selected},null,8,["disabled","value","checked"]),"tag"!==o.mode&&"list"!==o.mode||"list"===o.mode&&"left"===o.icon?(e.openBlock(),e.createElementBlock("view",{key:0,class:"radio__inner",style:e.normalizeStyle(t.styleBackgroud)},[e.createElementVNode("view",{class:"radio__inner-icon",style:e.normalizeStyle(t.styleIcon)},null,4)],4)):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass(["checklist-content",{"list-content":"list"===o.mode&&"left"===o.icon}])},[e.createElementVNode("text",{class:"checklist-text",style:e.normalizeStyle(t.styleIconText)},e.toDisplayString(t[o.map.text]),5),"list"===o.mode&&"right"===o.icon?(e.openBlock(),e.createElementBlock("view",{key:0,style:e.normalizeStyle(t.styleRightIcon),class:"checkobx__list"},null,4)):e.createCommentVNode("",!0)],2)],6)))),128))],34))],64)):(e.openBlock(),e.createElementBlock("view",{key:0,class:"uni-data-loading"},[t.mixinDatacomErrorMessage?(e.openBlock(),e.createElementBlock("text",{key:1},e.toDisplayString(t.mixinDatacomErrorMessage),1)):(e.openBlock(),e.createBlock(r,{key:0,status:"loading",iconType:"snow",iconSize:18,"content-text":s.contentText},null,8,["content-text"]))]))],4)}],["__scopeId","data-v-c02dbd8b"]]),Da=we(he);L(Da);const Aa={data:()=>({title:"发起群聊",contact_id:"",lists:[],keywords:"",searchList:[],selectUser:[],userList:[],changeUser:[],user_ids:[],type:1,relayState:!1,scrollLeft:300,contacList:[],searcheUser:[],curMsg:{}}),watch:{relayState(e){1==e&&(uni.showToast({icon:"success",title:"转发成功"}),setTimeout((()=>{uni.navigateBack()}),2e3))},keywords(e){this.search(),""!=e&&(this.searcheUser=this.changeUser)},searcheUser(e){const t=this.changeUser.concat(e);this.changeUser=[...new Set(t)]}},components:{},onLoad(e){var t=getCurrentPages(),i=t[t.length-2];this.type=e.type?e.type:1,this.contact_id=e.contact_id?e.contact_id:"",2==e.type?(this.title="添加成员",this.user_ids=i.$vm.user_ids,this.getAllUser()):3==e.type?(this.title="转发聊天",this.curMsg=i.$vm.curMsg,this.getAllUser()):(this.title="发起群聊",this.getAllUser())},methods:{relay(){let e=this.changeUser.map((e=>e.id));if(e.length)if(e.length>5)uni.showToast({title:"转发的人数不能超过5人！",icon:"none"});else{var t=getCurrentPages(),i=t[t.length-2];let o="";o=i.$vm.fromUser;let n="";n="relayCrm"==this.type||"relayProject"==this.type?i.$vm.message:uni.getStorageSync("selectedItem"),e.forEach((e=>{let t={id:this.$util.getUuid(),is_group:0,fromUser:o,extends:n.extends?n.extends:"",type:n.type,toContactId:e,content:n.content,sendTime:(new Date).getTime()};this.$api.msgApi.sendMessage(t).then((e=>{200===e.code&&(this.relayState=!0)}))}))}else uni.showToast({title:"请选择至少一名人员",icon:"none"})},delUser(){uni.showModal({title:"提示",content:"确定删除？",cancelText:"取消",confirmText:"确认",showCancel:!0,success:e=>{if(e.confirm){var t=getCurrentPages();let e=t[t.length-2].$vm.group_id;this.$api.msgApi.removeUser({user_id:this.changeUser.user_id,id:e}).then((e=>{200===e.code&&uni.navigateBack()}))}else _("log","at pages/index/userSelection.vue:214","cancel")}})},addGroupUser(e){var t=getCurrentPages(),i=t[t.length-2];i.$vm.getsimpleMessage=!1;let o=i.$vm.group_id;this.$api.msgApi.addGroupUser({user_ids:e,id:o}).then((e=>{200==e.code&&uni.navigateBack()}))},addGroup(e){this.$api.msgApi.addGroup({user_ids:e}).then((e=>{200==e.code&&setTimeout((()=>{uni.navigateBack()}),2e3)}))},getAllUser(){const e=uni.getStorageSync("allContacts");let t=[];3==this.type?(t=e.filter((e=>e.id!=this.contact_id)),t.forEach((e=>{e.disable=!1;let t=e.displayName;e.is_group&&(t+="（群聊）"),e.text=t,e.value=e.id}))):(t=e.filter((e=>0==e.is_group)),this.contacList=JSON.parse(JSON.stringify(t)),t.forEach((e=>{e.disable=!1,e.text=e.displayName,e.value=e.id,this.user_ids.length&&2==this.type&&this.user_ids.includes(e.id)&&(e.disable=!0)})),1==this.type&&this.contact_id&&(this.changeUser.push(parseInt(this.contact_id)),this.selectUser=t.filter((e=>e.id==this.contact_id)))),this.userList=t,this.lists=t},chooseUser(e){this.selectUser=e.detail.data,setTimeout((()=>{this.scrollLeft+=300}),50)},chooseSearchUser(e){this.selectUser=this.$util.mergeArrays(e.detail.data,this.selectUser),setTimeout((()=>{this.scrollLeft+=300}),50)},removeUser(e){this.selectUser=this.selectUser.filter((t=>t.id!=e)),this.changeUser=this.changeUser.filter((t=>t!=e))},save(){if(uni.showLoading({title:"保存中...",mask:!0}),!this.changeUser.length)return uni.showToast({title:"请选择人员",icon:"none"});if(1==this.type)this.$api.msgApi.addGroup({user_ids:this.changeUser}).then((e=>{uni.hideLoading();const t=e.data;Da.appendContacts(t),uni.navigateTo({url:"/pages/message/chat?id="+t.id})}));else if(2==this.type)this.$api.msgApi.addGroupUser({user_ids:this.changeUser,id:this.contact_id}).then((e=>{uni.hideLoading(),uni.navigateBack()}));else if(3==this.type){if(this.changeUser.length>5)return uni.showToast({title:"单次转发不能超过5人",icon:"none"});this.$api.msgApi.forwardMessage({user_ids:this.changeUser,msg_id:this.curMsg.msg_id}).then((e=>{uni.hideLoading(),uni.navigateBack()}))}else this.$api.msgApi.removeUser({user_ids:this.changeUser,id:this.contact_id}).then((e=>{uni.hideLoading(),uni.navigateBack()}))},search:function(e){let t=JSON.parse(JSON.stringify(this.lists));this.searchList=this.$util.searchObject(t,["displayName","name_py"],this.keywords)},confirm:function(e){let t=[];e&&(this.userList.filter((i=>{let o=i.realname?i.realname:i.userInfo.displayName;return o.includes(e.trim())&&t.push(i),o.includes(e.trim())})),this.lists=t)}}};const $a=o(Aa,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom"),l=y(e.resolveDynamicComponent("uni-data-checkbox"),Pa),c=e.resolveComponent("Empty");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(s.title),1)])),right:e.withCtx((()=>[e.createElementVNode("view",{class:"mr-10 f-16",onClick:i[0]||(i[0]=(...e)=>a.save&&a.save(...e))},e.toDisplayString(3==s.type?"转发":"保存"),1)])),_:1}),e.createElementVNode("view",{class:"cu-bar bg-white search fixed",style:e.normalizeStyle([{top:t.CustomBar+"px"}])},[e.createElementVNode("view",{class:"search-form round"},[e.createElementVNode("text",{class:"cuIcon-search"}),e.withDirectives(e.createElementVNode("input",{type:"text","onUpdate:modelValue":i[1]||(i[1]=e=>s.keywords=e),placeholder:"输入搜索的关键词","confirm-type":"search"},null,512),[[e.vModelText,s.keywords]])])],4),s.keywords?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"gui-padding",style:{"margin-top":"120rpx","padding-bottom":"100rpx"}},[e.createVNode(l,{multiple:"",class:"user-list-select",onChange:a.chooseUser,modelValue:s.changeUser,"onUpdate:modelValue":i[2]||(i[2]=e=>s.changeUser=e),localdata:s.lists},null,8,["onChange","modelValue","localdata"]),s.lists.length?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(c,{key:0,noDatatext:"无联系人",textcolor:"#999"}))])),s.keywords?(e.openBlock(),e.createElementBlock("view",{key:1,class:"gui-padding",style:{"margin-top":"120rpx","padding-bottom":"100rpx"}},[e.createVNode(l,{multiple:"",class:"user-list-select",onChange:a.chooseSearchUser,modelValue:s.searcheUser,"onUpdate:modelValue":i[3]||(i[3]=e=>s.searcheUser=e),localdata:s.searchList},null,8,["onChange","modelValue","localdata"]),s.searchList.length?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(c,{key:0,noDatatext:"未搜索到数据",textcolor:"#999"}))])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"cu-bar bg-white tabbar border shop footer-opt"},[e.createElementVNode("scroll-view",{class:"scroll-view_H","scroll-x":"true","scroll-anchoring":!0,"scroll-left":s.scrollLeft},[e.createElementVNode("view",{class:"user-list-avatar"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.selectUser,(t=>(e.openBlock(),e.createElementBlock("image",{class:"user-avatar",src:t.avatar,onClick:e=>a.removeUser(t.id)},null,8,["src","onClick"])))),256))]),e.createElementVNode("view",{class:"select-num pd-10"},"已选"+e.toDisplayString(s.selectUser.length)+"人",1)],8,["scroll-left"])])])}],["__scopeId","data-v-fe36291a"]]),La=we(he),Ma=uni.getStorageSync("userInfo"),Oa={data:()=>({keywords:"",group_id:"",modelName:"",userList:[],allUser:[],isAdmin:!1,isManage:!1,isAuth:!1,userInfo:Ma,curUser:{}}),watch:{keywords(e){""==e?this.userList=this.allUser:this.search()}},onLoad(e){this.group_id=e.group_id?e.group_id:"",this.getGroupuserlist()},methods:{getGroupuserlist(){this.userList=[],this.$api.msgApi.groupUserList({group_id:this.group_id}).then((e=>{const t=e.data.filter((e=>1==e.role&&e.userInfo.id==Ma.user_id));t.length&&(this.isAdmin=!0);const i=e.data.filter((e=>2==e.role&&e.userInfo.id==Ma.user_id));i.length&&(this.manage=!0),(t.length||i.length)&&(this.isAuth=!0);const o=e.data;o.forEach((e=>{e.realname=e.userInfo.displayName,e.name_py=e.userInfo.name_py})),this.allUser=o,this.userList=e.data}))},openModel(e){e.realname=e.userInfo.displayName,e.avatar=e.userInfo.avatar,this.curUser=e,this.modelName="userOpt"},setManage(){const e=2==this.curUser.role?3:2;this.$api.msgApi.setManager({id:this.group_id,user_id:this.curUser.user_id,role:e}).then((e=>{0==e.code&&this.getGroupuserlist(),this.modelName=""}))},removeUser(){this.modelName="",uni.showModal({title:this.$t("group_sys.pop_tit1"),success:e=>{e.confirm&&this.$api.msgApi.removeUser({id:this.group_id,user_id:this.curUser.user_id}).then((e=>{0==e.code&&this.getGroupuserlist()}))}})},changeOwner(){this.modelName="",uni.showModal({title:this.$t("group_sys.pop_tit2"),success:e=>{e.confirm&&this.$api.msgApi.changeOwner({id:this.group_id,user_id:this.curUser.user_id}).then((e=>{0==e.code&&uni.reLaunch({url:"/pages/index/index"})}))}})},search(){const e=JSON.parse(JSON.stringify(this.allUser));this.userList=this.$util.searchObject(e,["realname","name_py"],this.keywords)},openChatDetail(e){if(Ma.user_id==e.user_id)return;let t=La.getContact(e.user_id),i=La.getContact(this.group_id);if(!(i.role<3||"1"==i.setting.profile||t))return uni.showToast({title:this.$t("group_sys.pop_tit3"),icon:"none"}),!1;uni.navigateTo({url:"/pages/contacts/detail?id="+e.user_id})}}};const Fa=o(Oa,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom"),l=e.resolveComponent("Empty");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("group_sys.user_list")),1)])),_:1}),e.createElementVNode("view",{class:"cu-bar bg-white search fixed",style:e.normalizeStyle([{top:t.CustomBar+"px"}])},[e.createElementVNode("view",{class:"search-form round"},[e.createElementVNode("text",{class:"cuIcon-search"}),e.withDirectives(e.createElementVNode("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=e=>s.keywords=e),placeholder:t.$t("group_sys.search_placeholder"),"confirm-type":"search"},null,8,["placeholder"]),[[e.vModelText,s.keywords]])])],4),e.createElementVNode("view",{style:{"margin-top":"104rpx"}},[e.createElementVNode("view",{class:"cu-list menu-avatar"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.userList,(i=>(e.openBlock(),e.createElementBlock("view",{class:"cu-item"},[e.createElementVNode("view",{class:"cu-avatar round lg",style:e.normalizeStyle("background-image:url("+i.userInfo.avatar+");"),onClick:e=>a.openChatDetail(i)},null,12,["onClick"]),e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"text-grey"},[e.createElementVNode("view",{class:"text-cut"},e.toDisplayString(i.userInfo.displayName),1),i.role<3?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["cu-tag round sm",1==i.role?"bg-red":"bg-orange"])},e.toDisplayString(1==i.role?t.$t("group_sys.role_t1"):2==i.role?t.$t("group_sys.role_t2"):""),3)):e.createCommentVNode("",!0),i.user_id==s.userInfo.user_id?(e.openBlock(),e.createElementBlock("view",{key:1,class:"cu-tag round sm"},"我")):e.createCommentVNode("",!0)])]),e.createElementVNode("view",{class:"action",onClick:e=>a.openModel(i)},[e.createElementVNode("view",{class:"text-grey text-sm"},[i.role>1&&s.isAuth?(e.openBlock(),e.createElementBlock("text",{key:0,class:"cuIcon-more f-24"})):e.createCommentVNode("",!0)])],8,["onClick"])])))),256)),s.userList.length?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(l,{key:0,noDatatext:t.$t("group_sys.search_no_data"),textcolor:"#999"},null,8,["noDatatext"]))])]),e.createElementVNode("view",{class:e.normalizeClass(["cu-modal bottom-modal","userOpt"==s.modelName?"show":""])},[e.createElementVNode("view",{class:"cu-dialog"},[e.createElementVNode("view",{class:"manage-content"},[e.createElementVNode("view",{class:"cu-list menu bg-white"},[s.curUser?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cu-item"},[e.createElementVNode("view",{class:"content im-flex im-justify-content-center im-align-items-center"},[e.createElementVNode("view",{class:"cu-avatar round sm",style:e.normalizeStyle("background-image:url("+s.curUser.avatar+");")},null,4),e.createElementVNode("view",{class:"text-cut ml-5"},e.toDisplayString(s.curUser.realname),1),2==s.curUser.role?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cu-tag round sm bg-orange"},e.toDisplayString(t.$t("group_sys.role_t2")),1)):e.createCommentVNode("",!0)])])):e.createCommentVNode("",!0),s.isAdmin?(e.openBlock(),e.createElementBlock("view",{key:1,class:"cu-item",onClick:i[1]||(i[1]=e=>a.changeOwner())},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("text",{class:"c-orange"},e.toDisplayString(t.$t("group_sys.change_admin")),1)])])):e.createCommentVNode("",!0),s.isAdmin?(e.openBlock(),e.createElementBlock("view",{key:2,class:"cu-item",onClick:i[2]||(i[2]=e=>a.setManage())},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("text",null,e.toDisplayString(2==s.curUser.role?t.$t("group_sys.role_set_t1"):t.$t("group_sys.role_set_t2")),1)])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"cu-item",onClick:i[3]||(i[3]=e=>a.removeUser())},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("text",null,e.toDisplayString(t.$t("group_sys.out_group")),1)])]),e.createElementVNode("view",{class:"parting-line-5"}),e.createElementVNode("view",{class:"cu-item",onClick:i[4]||(i[4]=e=>s.modelName="")},[e.createElementVNode("view",{class:"content padding-tb-sm"},[e.createElementVNode("text",{class:"c-red"},e.toDisplayString(t.$t("group_sys.ok")),1)])])])])])],2)])}],["__scopeId","data-v-eb15a8a4"]]);var Ua=function(e,t){var i=e,o=Xa[t],n=null,s=0,a=null,r=new Array,l={},c=function(e,t){n=function(e){for(var t=new Array(e),i=0;i<e;i+=1){t[i]=new Array(e);for(var o=0;o<e;o+=1)t[i][o]=null}return t}(s=4*i+17),d(0,0),d(s-7,0),d(0,s-7),m(),u(),p(e,t),i>=7&&h(e),null==a&&(a=f(i,o,r)),g(a,t)},d=function(e,t){for(var i=-1;i<=7;i+=1)if(!(e+i<=-1||s<=e+i))for(var o=-1;o<=7;o+=1)t+o<=-1||s<=t+o||(n[e+i][t+o]=0<=i&&i<=6&&(0==o||6==o)||0<=o&&o<=6&&(0==i||6==i)||2<=i&&i<=4&&2<=o&&o<=4)},u=function(){for(var e=8;e<s-8;e+=1)null==n[e][6]&&(n[e][6]=e%2==0);for(var t=8;t<s-8;t+=1)null==n[6][t]&&(n[6][t]=t%2==0)},m=function(){for(var e=sr.getPatternPosition(i),t=0;t<e.length;t+=1)for(var o=0;o<e.length;o+=1){var s=e[t],a=e[o];if(null==n[s][a])for(var r=-2;r<=2;r+=1)for(var l=-2;l<=2;l+=1)n[s+r][a+l]=-2==r||2==r||-2==l||2==l||0==r&&0==l}},h=function(e){for(var t=sr.getBCHTypeNumber(i),o=0;o<18;o+=1){var a=!e&&1==(t>>o&1);n[Math.floor(o/3)][o%3+s-8-3]=a}for(o=0;o<18;o+=1){a=!e&&1==(t>>o&1);n[o%3+s-8-3][Math.floor(o/3)]=a}},p=function(e,t){for(var i=o<<3|t,a=sr.getBCHTypeInfo(i),r=0;r<15;r+=1){var l=!e&&1==(a>>r&1);r<6?n[r][8]=l:r<8?n[r+1][8]=l:n[s-15+r][8]=l}for(r=0;r<15;r+=1){l=!e&&1==(a>>r&1);r<8?n[8][s-r-1]=l:r<9?n[8][15-r-1+1]=l:n[8][15-r-1]=l}n[s-8][8]=!e},g=function(e,t){for(var i=-1,o=s-1,a=7,r=0,l=sr.getMaskFunction(t),c=s-1;c>0;c-=2)for(6==c&&(c-=1);;){for(var d=0;d<2;d+=1)if(null==n[o][c-d]){var u=!1;r<e.length&&(u=1==(e[r]>>>a&1)),l(o,c-d)&&(u=!u),n[o][c-d]=u,-1==(a-=1)&&(r+=1,a=7)}if((o+=i)<0||s<=o){o-=i,i=-i;break}}},f=function(e,t,i){for(var o=lr.getRSBlocks(e,t),n=cr(),s=0;s<i.length;s+=1){var a=i[s];n.put(a.getMode(),4),n.put(a.getLength(),sr.getLengthInBits(a.getMode(),e)),a.write(n)}var r=0;for(s=0;s<o.length;s+=1)r+=o[s].dataCount;if(n.getLengthInBits()>8*r)throw new Error("code length overflow. ("+n.getLengthInBits()+">"+8*r+")");for(n.getLengthInBits()+4<=8*r&&n.put(0,4);n.getLengthInBits()%8!=0;)n.putBit(!1);for(;!(n.getLengthInBits()>=8*r||(n.put(236,8),n.getLengthInBits()>=8*r));)n.put(17,8);return function(e,t){for(var i=0,o=0,n=0,s=new Array(t.length),a=new Array(t.length),r=0;r<t.length;r+=1){var l=t[r].dataCount,c=t[r].totalCount-l;o=Math.max(o,l),n=Math.max(n,c),s[r]=new Array(l);for(var d=0;d<s[r].length;d+=1)s[r][d]=255&e.getBuffer()[d+i];i+=l;var u=sr.getErrorCorrectPolynomial(c),m=rr(s[r],u.getLength()-1).mod(u);for(a[r]=new Array(u.getLength()-1),d=0;d<a[r].length;d+=1){var h=d+m.getLength()-a[r].length;a[r][d]=h>=0?m.getAt(h):0}}var p=0;for(d=0;d<t.length;d+=1)p+=t[d].totalCount;var g=new Array(p),f=0;for(d=0;d<o;d+=1)for(r=0;r<t.length;r+=1)d<s[r].length&&(g[f]=s[r][d],f+=1);for(d=0;d<n;d+=1)for(r=0;r<t.length;r+=1)d<a[r].length&&(g[f]=a[r][d],f+=1);return g}(n,o)};return l.addData=function(e){var t=dr(e);r.push(t),a=null},l.isDark=function(e,t){if(e<0||s<=e||t<0||s<=t)throw new Error(e+","+t);return n[e][t]},l.getModuleCount=function(){return s},l.make=function(){c(!1,function(){for(var e=0,t=0,i=0;i<8;i+=1){c(!0,i);var o=sr.getLostPoint(l);(0==i||e>o)&&(e=o,t=i)}return t}())},l.createTableTag=function(e,t){e=e||2;var i="";i+='<table style="',i+=" border-width: 0px; border-style: none;",i+=" border-collapse: collapse;",i+=" padding: 0px; margin: "+(t=void 0===t?4*e:t)+"px;",i+='">',i+="<tbody>";for(var o=0;o<l.getModuleCount();o+=1){i+="<tr>";for(var n=0;n<l.getModuleCount();n+=1)i+='<td style="',i+=" border-width: 0px; border-style: none;",i+=" border-collapse: collapse;",i+=" padding: 0px; margin: 0px;",i+=" width: "+e+"px;",i+=" height: "+e+"px;",i+=" background-color: ",i+=l.isDark(o,n)?"#000000":"#ffffff",i+=";",i+='"/>';i+="</tr>"}return i+="</tbody>",i+="</table>"},l.createImgTag=function(e,t,i){e=e||2;var o=t=void 0===t?4*e:t,n=l.getModuleCount()*e+t;return pr(i,i,(function(t,i){if(o<=t&&t<n&&o<=i&&i<n){var s=Math.floor((t-o)/e),a=Math.floor((i-o)/e);return l.isDark(a,s)?0:1}return 1}))},l};Ua.stringToBytes=function(e){for(var t=new Array,i=0;i<e.length;i+=1){var o=e.charCodeAt(i);t.push(255&o)}return t},Ua.createStringToBytes=function(e,t){var i=function(){for(var i=mr(e),o=function(){var e=i.read();if(-1==e)throw new Error;return e},n=0,s={};;){var a=i.read();if(-1==a)break;var r=o(),l=o()<<8|o();s[String.fromCharCode(a<<8|r)]=l,n+=1}if(n!=t)throw new Error(n+" != "+t);return s}(),o="?".charCodeAt(0);return function(e){for(var t=new Array,n=0;n<e.length;n+=1){var s=e.charCodeAt(n);if(s<128)t.push(s);else{var a=i[e.charAt(n)];"number"==typeof a?(255&a)==a?t.push(a):(t.push(a>>>8),t.push(255&a)):t.push(o)}}return t}};var Ra,za,ja,Ha,Wa,qa=1,Ja=2,Ga=4,Ya=8,Xa={L:1,M:0,Q:3,H:2},Ka=0,Qa=1,Za=2,er=3,tr=4,ir=5,or=6,nr=7,sr=(Ra=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],za=1335,ja=7973,Wa=function(e){for(var t=0;0!=e;)t+=1,e>>>=1;return t},(Ha={}).getBCHTypeInfo=function(e){for(var t=e<<10;Wa(t)-Wa(za)>=0;)t^=za<<Wa(t)-Wa(za);return 21522^(e<<10|t)},Ha.getBCHTypeNumber=function(e){for(var t=e<<12;Wa(t)-Wa(ja)>=0;)t^=ja<<Wa(t)-Wa(ja);return e<<12|t},Ha.getPatternPosition=function(e){return Ra[e-1]},Ha.getMaskFunction=function(e){switch(e){case Ka:return function(e,t){return(e+t)%2==0};case Qa:return function(e,t){return e%2==0};case Za:return function(e,t){return t%3==0};case er:return function(e,t){return(e+t)%3==0};case tr:return function(e,t){return(Math.floor(e/2)+Math.floor(t/3))%2==0};case ir:return function(e,t){return e*t%2+e*t%3==0};case or:return function(e,t){return(e*t%2+e*t%3)%2==0};case nr:return function(e,t){return(e*t%3+(e+t)%2)%2==0};default:throw new Error("bad maskPattern:"+e)}},Ha.getErrorCorrectPolynomial=function(e){for(var t=rr([1],0),i=0;i<e;i+=1)t=t.multiply(rr([1,ar.gexp(i)],0));return t},Ha.getLengthInBits=function(e,t){if(1<=t&&t<10)switch(e){case qa:return 10;case Ja:return 9;case Ga:case Ya:return 8;default:throw new Error("mode:"+e)}else if(t<27)switch(e){case qa:return 12;case Ja:return 11;case Ga:return 16;case Ya:return 10;default:throw new Error("mode:"+e)}else{if(!(t<41))throw new Error("type:"+t);switch(e){case qa:return 14;case Ja:return 13;case Ga:return 16;case Ya:return 12;default:throw new Error("mode:"+e)}}},Ha.getLostPoint=function(e){for(var t=e.getModuleCount(),i=0,o=0;o<t;o+=1)for(var n=0;n<t;n+=1){for(var s=0,a=e.isDark(o,n),r=-1;r<=1;r+=1)if(!(o+r<0||t<=o+r))for(var l=-1;l<=1;l+=1)n+l<0||t<=n+l||0==r&&0==l||a==e.isDark(o+r,n+l)&&(s+=1);s>5&&(i+=3+s-5)}for(o=0;o<t-1;o+=1)for(n=0;n<t-1;n+=1){var c=0;e.isDark(o,n)&&(c+=1),e.isDark(o+1,n)&&(c+=1),e.isDark(o,n+1)&&(c+=1),e.isDark(o+1,n+1)&&(c+=1),0!=c&&4!=c||(i+=3)}for(o=0;o<t;o+=1)for(n=0;n<t-6;n+=1)e.isDark(o,n)&&!e.isDark(o,n+1)&&e.isDark(o,n+2)&&e.isDark(o,n+3)&&e.isDark(o,n+4)&&!e.isDark(o,n+5)&&e.isDark(o,n+6)&&(i+=40);for(n=0;n<t;n+=1)for(o=0;o<t-6;o+=1)e.isDark(o,n)&&!e.isDark(o+1,n)&&e.isDark(o+2,n)&&e.isDark(o+3,n)&&e.isDark(o+4,n)&&!e.isDark(o+5,n)&&e.isDark(o+6,n)&&(i+=40);var d=0;for(n=0;n<t;n+=1)for(o=0;o<t;o+=1)e.isDark(o,n)&&(d+=1);return i+=Math.abs(100*d/t/t-50)/5*10},Ha),ar=function(){for(var e=new Array(256),t=new Array(256),i=0;i<8;i+=1)e[i]=1<<i;for(i=8;i<256;i+=1)e[i]=e[i-4]^e[i-5]^e[i-6]^e[i-8];for(i=0;i<255;i+=1)t[e[i]]=i;var o={glog:function(e){if(e<1)throw new Error("glog("+e+")");return t[e]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e[t]}};return o}();function rr(e,t){if(void 0===e.length)throw new Error(e.length+"/"+t);var i=function(){for(var i=0;i<e.length&&0==e[i];)i+=1;for(var o=new Array(e.length-i+t),n=0;n<e.length-i;n+=1)o[n]=e[n+i];return o}(),o={getAt:function(e){return i[e]},getLength:function(){return i.length},multiply:function(e){for(var t=new Array(o.getLength()+e.getLength()-1),i=0;i<o.getLength();i+=1)for(var n=0;n<e.getLength();n+=1)t[i+n]^=ar.gexp(ar.glog(o.getAt(i))+ar.glog(e.getAt(n)));return rr(t,0)},mod:function(e){if(o.getLength()-e.getLength()<0)return o;for(var t=ar.glog(o.getAt(0))-ar.glog(e.getAt(0)),i=new Array(o.getLength()),n=0;n<o.getLength();n+=1)i[n]=o.getAt(n);for(n=0;n<e.getLength();n+=1)i[n]^=ar.gexp(ar.glog(e.getAt(n))+t);return rr(i,0).mod(e)}};return o}var lr=function(){var e=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t=function(e,t){var i={};return i.totalCount=e,i.dataCount=t,i},i={};return i.getRSBlocks=function(i,o){var n=function(t,i){switch(i){case Xa.L:return e[4*(t-1)+0];case Xa.M:return e[4*(t-1)+1];case Xa.Q:return e[4*(t-1)+2];case Xa.H:return e[4*(t-1)+3];default:return}}(i,o);if(void 0===n)throw new Error("bad rs block [url=home.php?mod=space&uid=5302]@[/url] typeNumber:"+i+"/errorCorrectLevel:"+o);for(var s=n.length/3,a=new Array,r=0;r<s;r+=1)for(var l=n[3*r+0],c=n[3*r+1],d=n[3*r+2],u=0;u<l;u+=1)a.push(t(c,d));return a},i}(),cr=function(){var e=new Array,t=0,i={getBuffer:function(){return e},getAt:function(t){var i=Math.floor(t/8);return 1==(e[i]>>>7-t%8&1)},put:function(e,t){for(var o=0;o<t;o+=1)i.putBit(1==(e>>>t-o-1&1))},getLengthInBits:function(){return t},putBit:function(i){var o=Math.floor(t/8);e.length<=o&&e.push(0),i&&(e[o]|=128>>>t%8),t+=1}};return i},dr=function(e){for(var t=Ga,i=e,o=[],n={},s=0,a=i.length;s<a;s++){var r=[],l=i.charCodeAt(s);l>65536?(r[0]=240|(1835008&l)>>>18,r[1]=128|(258048&l)>>>12,r[2]=128|(4032&l)>>>6,r[3]=128|63&l):l>2048?(r[0]=224|(61440&l)>>>12,r[1]=128|(4032&l)>>>6,r[2]=128|63&l):l>128?(r[0]=192|(1984&l)>>>6,r[1]=128|63&l):r[0]=l,o.push(r)}(o=Array.prototype.concat.apply([],o)).length!=i.length&&(o.unshift(191),o.unshift(187),o.unshift(239));var c=o;return n.getMode=function(){return t},n.getLength=function(e){return c.length},n.write=function(e){for(var t=0;t<c.length;t+=1)e.put(c[t],8)},n},ur=function(){var e=new Array,t={writeByte:function(t){e.push(255&t)},writeShort:function(e){t.writeByte(e),t.writeByte(e>>>8)},writeBytes:function(e,i,o){i=i||0,o=o||e.length;for(var n=0;n<o;n+=1)t.writeByte(e[n+i])},writeString:function(e){for(var i=0;i<e.length;i+=1)t.writeByte(e.charCodeAt(i))},toByteArray:function(){return e},toString:function(){var t="";t+="[";for(var i=0;i<e.length;i+=1)i>0&&(t+=","),t+=e[i];return t+="]"}};return t},mr=function(e){var t=e,i=0,o=0,n=0,s={read:function(){for(;n<8;){if(i>=t.length){if(0==n)return-1;throw new Error("unexpected end of file./"+n)}var e=t.charAt(i);if(i+=1,"="==e)return n=0,-1;e.match(/^\s$/)||(o=o<<6|a(e.charCodeAt(0)),n+=6)}var s=o>>>n-8&255;return n-=8,s}},a=function(e){if(65<=e&&e<=90)return e-65;if(97<=e&&e<=122)return e-97+26;if(48<=e&&e<=57)return e-48+52;if(43==e)return 62;if(47==e)return 63;throw new Error("c:"+e)};return s},hr=function(e,t){var i=e,o=t,n=new Array(e*t),s={setPixel:function(e,t,o){n[t*i+e]=o},write:function(e){e.writeString("GIF87a"),e.writeShort(i),e.writeShort(o),e.writeByte(128),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(0),e.writeByte(255),e.writeByte(255),e.writeByte(255),e.writeString(","),e.writeShort(0),e.writeShort(0),e.writeShort(i),e.writeShort(o),e.writeByte(0);var t=a(2);e.writeByte(2);for(var n=0;t.length-n>255;)e.writeByte(255),e.writeBytes(t,n,255),n+=255;e.writeByte(t.length-n),e.writeBytes(t,n,t.length-n),e.writeByte(0),e.writeString(";")}},a=function(e){for(var t=1<<e,i=1+(1<<e),o=e+1,s=r(),a=0;a<t;a+=1)s.add(String.fromCharCode(a));s.add(String.fromCharCode(t)),s.add(String.fromCharCode(i));var l,c,d,u=ur(),m=(l=u,c=0,d=0,{write:function(e,t){if(e>>>t!=0)throw new Error("length over");for(;c+t>=8;)l.writeByte(255&(e<<c|d)),t-=8-c,e>>>=8-c,d=0,c=0;d|=e<<c,c+=t},flush:function(){c>0&&l.writeByte(d)}});m.write(t,o);var h=0,p=String.fromCharCode(n[h]);for(h+=1;h<n.length;){var g=String.fromCharCode(n[h]);h+=1,s.contains(p+g)?p+=g:(m.write(s.indexOf(p),o),s.size()<4095&&(s.size()==1<<o&&(o+=1),s.add(p+g)),p=g)}return m.write(s.indexOf(p),o),m.write(i,o),m.flush(),u.toByteArray()},r=function(){var e={},t=0,i={add:function(o){if(i.contains(o))throw new Error("dup key:"+o);e[o]=t,t+=1},size:function(){return t},indexOf:function(t){return e[t]},contains:function(t){return void 0!==e[t]}};return i};return s},pr=function(e,t,i,o){for(var n=hr(e,t),s=0;s<t;s+=1)for(var a=0;a<e;a+=1)n.setPixel(a,s,i(a,s));var r=ur();n.write(r);for(var l=function(){var e=0,t=0,i=0,o="",n={},s=function(e){o+=String.fromCharCode(a(63&e))},a=function(e){if(e<0);else{if(e<26)return 65+e;if(e<52)return e-26+97;if(e<62)return e-52+48;if(62==e)return 43;if(63==e)return 47}throw new Error("n:"+e)};return n.writeByte=function(o){for(e=e<<8|255&o,t+=8,i+=1;t>=6;)s(e>>>t-6),t-=6},n.flush=function(){if(t>0&&(s(e<<6-t),e=0,t=0),i%3!=0)for(var n=3-i%3,a=0;a<n;a+=1)o+="="},n.toString=function(){return o},n}(),c=r.toByteArray(),d=0;d<c.length;d+=1)l.writeByte(c[d]);l.flush();var u="";return u+="data:image/gif;base64,",u+=l};const gr=function(e,t){var i,o=(t=t||{}).typeNumber||4,n=t.errorCorrectLevel||"M",s=t.size||500;try{(i=Ua(o,n||"M")).addData(e),i.make()}catch(ln){if(o>=40)throw new Error("Text too long to encode");return gen(e,{size:s,errorCorrectLevel:n,typeNumber:o+1})}var a=parseInt(s/i.getModuleCount()),r=parseInt((s-i.getModuleCount()*a)/2);return i.createImgTag(a,r,s)};const fr=o({name:"mosowe-canvas-image",components:{},props:{imgType:{type:String,default:"jpg",validator:()=>["jpg","png"]},compress:{type:Boolean,default:!1},compressSize:{type:[Number,String],default:2097152},showPreview:{type:Boolean,default:!1},height:{type:[String,Number],default:200},width:{type:[String,Number],default:200},lists:{type:Array,default:()=>[]}},data:()=>({canvas:null,listsIndex:0,listsLength:0,canvasArc:null,canvasArcWidth:100,canvasArcHeight:100,compressQuality:20,compressQualityH5:5}),watch:{},beforeCreate(){},created(){this.canvas=uni.createCanvasContext("canvas",this),this.canvasArc=uni.createCanvasContext("canvas-arc",this)},beforeMount(){},mounted(){},beforeUpdate(){},updated(){},beforeDestroy(){},destroyed(){},methods:{createCanvas(){this.clearCanvas(),0!==this.lists.length?(this.listsIndex=0,this.listsLength=this.lists.length-1,uni.showLoading({title:"正在生成图片...",mask:!0}),setTimeout((()=>{uni.hideLoading()}),1e4),this.dataDrawCanvas()):uni.showToast({title:"lists不能为空",icon:"none"})},dataDrawCanvas(){let e=this.lists[this.listsIndex];"image"===e.type?e.content.indexOf("https://")>-1?this.downloadImageNotH5(e):this.compress&&e.hasOwnProperty("file")&&e.file.size>this.compressSize?this.compressImage(e):e.arc?this.drawImageArc(e):this.drawImage(e):"text"===e.type?this.drawText(e):"rect"===e.type?this.drawRect(e):"arc"===e.type?this.drawArc(e):"qr"===e.type&&this.drawQR(e)},downloadImageNotH5(e){uni.downloadFile({url:e.content,header:{"Access-Control-Allow-Origin":"*"},success:t=>{e.content=t.tempFilePath,e.arc?this.drawImageArc(e):this.drawImage(e)},fail:e=>{_("log","at components/mosowe-canvas-image/mosowe-canvas-image.vue:163",e)}})},compressImage(e){uni.showLoading({title:"压缩中...",mask:!0}),uni.compressImage({src:e.content,quality:this.compressQuality,success:t=>{uni.showLoading({title:"正在生成图片...",mask:!0}),e.content=t.tempFilePath,e.arc?this.drawImageArc(e):this.drawImage(e)},fail:e=>{_("log","at components/mosowe-canvas-image/mosowe-canvas-image.vue:232",e),uni.showToast({title:"压缩失败",icon:"none"})}})},drawImageArc(e){this.canvasArc.clearRect(0,0,this.canvasArcWidth,this.canvasArcHeight),this.canvasArcWidth=2*e.arcR,this.canvasArcHeight=2*e.arcR,this.canvasArc.save();let t=setTimeout((()=>{clearTimeout(t),this.canvasArc.arc(e.arcR,e.arcR,e.arcR,0,2*Math.PI),this.canvasArc.clip(),this.canvasArc.drawImage(e.content,e.arcX,e.arcY,e.width,e.height),this.canvasArc.draw(!1,setTimeout((()=>{let t=setTimeout((()=>{clearTimeout(t),uni.canvasToTempFilePath({x:0,y:0,width:2*e.arcR,height:2*e.arcR,fileType:"png",canvasId:"canvas-arc",success:t=>{e.width=2*e.arcR,e.height=2*e.arcR,e.content=t.tempFilePath,this.drawImage(e)},fail:e=>{_("log","at components/mosowe-canvas-image/mosowe-canvas-image.vue:304",e)},complete:()=>{this.canvasArc.restore(),this.canvasArc.fillRect(0,0,0,0),this.canvasArc.clearRect(0,0,this.canvasArcWidth,this.canvasArcHeight)}},this)}),100)})))}),100)},drawImage(e){this.canvas.globalAlpha=e.hasOwnProperty("globalAlpha")?e.globalAlpha:1,this.canvas.drawImage(e.content,e.x,e.y,e.hasOwnProperty("width")?e.width:this.width,e.hasOwnProperty("height")?e.height:this.height),this.checkDrawOver()},drawText(e){this.canvas.setFillStyle(e.hasOwnProperty("color")?e.color:"#000000"),this.canvas.setFontSize(e.hasOwnProperty("size")?e.size:20),this.canvas.setTextAlign(e.hasOwnProperty("align")?e.align:"left"),this.canvas.globalAlpha=e.hasOwnProperty("globalAlpha")?e.globalAlpha:1,e.maxWidth?this.canvas.fillText(e.content,e.x,e.y,e.maxWidth):this.canvas.fillText(e.content,e.x,e.y),this.checkDrawOver()},drawRect(e){this.canvas.setFillStyle(e.hasOwnProperty("color")?e.color:"#000000"),this.canvas.globalAlpha=e.hasOwnProperty("globalAlpha")?e.globalAlpha:1,this.canvas.fillRect(e.x,e.y,e.width,e.height),this.checkDrawOver()},drawArc(e){this.canvas.arc(e.arcX,e.arcY,e.arcR,0,2*Math.PI),this.canvas.setFillStyle(e.hasOwnProperty("color")?e.color:"#000000"),this.canvas.globalAlpha=e.hasOwnProperty("globalAlpha")?e.globalAlpha:1,this.canvas.fill(),this.canvas.closePath(),this.checkDrawOver()},drawQR(e){let t=e.content.length,i=Math.ceil(t/16);i<4&&(i=4),e.qr=gr(e.content,{size:parseInt(300),typeNumber:i}),this.canvas.globalAlpha=e.hasOwnProperty("globalAlpha")?e.globalAlpha:1,this.canvas.drawImage(e.qr,e.x,e.y,e.hasOwnProperty("width")?e.width:this.width,e.hasOwnProperty("height")?e.height:this.height),this.checkDrawOver()},checkDrawOver(){this.listsIndex<this.listsLength?(this.listsIndex++,this.dataDrawCanvas()):this.canvasImage()},canvasImage(){this.listsIndex=0,this.canvas.draw(!1,(()=>{setTimeout((()=>{uni.canvasToTempFilePath({x:0,y:0,width:Number(this.width),height:Number(this.height),fileType:this.imgType,canvasId:"canvas",success:e=>{this.$emit("canvasImage",e.tempFilePath),this.showPreview&&this.showPreviewFn(e.tempFilePath)},fail:e=>{_("log","at components/mosowe-canvas-image/mosowe-canvas-image.vue:413",e)},complete:()=>{uni.hideLoading()}},this)}),500)}))},showPreviewFn(e){uni.previewImage({current:0,urls:[e]})},clearCanvas(){this.canvas.clearRect(0,0,this.width,this.height)}}},[["render",function(t,i,o,n,s,a){return e.openBlock(),e.createElementBlock("view",{class:"mosowe-canvas-image"},[e.createElementVNode("view",{class:"slot-view",onClick:i[0]||(i[0]=(...e)=>a.createCanvas&&a.createCanvas(...e))},[e.renderSlot(t.$slots,"default",{},void 0,!0)]),e.createElementVNode("view",{class:"canvas-wrap-box"},[e.createElementVNode("canvas",{class:"canvas-wrap","canvas-id":"canvas",style:e.normalizeStyle("width: "+o.width+"px; height: "+o.height+"px;")},null,4),e.createElementVNode("canvas",{class:"canvas-wrap","canvas-id":"canvas-arc",style:e.normalizeStyle("width: "+s.canvasArcWidth+"px; height: "+s.canvasArcHeight+"px;")},null,4)])])}],["__scopeId","data-v-511443f8"]]);uni.getStorageSync("userInfo");const vr={data:()=>({canvasUrl:"",group_id:0,lists:[],width:500,height:700,title:"我的二维码",contact:{}}),components:{mosoweCanvasImage:fr},onLoad(e){this.group_id=e.group_id?e.group_id:"",this.group_id?(this.title="群二维码",this.getGroupInfo()):this.createUserQr()},methods:{createUserQr(){let e=uni.getStorageSync("userInfo"),t=e.qrUrl??"";if(!t)return uni.showToast({title:"请重新登陆后再生成二维码",icon:"none"}),void uni.navigateBack();this.lists=[{type:"rect",color:"#ffffff",width:this.width,height:this.height,x:0,y:0},{type:"image",content:e.avatar,width:100,height:100,x:70,y:60},{type:"text",content:e.displayName,x:190,y:96,maxWidth:400,color:"#000",size:28},{type:"text",content:e.account,x:190,y:135,maxWidth:400,color:"#999",size:20},{type:"qr",content:t,width:360,height:360,x:70,y:200},{type:"text",content:"扫一扫上面的二维码图案，加我为好友",x:105,y:620,color:"#999",maxWidth:400,size:18}],setTimeout((()=>{this.$refs.mosoweCanvasComponents.createCanvas()}),100)},getGroupInfo(){this.userList=[],this.$api.msgApi.groupInfo({group_id:this.group_id}).then((e=>{let t=e.data;this.contact=t;let i=t.name;i.length>12&&(i=i.substring(0,12)+"..."),this.lists=[{type:"rect",color:"#ffffff",width:this.width,height:this.height,x:0,y:0},{type:"image",content:t.avatar,width:100,height:100,x:200,y:40},{type:"text",content:"群聊："+i,x:this.width/2,align:"center",y:180,maxWidth:400,color:"#000",size:24},{type:"qr",content:t.qrUrl,width:360,height:360,x:70,y:220},{type:"text",content:"该二维码7天内（"+t.qrExpire+"前）有效",x:105,y:640,color:"#999",maxWidth:400,size:18}],setTimeout((()=>{this.$refs.mosoweCanvasComponents.createCanvas()}),100)}))},canvasImage(e){this.canvasUrl=e},saveHeadImgFile(){uni.saveImageToPhotosAlbum({filePath:this.canvasUrl,success:()=>{uni.showToast({title:"图片保存成功",icon:"none"})}})}}};const _r=o(vr,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom"),l=y(e.resolveDynamicComponent("mosowe-canvas-image"),fr);return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(s.title),1)])),_:1}),e.createElementVNode("view",{class:"mt-20 im-flex im-align-items-center"},[e.createElementVNode("image",{src:s.canvasUrl,mode:"widthFix",style:{margin:"0 auto"}},null,8,["src"])]),s.canvasUrl?(e.openBlock(),e.createElementBlock("view",{key:0,class:"padding flex flex-direction mt-10"},[e.createElementVNode("button",{class:"cu-btn bg-green lg",onClick:i[0]||(i[0]=(...e)=>a.saveHeadImgFile&&a.saveHeadImgFile(...e))}," 保存到相册 ")])):e.createCommentVNode("",!0),e.createVNode(l,{ref:"mosoweCanvasComponents",lists:s.lists,height:s.height,width:s.width,onCanvasImage:a.canvasImage},null,8,["lists","height","width","onCanvasImage"])])}],["__scopeId","data-v-c1c950fc"]]);uni.getStorageSync("userInfo");const yr=we(he);const wr=o({data:()=>({contact:{},group_id:0}),onLoad(e){this.group_id=e.group_id?e.group_id:"",this.getGroupInfo()},methods:{getGroupInfo(){this.$api.msgApi.groupInfo({group_id:this.group_id}).then((e=>{let t=e.data;this.contact=t}))},applyGroup(){if(0==this.contact.setting.invite)return uni.showToast({title:this.$t("group_sys.pop_tit4"),icon:"none"});this.$api.msgApi.joinGroup({group_id:this.group_id,inviteUid:this.contact.inviteUid}).then((e=>{0==e.code&&(this.contact.is_group=1,yr.appendContacts(this.contact),this.openChat())}))},openChat(){uni.navigateTo({url:"/pages/message/chat?id="+this.group_id})}}},[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("group_sys.message_tit")),1)])),_:1}),e.createElementVNode("view",{align:"center",class:"groupInfo"},[e.createElementVNode("image",{src:s.contact.avatar,mode:"widthFix",style:{width:"120px",height:"120px","border-radius":"12rpx"}},null,8,["src"]),e.createElementVNode("view",{class:"f-14 mt-10"},e.toDisplayString(s.contact.name)+" ("+e.toDisplayString(s.contact.groupUserCount)+") ",1)]),s.contact.isJoin?(e.openBlock(),e.createElementBlock("view",{key:1,class:"padding flex flex-direction mt-10"},[e.createElementVNode("button",{class:"cu-btn bg-green lg",onClick:i[1]||(i[1]=(...e)=>a.openChat&&a.openChat(...e))},e.toDisplayString(t.$t("group_sys.message_tit3")),1)])):(e.openBlock(),e.createElementBlock("view",{key:0,class:"padding flex flex-direction mt-10"},[e.createElementVNode("button",{class:"cu-btn bg-green lg",onClick:i[0]||(i[0]=(...e)=>a.applyGroup&&a.applyGroup(...e))},e.toDisplayString(t.$t("group_sys.message_tit2")),1)]))])}],["__scopeId","data-v-75add9aa"]]);L(we(he));const kr=o({name:"group",data:()=>({groupList:[]}),created(){},mounted(){this.initContacts(this.msgs)},methods:{initContacts(e){const t=uni.getStorageSync("allContacts").filter((e=>1==e.is_group)).sort(((e,t)=>"#"===e.index?1:"#"===t.index?-1:e.index.localeCompare(t.index,"zh")));this.groupList=t},openDetails(e){uni.navigateTo({url:"/pages/message/chat?id="+e.id})},search(){uni.navigateTo({url:"/pages/index/search?type=3"})}}},[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom"),l=e.resolveComponent("Empty");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("group_sys.title")),1)])),right:e.withCtx((()=>[e.createElementVNode("view",{class:"f-20 ml-10 mr-10",onClick:i[0]||(i[0]=e=>a.search())},[e.createElementVNode("text",{class:"cuIcon-search"})])])),_:1}),e.createElementVNode("view",{class:"cu-list menu-avatar no-padding"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.groupList,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:"cu-item",key:i,onClick:e=>a.openDetails(t)},[e.createElementVNode("view",{class:"cu-avatar lg radius mr-15",style:e.normalizeStyle([{backgroundImage:"url("+t.avatar+")"}])},null,4),e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"c-333"},e.toDisplayString(t.displayName),1)])],8,["onClick"])))),128)),s.groupList.length?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(l,{key:0,noDatatext:t.$t("group_sys.no_data"),textcolor:"#999"},null,8,["noDatatext"]))])])}]]);const xr=o({name:"search",data:()=>({title:"搜索聊天",keywords:"",allContacts:[],contacts:[],groupList:[],type:1}),watch:{keywords(e){this.search()}},onLoad(e){this.type=e.type,2==this.type?this.title="搜索联系人":3==this.type?this.title="搜索群聊":this.title="搜索聊天"},mounted(){this.allContacts=uni.getStorageSync("allContacts")},methods:{search(){const e=this.$util.searchObject(this.allContacts,["displayName","name_py","account"],this.keywords),t=[],i=[];e.forEach((e=>{1==e.is_group?i.push(e):t.push(e)})),this.groupList=i,this.contacts=t},openDetails(e){2==this.type&&0==e.is_gourp&&uni.navigateTo({url:"/pages/contacts/detail?id="+e.id}),uni.navigateTo({url:"/pages/message/chat?id="+e.id})}}},[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom"),l=e.resolveComponent("Empty");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(s.title),1)])),_:1}),e.createElementVNode("view",{class:"cu-bar bg-white search fixed",style:e.normalizeStyle([{top:t.CustomBar+"px"}])},[e.createElementVNode("view",{class:"search-form round"},[e.createElementVNode("text",{class:"cuIcon-search"}),e.withDirectives(e.createElementVNode("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=e=>s.keywords=e),placeholder:"输入搜索的关键词","confirm-type":"search"},null,512),[[e.vModelText,s.keywords]])])],4),e.createElementVNode("view",{style:{"margin-top":"120rpx"}},[s.type<3&&s.contacts.length>0?(e.openBlock(),e.createElementBlock("view",{key:0},[e.createElementVNode("view",{class:"padding"},"联系人"),e.createElementVNode("view",{class:"cu-list menu-avatar no-padding"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.contacts,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:"cu-item",key:i,onClick:e=>a.openDetails(t)},[e.createElementVNode("view",{class:"cu-avatar lg radius mr-15",style:e.normalizeStyle([{backgroundImage:"url("+t.avatar+")"}])},null,4),e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"c-333"},e.toDisplayString(t.displayName),1)])],8,["onClick"])))),128))])])):e.createCommentVNode("",!0),s.groupList.length>0?(e.openBlock(),e.createElementBlock("view",{key:1},[e.createElementVNode("view",{class:"padding"},"群聊"),e.createElementVNode("view",{class:"cu-list menu-avatar no-padding"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.groupList,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:"cu-item",key:i,onClick:e=>a.openDetails(t)},[e.createElementVNode("view",{class:"cu-avatar lg radius mr-15",style:e.normalizeStyle([{backgroundImage:"url("+t.avatar+")"}])},null,4),e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"c-333"},e.toDisplayString(t.displayName),1)])],8,["onClick"])))),128))])])):e.createCommentVNode("",!0),s.groupList.length||s.contacts.length?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:2},[e.createVNode(l,{noDatatext:"暂无数据",textcolor:"#999"})]))])])}]]);"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function br(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Cr,Br={};"undefined"!=typeof self&&self,Cr=function(){return function(e){var t={};function i(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}return i.m=e,i.c=t,i.d=function(e,t,o){i.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=3)}([function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){this.width=t,this.height=e.length/t,this.data=e}return e.createEmpty=function(t,i){return new e(new Uint8ClampedArray(t*i),t)},e.prototype.get=function(e,t){return!(e<0||e>=this.width||t<0||t>=this.height||!this.data[t*this.width+e])},e.prototype.set=function(e,t,i){this.data[t*this.width+e]=i?1:0},e.prototype.setRegion=function(e,t,i,o,n){for(var s=t;s<t+o;s++)for(var a=e;a<e+i;a++)this.set(a,s,!!n)},e}();t.BitMatrix=o},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var o=i(2);t.addOrSubtractGF=function(e,t){return e^t};var n=function(){function e(e,t,i){this.primitive=e,this.size=t,this.generatorBase=i,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var n=1,s=0;s<this.size;s++)this.expTable[s]=n,(n*=2)>=this.size&&(n=(n^this.primitive)&this.size-1);for(s=0;s<this.size-1;s++)this.logTable[this.expTable[s]]=s;this.zero=new o.default(this,Uint8ClampedArray.from([0])),this.one=new o.default(this,Uint8ClampedArray.from([1]))}return e.prototype.multiply=function(e,t){return 0===e||0===t?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]},e.prototype.inverse=function(e){if(0===e)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[e]-1]},e.prototype.buildMonomial=function(e,t){if(e<0)throw new Error("Invalid monomial degree less than 0");if(0===t)return this.zero;var i=new Uint8ClampedArray(e+1);return i[0]=t,new o.default(this,i)},e.prototype.log=function(e){if(0===e)throw new Error("Can't take log(0)");return this.logTable[e]},e.prototype.exp=function(e){return this.expTable[e]},e}();t.default=n},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var o=i(1),n=function(){function e(e,t){if(0===t.length)throw new Error("No coefficients.");this.field=e;var i=t.length;if(i>1&&0===t[0]){for(var o=1;o<i&&0===t[o];)o++;if(o===i)this.coefficients=e.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(i-o);for(var n=0;n<this.coefficients.length;n++)this.coefficients[n]=t[o+n]}}else this.coefficients=t}return e.prototype.degree=function(){return this.coefficients.length-1},e.prototype.isZero=function(){return 0===this.coefficients[0]},e.prototype.getCoefficient=function(e){return this.coefficients[this.coefficients.length-1-e]},e.prototype.addOrSubtract=function(t){var i;if(this.isZero())return t;if(t.isZero())return this;var n=this.coefficients,s=t.coefficients;n.length>s.length&&(n=(i=[s,n])[0],s=i[1]);for(var a=new Uint8ClampedArray(s.length),r=s.length-n.length,l=0;l<r;l++)a[l]=s[l];for(l=r;l<s.length;l++)a[l]=o.addOrSubtractGF(n[l-r],s[l]);return new e(this.field,a)},e.prototype.multiply=function(t){if(0===t)return this.field.zero;if(1===t)return this;for(var i=this.coefficients.length,o=new Uint8ClampedArray(i),n=0;n<i;n++)o[n]=this.field.multiply(this.coefficients[n],t);return new e(this.field,o)},e.prototype.multiplyPoly=function(t){if(this.isZero()||t.isZero())return this.field.zero;for(var i=this.coefficients,n=i.length,s=t.coefficients,a=s.length,r=new Uint8ClampedArray(n+a-1),l=0;l<n;l++)for(var c=i[l],d=0;d<a;d++)r[l+d]=o.addOrSubtractGF(r[l+d],this.field.multiply(c,s[d]));return new e(this.field,r)},e.prototype.multiplyByMonomial=function(t,i){if(t<0)throw new Error("Invalid degree less than 0");if(0===i)return this.field.zero;for(var o=this.coefficients.length,n=new Uint8ClampedArray(o+t),s=0;s<o;s++)n[s]=this.field.multiply(this.coefficients[s],i);return new e(this.field,n)},e.prototype.evaluateAt=function(e){var t=0;if(0===e)return this.getCoefficient(0);var i=this.coefficients.length;if(1===e)return this.coefficients.forEach((function(e){t=o.addOrSubtractGF(t,e)})),t;t=this.coefficients[0];for(var n=1;n<i;n++)t=o.addOrSubtractGF(this.field.multiply(e,t),this.coefficients[n]);return t},e}();t.default=n},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var o=i(4),n=i(5),s=i(11),a=i(12);function r(e){var t=a.locate(e);if(!t)return null;for(var i=0,o=t;i<o.length;i++){var r=o[i],l=s.extract(e,r),c=n.decode(l.matrix);if(c)return{binaryData:c.bytes,data:c.text,chunks:c.chunks,version:c.version,location:{topRightCorner:l.mappingFunction(r.dimension,0),topLeftCorner:l.mappingFunction(0,0),bottomRightCorner:l.mappingFunction(r.dimension,r.dimension),bottomLeftCorner:l.mappingFunction(0,r.dimension),topRightFinderPattern:r.topRight,topLeftFinderPattern:r.topLeft,bottomLeftFinderPattern:r.bottomLeft,bottomRightAlignmentPattern:r.alignmentPattern}}}return null}var l={inversionAttempts:"attemptBoth"};function c(e,t,i,n){void 0===n&&(n={});var s=l;Object.keys(s||{}).forEach((function(e){s[e]=n[e]||s[e]}));var a="attemptBoth"===s.inversionAttempts||"invertFirst"===s.inversionAttempts,c="onlyInvert"===s.inversionAttempts||"invertFirst"===s.inversionAttempts,d=o.binarize(e,t,i,a),u=d.binarized,m=d.inverted,h=r(c?m:u);return h||"attemptBoth"!==s.inversionAttempts&&"invertFirst"!==s.inversionAttempts||(h=r(c?u:m)),h}c.default=c,t.default=c},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var o=i(0);function n(e,t,i){return e<t?t:e>i?i:e}var s=function(){function e(e,t){this.width=e,this.data=new Uint8ClampedArray(e*t)}return e.prototype.get=function(e,t){return this.data[t*this.width+e]},e.prototype.set=function(e,t,i){this.data[t*this.width+e]=i},e}();t.binarize=function(e,t,i,a){if(e.length!==t*i*4)throw new Error("Malformed data passed to binarizer.");for(var r=new s(t,i),l=0;l<t;l++)for(var c=0;c<i;c++){var d=e[4*(c*t+l)+0],u=e[4*(c*t+l)+1],m=e[4*(c*t+l)+2];r.set(l,c,.2126*d+.7152*u+.0722*m)}for(var h=Math.ceil(t/8),p=Math.ceil(i/8),g=new s(h,p),f=0;f<p;f++)for(var v=0;v<h;v++){var _=0,y=1/0,w=0;for(c=0;c<8;c++)for(l=0;l<8;l++){var k=r.get(8*v+l,8*f+c);_+=k,y=Math.min(y,k),w=Math.max(w,k)}var x=_/Math.pow(8,2);if(w-y<=24&&(x=y/2,f>0&&v>0)){var b=(g.get(v,f-1)+2*g.get(v-1,f)+g.get(v-1,f-1))/4;y<b&&(x=b)}g.set(v,f,x)}var C=o.BitMatrix.createEmpty(t,i),B=null;for(a&&(B=o.BitMatrix.createEmpty(t,i)),f=0;f<p;f++)for(v=0;v<h;v++){for(var N=n(v,2,h-3),S=n(f,2,p-3),E=(_=0,-2);E<=2;E++)for(var V=-2;V<=2;V++)_+=g.get(N+E,S+V);var T=_/25;for(E=0;E<8;E++)for(V=0;V<8;V++){l=8*v+E,c=8*f+V;var I=r.get(l,c);C.set(l,c,I<=T),a&&B.set(l,c,!(I<=T))}}return a?{binarized:C,inverted:B}:{binarized:C}}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var o=i(0),n=i(6),s=i(9),a=i(10);function r(e,t){for(var i=e^t,o=0;i;)o++,i&=i-1;return o}function l(e,t){return t<<1|e}var c=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],d=[function(e){return(e.y+e.x)%2==0},function(e){return e.y%2==0},function(e){return e.x%3==0},function(e){return(e.y+e.x)%3==0},function(e){return(Math.floor(e.y/2)+Math.floor(e.x/3))%2==0},function(e){return e.x*e.y%2+e.x*e.y%3==0},function(e){return(e.y*e.x%2+e.y*e.x%3)%2==0},function(e){return((e.y+e.x)%2+e.y*e.x%3)%2==0}];function u(e,t,i){for(var n=d[i.dataMask],s=e.height,a=function(e){var t=17+4*e.versionNumber,i=o.BitMatrix.createEmpty(t,t);i.setRegion(0,0,9,9,!0),i.setRegion(t-8,0,8,9,!0),i.setRegion(0,t-8,9,8,!0);for(var n=0,s=e.alignmentPatternCenters;n<s.length;n++)for(var a=s[n],r=0,l=e.alignmentPatternCenters;r<l.length;r++){var c=l[r];6===a&&6===c||6===a&&c===t-7||a===t-7&&6===c||i.setRegion(a-2,c-2,5,5,!0)}return i.setRegion(6,9,1,t-17,!0),i.setRegion(9,6,t-17,1,!0),e.versionNumber>6&&(i.setRegion(t-11,0,3,6,!0),i.setRegion(0,t-11,6,3,!0)),i}(t),r=[],c=0,u=0,m=!0,h=s-1;h>0;h-=2){6===h&&h--;for(var p=0;p<s;p++)for(var g=m?s-1-p:p,f=0;f<2;f++){var v=h-f;if(!a.get(v,g)){u++;var _=e.get(v,g);n({y:g,x:v})&&(_=!_),c=l(_,c),8===u&&(r.push(c),u=0,c=0)}}m=!m}return r}function m(e){var t=function(e){var t=e.height,i=Math.floor((t-17)/4);if(i<=6)return a.VERSIONS[i-1];for(var o=0,n=5;n>=0;n--)for(var s=t-9;s>=t-11;s--)o=l(e.get(s,n),o);var c=0;for(s=5;s>=0;s--)for(n=t-9;n>=t-11;n--)c=l(e.get(s,n),c);for(var d,u=1/0,m=0,h=a.VERSIONS;m<h.length;m++){var p=h[m];if(p.infoBits===o||p.infoBits===c)return p;var g=r(o,p.infoBits);g<u&&(d=p,u=g),(g=r(c,p.infoBits))<u&&(d=p,u=g)}return u<=3?d:void 0}(e);if(!t)return null;var i=function(e){for(var t=0,i=0;i<=8;i++)6!==i&&(t=l(e.get(i,8),t));for(var o=7;o>=0;o--)6!==o&&(t=l(e.get(8,o),t));var n=e.height,s=0;for(o=n-1;o>=n-7;o--)s=l(e.get(8,o),s);for(i=n-8;i<n;i++)s=l(e.get(i,8),s);for(var a=1/0,d=null,u=0,m=c;u<m.length;u++){var h=m[u],p=h.bits,g=h.formatInfo;if(p===t||p===s)return g;var f=r(t,p);f<a&&(d=g,a=f),t!==s&&(f=r(s,p))<a&&(d=g,a=f)}return a<=3?d:null}(e);if(!i)return null;var o=function(e,t,i){var o=t.errorCorrectionLevels[i],n=[],s=0;if(o.ecBlocks.forEach((function(e){for(var t=0;t<e.numBlocks;t++)n.push({numDataCodewords:e.dataCodewordsPerBlock,codewords:[]}),s+=e.dataCodewordsPerBlock+o.ecCodewordsPerBlock})),e.length<s)return null;e=e.slice(0,s);for(var a=o.ecBlocks[0].dataCodewordsPerBlock,r=0;r<a;r++)for(var l=0,c=n;l<c.length;l++)c[l].codewords.push(e.shift());if(o.ecBlocks.length>1){var d=o.ecBlocks[0].numBlocks,u=o.ecBlocks[1].numBlocks;for(r=0;r<u;r++)n[d+r].codewords.push(e.shift())}for(;e.length>0;)for(var m=0,h=n;m<h.length;m++)h[m].codewords.push(e.shift());return n}(u(e,t,i),t,i.errorCorrectionLevel);if(!o)return null;for(var d=o.reduce((function(e,t){return e+t.numDataCodewords}),0),m=new Uint8ClampedArray(d),h=0,p=0,g=o;p<g.length;p++){var f=g[p],v=s.decode(f.codewords,f.codewords.length-f.numDataCodewords);if(!v)return null;for(var _=0;_<f.numDataCodewords;_++)m[h++]=v[_]}try{return n.decode(m,t.versionNumber)}catch(y){return null}}t.decode=function(e){if(null==e)return null;var t=m(e);if(t)return t;for(var i=0;i<e.width;i++)for(var o=i+1;o<e.height;o++)e.get(i,o)!==e.get(o,i)&&(e.set(i,o,!e.get(i,o)),e.set(o,i,!e.get(o,i)));return m(e)}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var o,n,s,a,r=i(7),l=i(8);function c(e,t){for(var i=[],o="",n=[10,12,14][t],s=e.readBits(n);s>=3;){if((c=e.readBits(10))>=1e3)throw new Error("Invalid numeric value above 999");var a=Math.floor(c/100),r=Math.floor(c/10)%10,l=c%10;i.push(48+a,48+r,48+l),o+=a.toString()+r.toString()+l.toString(),s-=3}if(2===s){if((c=e.readBits(7))>=100)throw new Error("Invalid numeric value above 99");a=Math.floor(c/10),r=c%10,i.push(48+a,48+r),o+=a.toString()+r.toString()}else if(1===s){var c;if((c=e.readBits(4))>=10)throw new Error("Invalid numeric value above 9");i.push(48+c),o+=c.toString()}return{bytes:i,text:o}}(n=o=t.Mode||(t.Mode={})).Numeric="numeric",n.Alphanumeric="alphanumeric",n.Byte="byte",n.Kanji="kanji",n.ECI="eci",(a=s||(s={}))[a.Terminator=0]="Terminator",a[a.Numeric=1]="Numeric",a[a.Alphanumeric=2]="Alphanumeric",a[a.Byte=4]="Byte",a[a.Kanji=8]="Kanji",a[a.ECI=7]="ECI";var d=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function u(e,t){for(var i=[],o="",n=[9,11,13][t],s=e.readBits(n);s>=2;){var a=e.readBits(11),r=Math.floor(a/45),l=a%45;i.push(d[r].charCodeAt(0),d[l].charCodeAt(0)),o+=d[r]+d[l],s-=2}return 1===s&&(r=e.readBits(6),i.push(d[r].charCodeAt(0)),o+=d[r]),{bytes:i,text:o}}function m(e,t){for(var i=[],o="",n=[8,16,16][t],s=e.readBits(n),a=0;a<s;a++){var r=e.readBits(8);i.push(r)}try{o+=decodeURIComponent(i.map((function(e){return"%"+("0"+e.toString(16)).substr(-2)})).join(""))}catch(l){}return{bytes:i,text:o}}function h(e,t){for(var i=[],o="",n=[8,10,12][t],s=e.readBits(n),a=0;a<s;a++){var r=e.readBits(13),c=Math.floor(r/192)<<8|r%192;c+=c<7936?33088:49472,i.push(c>>8,255&c),o+=String.fromCharCode(l.shiftJISTable[c])}return{bytes:i,text:o}}t.decode=function(e,t){for(var i,n,a,l,d=new r.BitStream(e),p=t<=9?0:t<=26?1:2,g={text:"",bytes:[],chunks:[],version:t};d.available()>=4;){var f=d.readBits(4);if(f===s.Terminator)return g;if(f===s.ECI)0===d.readBits(1)?g.chunks.push({type:o.ECI,assignmentNumber:d.readBits(7)}):0===d.readBits(1)?g.chunks.push({type:o.ECI,assignmentNumber:d.readBits(14)}):0===d.readBits(1)?g.chunks.push({type:o.ECI,assignmentNumber:d.readBits(21)}):g.chunks.push({type:o.ECI,assignmentNumber:-1});else if(f===s.Numeric){var v=c(d,p);g.text+=v.text,(i=g.bytes).push.apply(i,v.bytes),g.chunks.push({type:o.Numeric,text:v.text})}else if(f===s.Alphanumeric){var _=u(d,p);g.text+=_.text,(n=g.bytes).push.apply(n,_.bytes),g.chunks.push({type:o.Alphanumeric,text:_.text})}else if(f===s.Byte){var y=m(d,p);g.text+=y.text,(a=g.bytes).push.apply(a,y.bytes),g.chunks.push({type:o.Byte,bytes:y.bytes,text:y.text})}else if(f===s.Kanji){var w=h(d,p);g.text+=w.text,(l=g.bytes).push.apply(l,w.bytes),g.chunks.push({type:o.Kanji,bytes:w.bytes,text:w.text})}}if(0===d.available()||0===d.readBits(d.available()))return g}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){this.byteOffset=0,this.bitOffset=0,this.bytes=e}return e.prototype.readBits=function(e){if(e<1||e>32||e>this.available())throw new Error("Cannot read "+e.toString()+" bits");var t=0;if(this.bitOffset>0){var i=8-this.bitOffset,o=e<i?e:i,n=255>>8-o<<(s=i-o);t=(this.bytes[this.byteOffset]&n)>>s,e-=o,this.bitOffset+=o,8===this.bitOffset&&(this.bitOffset=0,this.byteOffset++)}if(e>0){for(;e>=8;)t=t<<8|255&this.bytes[this.byteOffset],this.byteOffset++,e-=8;var s;e>0&&(n=255>>(s=8-e)<<s,t=t<<e|(this.bytes[this.byteOffset]&n)>>s,this.bitOffset+=e)}return t},e.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},e}();t.BitStream=o},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var o=i(1),n=i(2);t.decode=function(e,t){var i=new Uint8ClampedArray(e.length);i.set(e);for(var s=new o.default(285,256,0),a=new n.default(s,i),r=new Uint8ClampedArray(t),l=!1,c=0;c<t;c++){var d=a.evaluateAt(s.exp(c+s.generatorBase));r[r.length-1-c]=d,0!==d&&(l=!0)}if(!l)return i;var u=new n.default(s,r),m=function(e,t,i,o){var n;t.degree()<i.degree()&&(t=(n=[i,t])[0],i=n[1]);for(var s=t,a=i,r=e.zero,l=e.one;a.degree()>=o/2;){var c=s,d=r;if(r=l,(s=a).isZero())return null;a=c;for(var u=e.zero,m=s.getCoefficient(s.degree()),h=e.inverse(m);a.degree()>=s.degree()&&!a.isZero();){var p=a.degree()-s.degree(),g=e.multiply(a.getCoefficient(a.degree()),h);u=u.addOrSubtract(e.buildMonomial(p,g)),a=a.addOrSubtract(s.multiplyByMonomial(p,g))}if(l=u.multiplyPoly(r).addOrSubtract(d),a.degree()>=s.degree())return null}var f=l.getCoefficient(0);if(0===f)return null;var v=e.inverse(f);return[l.multiply(v),a.multiply(v)]}(s,s.buildMonomial(t,1),u,t);if(null===m)return null;var h=function(e,t){var i=t.degree();if(1===i)return[t.getCoefficient(1)];for(var o=new Array(i),n=0,s=1;s<e.size&&n<i;s++)0===t.evaluateAt(s)&&(o[n]=e.inverse(s),n++);return n!==i?null:o}(s,m[0]);if(null==h)return null;for(var p=function(e,t,i){for(var n=i.length,s=new Array(n),a=0;a<n;a++){for(var r=e.inverse(i[a]),l=1,c=0;c<n;c++)a!==c&&(l=e.multiply(l,o.addOrSubtractGF(1,e.multiply(i[c],r))));s[a]=e.multiply(t.evaluateAt(r),e.inverse(l)),0!==e.generatorBase&&(s[a]=e.multiply(s[a],r))}return s}(s,m[1],h),g=0;g<h.length;g++){var f=i.length-1-s.log(h[g]);if(f<0)return null;i[f]=o.addOrSubtractGF(i[f],p[g])}return i}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0}),t.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var o=i(0);function n(e,t,i,o){var n=e.x-t.x+i.x-o.x,s=e.y-t.y+i.y-o.y;if(0===n&&0===s)return{a11:t.x-e.x,a12:t.y-e.y,a13:0,a21:i.x-t.x,a22:i.y-t.y,a23:0,a31:e.x,a32:e.y,a33:1};var a=t.x-i.x,r=o.x-i.x,l=t.y-i.y,c=o.y-i.y,d=a*c-r*l,u=(n*c-r*s)/d,m=(a*s-n*l)/d;return{a11:t.x-e.x+u*t.x,a12:t.y-e.y+u*t.y,a13:u,a21:o.x-e.x+m*o.x,a22:o.y-e.y+m*o.y,a23:m,a31:e.x,a32:e.y,a33:1}}t.extract=function(e,t){for(var i,s,a=function(e,t,i,o){var s=n(e,t,i,o);return{a11:s.a22*s.a33-s.a23*s.a32,a12:s.a13*s.a32-s.a12*s.a33,a13:s.a12*s.a23-s.a13*s.a22,a21:s.a23*s.a31-s.a21*s.a33,a22:s.a11*s.a33-s.a13*s.a31,a23:s.a13*s.a21-s.a11*s.a23,a31:s.a21*s.a32-s.a22*s.a31,a32:s.a12*s.a31-s.a11*s.a32,a33:s.a11*s.a22-s.a12*s.a21}}({x:3.5,y:3.5},{x:t.dimension-3.5,y:3.5},{x:t.dimension-6.5,y:t.dimension-6.5},{x:3.5,y:t.dimension-3.5}),r=n(t.topLeft,t.topRight,t.alignmentPattern,t.bottomLeft),l=(s=a,{a11:(i=r).a11*s.a11+i.a21*s.a12+i.a31*s.a13,a12:i.a12*s.a11+i.a22*s.a12+i.a32*s.a13,a13:i.a13*s.a11+i.a23*s.a12+i.a33*s.a13,a21:i.a11*s.a21+i.a21*s.a22+i.a31*s.a23,a22:i.a12*s.a21+i.a22*s.a22+i.a32*s.a23,a23:i.a13*s.a21+i.a23*s.a22+i.a33*s.a23,a31:i.a11*s.a31+i.a21*s.a32+i.a31*s.a33,a32:i.a12*s.a31+i.a22*s.a32+i.a32*s.a33,a33:i.a13*s.a31+i.a23*s.a32+i.a33*s.a33}),c=o.BitMatrix.createEmpty(t.dimension,t.dimension),d=function(e,t){var i=l.a13*e+l.a23*t+l.a33;return{x:(l.a11*e+l.a21*t+l.a31)/i,y:(l.a12*e+l.a22*t+l.a32)/i}},u=0;u<t.dimension;u++)for(var m=0;m<t.dimension;m++){var h=d(m+.5,u+.5);c.set(m,u,e.get(Math.floor(h.x),Math.floor(h.y)))}return{matrix:c,mappingFunction:d}}},function(e,t,i){Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))};function n(e){return e.reduce((function(e,t){return e+t}))}function s(e,t,i,n){var s,a,r,l,c=[{x:Math.floor(e.x),y:Math.floor(e.y)}],d=Math.abs(t.y-e.y)>Math.abs(t.x-e.x);d?(s=Math.floor(e.y),a=Math.floor(e.x),r=Math.floor(t.y),l=Math.floor(t.x)):(s=Math.floor(e.x),a=Math.floor(e.y),r=Math.floor(t.x),l=Math.floor(t.y));for(var u=Math.abs(r-s),m=Math.abs(l-a),h=Math.floor(-u/2),p=s<r?1:-1,g=a<l?1:-1,f=!0,v=s,_=a;v!==r+p;v+=p){var y=d?_:v,w=d?v:_;if(i.get(y,w)!==f&&(f=!f,c.push({x:y,y:w}),c.length===n+1))break;if((h+=m)>0){if(_===l)break;_+=g,h-=u}}for(var k=[],x=0;x<n;x++)c[x]&&c[x+1]?k.push(o(c[x],c[x+1])):k.push(0);return k}function a(e,t,i,o){var n,a=t.y-e.y,r=t.x-e.x,l=s(e,t,i,Math.ceil(o/2)),c=s(e,{x:e.x-r,y:e.y-a},i,Math.ceil(o/2)),d=l.shift()+c.shift()-1;return(n=c.concat(d)).concat.apply(n,l)}function r(e,t){var i=n(e)/n(t),o=0;return t.forEach((function(t,n){o+=Math.pow(e[n]-t*i,2)})),{averageSize:i,error:o}}function l(e,t,i){try{var o=a(e,{x:-1,y:e.y},i,t.length),n=a(e,{x:e.x,y:-1},i,t.length),s=a(e,{x:Math.max(0,e.x-e.y)-1,y:Math.max(0,e.y-e.x)-1},i,t.length),l=a(e,{x:Math.min(i.width,e.x+e.y)+1,y:Math.min(i.height,e.y+e.x)+1},i,t.length),c=r(o,t),d=r(n,t),u=r(s,t),m=r(l,t),h=Math.sqrt(c.error*c.error+d.error*d.error+u.error*u.error+m.error*m.error),p=(c.averageSize+d.averageSize+u.averageSize+m.averageSize)/4;return h+(Math.pow(c.averageSize-p,2)+Math.pow(d.averageSize-p,2)+Math.pow(u.averageSize-p,2)+Math.pow(m.averageSize-p,2))/p}catch(g){return 1/0}}function c(e,t){for(var i=Math.round(t.x);e.get(i,Math.round(t.y));)i--;for(var o=Math.round(t.x);e.get(o,Math.round(t.y));)o++;for(var n=(i+o)/2,s=Math.round(t.y);e.get(Math.round(n),s);)s--;for(var a=Math.round(t.y);e.get(Math.round(n),a);)a++;return{x:n,y:(s+a)/2}}function d(e,t,i,s,r){var c,d,u;try{c=function(e,t,i,s){var r=(n(a(e,i,s,5))/7+n(a(e,t,s,5))/7+n(a(i,e,s,5))/7+n(a(t,e,s,5))/7)/4;if(r<1)throw new Error("Invalid module size");var l=Math.round(o(e,t)/r),c=Math.round(o(e,i)/r),d=Math.floor((l+c)/2)+7;switch(d%4){case 0:d++;break;case 2:d--}return{dimension:d,moduleSize:r}}(s,i,r,e),d=c.dimension,u=c.moduleSize}catch(ln){return null}var m=i.x-s.x+r.x,h=i.y-s.y+r.y,p=(o(s,r)+o(s,i))/2/u,g=1-3/p,f={x:s.x+g*(m-s.x),y:s.y+g*(h-s.y)},v=t.map((function(t){var i=(t.top.startX+t.top.endX+t.bottom.startX+t.bottom.endX)/4,s=(t.top.y+t.bottom.y+1)/2;if(e.get(Math.floor(i),Math.floor(s))){var a=[t.top.endX-t.top.startX,t.bottom.endX-t.bottom.startX,t.bottom.y-t.top.y+1];return n(a),{x:i,y:s,score:l({x:Math.floor(i),y:Math.floor(s)},[1,1,1],e)+o({x:i,y:s},f)}}})).filter((function(e){return!!e})).sort((function(e,t){return e.score-t.score}));return{alignmentPattern:p>=15&&v.length?v[0]:f,dimension:d}}t.locate=function(e){for(var t=[],i=[],s=[],a=[],r=function(o){for(var r=0,l=!1,c=[0,0,0,0,0],d=function(t){var s=e.get(t,o);if(s===l)r++;else{c=[c[1],c[2],c[3],c[4],r],r=1,l=s;var d=n(c)/7,u=Math.abs(c[0]-d)<d&&Math.abs(c[1]-d)<d&&Math.abs(c[2]-3*d)<3*d&&Math.abs(c[3]-d)<d&&Math.abs(c[4]-d)<d&&!s,m=n(c.slice(-3))/3,h=Math.abs(c[2]-m)<m&&Math.abs(c[3]-m)<m&&Math.abs(c[4]-m)<m&&s;if(u){var p=t-c[3]-c[4],g=p-c[2],f={startX:g,endX:p,y:o};(v=i.filter((function(e){return g>=e.bottom.startX&&g<=e.bottom.endX||p>=e.bottom.startX&&g<=e.bottom.endX||g<=e.bottom.startX&&p>=e.bottom.endX&&c[2]/(e.bottom.endX-e.bottom.startX)<1.5&&c[2]/(e.bottom.endX-e.bottom.startX)>.5}))).length>0?v[0].bottom=f:i.push({top:f,bottom:f})}if(h){var v,_=t-c[4],y=_-c[3];f={startX:y,y:o,endX:_},(v=a.filter((function(e){return y>=e.bottom.startX&&y<=e.bottom.endX||_>=e.bottom.startX&&y<=e.bottom.endX||y<=e.bottom.startX&&_>=e.bottom.endX&&c[2]/(e.bottom.endX-e.bottom.startX)<1.5&&c[2]/(e.bottom.endX-e.bottom.startX)>.5}))).length>0?v[0].bottom=f:a.push({top:f,bottom:f})}}},u=-1;u<=e.width;u++)d(u);t.push.apply(t,i.filter((function(e){return e.bottom.y!==o&&e.bottom.y-e.top.y>=2}))),i=i.filter((function(e){return e.bottom.y===o})),s.push.apply(s,a.filter((function(e){return e.bottom.y!==o}))),a=a.filter((function(e){return e.bottom.y===o}))},u=0;u<=e.height;u++)r(u);t.push.apply(t,i.filter((function(e){return e.bottom.y-e.top.y>=2}))),s.push.apply(s,a);var m=t.filter((function(e){return e.bottom.y-e.top.y>=2})).map((function(t){var i=(t.top.startX+t.top.endX+t.bottom.startX+t.bottom.endX)/4,o=(t.top.y+t.bottom.y+1)/2;if(e.get(Math.round(i),Math.round(o))){var s=[t.top.endX-t.top.startX,t.bottom.endX-t.bottom.startX,t.bottom.y-t.top.y+1],a=n(s)/s.length;return{score:l({x:Math.round(i),y:Math.round(o)},[1,1,3,1,1],e),x:i,y:o,size:a}}})).filter((function(e){return!!e})).sort((function(e,t){return e.score-t.score})).map((function(e,t,i){if(t>4)return null;var o=i.filter((function(e,i){return t!==i})).map((function(t){return{x:t.x,y:t.y,score:t.score+Math.pow(t.size-e.size,2)/e.size,size:t.size}})).sort((function(e,t){return e.score-t.score}));if(o.length<2)return null;var n=e.score+o[0].score+o[1].score;return{points:[e].concat(o.slice(0,2)),score:n}})).filter((function(e){return!!e})).sort((function(e,t){return e.score-t.score}));if(0===m.length)return null;var h=function(e,t,i){var n,s,a,r,l,c,d,u=o(e,t),m=o(t,i),h=o(e,i);return m>=u&&m>=h?(l=(n=[t,e,i])[0],c=n[1],d=n[2]):h>=m&&h>=u?(l=(s=[e,t,i])[0],c=s[1],d=s[2]):(l=(a=[e,i,t])[0],c=a[1],d=a[2]),(d.x-c.x)*(l.y-c.y)-(d.y-c.y)*(l.x-c.x)<0&&(l=(r=[d,l])[0],d=r[1]),{bottomLeft:l,topLeft:c,topRight:d}}(m[0].points[0],m[0].points[1],m[0].points[2]),p=h.topRight,g=h.topLeft,f=h.bottomLeft,v=d(e,s,p,g,f),_=[];v&&_.push({alignmentPattern:{x:v.alignmentPattern.x,y:v.alignmentPattern.y},bottomLeft:{x:f.x,y:f.y},dimension:v.dimension,topLeft:{x:g.x,y:g.y},topRight:{x:p.x,y:p.y}});var y=c(e,p),w=c(e,g),k=c(e,f),x=d(e,s,y,w,k);return x&&_.push({alignmentPattern:{x:x.alignmentPattern.x,y:x.alignmentPattern.y},bottomLeft:{x:k.x,y:k.y},topLeft:{x:w.x,y:w.y},topRight:{x:y.x,y:y.y},dimension:x.dimension}),0===_.length?null:_}}]).default},{get exports(){return Br},set exports(e){Br=e}}.exports=Cr();const Nr=br(Br);const Sr=o({components:{getQrcode:o({props:{continue:{type:Boolean,default:!1},exact:{type:String,default:"environment"},size:{type:String,default:"whole"},definition:{type:Boolean,default:!1}},data:()=>({windowWidth:0,windowHeight:0,video:null,canvas2d:null,canvas2d2:null,canvasWidth:200,canvasHeight:200,maskWidth:0,maskHeight:0,inter:0,track:null,isUseTorch:!1,trackStatus:!1,isParse:!1,isUse:!0}),mounted(){if(-1===origin.indexOf("https"))throw"请在 https 环境中使用摄像头组件。";this.windowWidth=document.documentElement.clientWidth||document.body.clientWidth,this.windowHeight=document.documentElement.clientHeight||document.body.clientHeight,this.windowHeight="whole"===this.size?this.windowHeight:this.windowHeight/2,this.isParse=!0,this.$nextTick((()=>{this.createMsk(),this.openScan()}))},destroyed(){this.closeCamera()},methods:{openScan(){const e=this.transtion(this.windowHeight),t=this.transtion(this.windowWidth),i={audio:!1,video:{facingMode:{exact:this.exact},width:e,height:t}};navigator.mediaDevices.getUserMedia(i).then((e=>{this.video=document.createElement("video"),this.video.width=this.windowWidth,this.video.height=this.windowHeight;const t=document.createElement("canvas");t.id="canvas",t.width=this.transtion(this.canvasWidth),t.height=this.transtion(this.canvasHeight),t.style="display:none;",this.canvas2d=t.getContext("2d");const i=document.querySelector(".canvasBox");i.append(this.video),i.append(t),i.style=`width:${this.windowWidth}px;height:${this.windowHeight}px;`;const o=document.createElement("canvas");o.id="canvas2",o.width=this.canvasWidth,o.height=this.canvasHeight,o.style="position: absolute;top: 50%;left: 50%;z-index: 20;transform: translate(-50%, -50%);",this.canvas2d2=o.getContext("2d"),i.append(o),this.video.srcObject=e,this.video.setAttribute("playsinline",!0),this.video.play(),this.tick(),this.track=e.getVideoTracks()[0],setTimeout((()=>{this.isUseTorch=this.track.getCapabilities().torch||null}),500)})).catch((e=>{this.isUse=!1,this.$emit("error",e)}))},closeCamera(){this.isParse=!1,this.video&&this.video.srcObject&&this.video.srcObject.getTracks().forEach((e=>{e.stop()}))},tick(){if(this.isParse){if(this.video.readyState===this.video.HAVE_ENOUGH_DATA){this.canvas2d.drawImage(this.video,this.transtion(this.maskWidth),this.transtion(this.maskHeight),this.transtion(200),this.transtion(200),0,0,this.transtion(this.canvasWidth),this.transtion(this.canvasHeight));const e=this.canvas2d.getImageData(0,0,this.transtion(this.canvasWidth),this.transtion(this.canvasHeight)),t=Nr(e.data,e.width,e.height,{inversionAttempts:"dontInvert"});this.canvas2d2.clearRect(0,0,this.canvasWidth,this.canvasHeight),t&&(this.drawLine(t.location.topLeftCorner,t.location.topRightCorner),this.drawLine(t.location.topRightCorner,t.location.bottomRightCorner),this.drawLine(t.location.bottomRightCorner,t.location.bottomLeftCorner),this.drawLine(t.location.bottomLeftCorner,t.location.topLeftCorner),t.data&&this.getData(t.data))}requestAnimationFrame(this.tick)}},drawLine(e,t,i="#FF3B58"){this.canvas2d2.beginPath(),this.canvas2d2.moveTo(this.nutranstion(e.x),this.nutranstion(e.y)),this.canvas2d2.lineTo(this.nutranstion(t.x),this.nutranstion(t.y)),this.canvas2d2.lineWidth=4,this.canvas2d2.strokeStyle=i,this.canvas2d2.stroke()},getData(e){this.$emit("success",e),this.continue||this.closeCamera()},openTrack(){this.trackStatus=!this.trackStatus,this.track.applyConstraints({advanced:[{torch:this.trackStatus}]})},createMsk(){this.maskWidth=this.windowWidth/2-this.canvasWidth/2,this.maskHeight=this.windowHeight/2-this.canvasHeight/2},transtion(e){return this.definition?2.8*e:1.8*e},nutranstion(e){return this.definition?e/2.8:e/1.8}}},[["render",function(t,i,o,n,s,a){return e.openBlock(),e.createElementBlock("view",{class:"canvasBox"},[s.isUse?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("view",{class:"box"},[e.createElementVNode("view",{class:"line"}),e.createElementVNode("view",{class:"angle"})]),s.isUseTorch?(e.openBlock(),e.createElementBlock("view",{key:0,class:"box2"},[e.createElementVNode("view",{class:"track",onClick:i[0]||(i[0]=(...e)=>a.openTrack&&a.openTrack(...e))},[(e.openBlock(),e.createElementBlock("svg",{t:"1653920715959",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1351",width:"32",height:"32"},[e.createElementVNode("path",{d:"M651.353043 550.479503H378.752795L240.862609 364.315031c-3.688944-4.897391-5.660621-10.876025-5.660621-17.045466v-60.040745c0-15.773416 12.847702-28.621118 28.621118-28.621118h502.459627c15.773416 0 28.621118 12.847702 28.621118 28.621118v59.977143c0 6.105839-1.971677 12.084472-5.660621 17.045466l-137.890187 186.228074zM378.752795 598.308571v398.024348c0 15.328199 12.402484 27.667081 27.667081 27.667081h217.266087c15.328199 0 27.667081-12.402484 27.66708-27.667081V598.308571H378.752795z m136.300124 176.942112c-14.564969 0-26.331429-11.76646-26.331428-26.331428v-81.283975c0-14.564969 11.76646-26.331429 26.331428-26.331429 14.564969 0 26.331429 11.76646 26.331429 26.331429v81.283975c0 14.564969-11.76646 26.331429-26.331429 26.331428zM512 222.608696c-17.554286 0-31.801242-14.246957-31.801242-31.801243V31.801242c0-17.554286 14.246957-31.801242 31.801242-31.801242s31.801242 14.246957 31.801242 31.801242v159.006211c0 17.554286-14.246957 31.801242-31.801242 31.801243zM280.932174 205.881242c-9.47677 0-18.889938-4.197764-25.122981-12.275279L158.242981 67.991056a31.864845 31.864845 0 0 1 5.597019-44.648944 31.864845 31.864845 0 0 1 44.648944 5.597018l97.502609 125.551305a31.864845 31.864845 0 0 1-5.597019 44.648944c-5.787826 4.579379-12.656894 6.741863-19.46236 6.741863zM723.987081 205.881242c-6.805466 0-13.674534-2.162484-19.462361-6.678261a31.794882 31.794882 0 0 1-5.597018-44.648944l97.566211-125.551304a31.794882 31.794882 0 0 1 44.648944-5.597019 31.794882 31.794882 0 0 1 5.597019 44.648944l-97.566211 125.551305c-6.360248 8.077516-15.709814 12.27528-25.186584 12.275279z",fill:"#ffffff","p-id":"1352"})])),e.createTextVNode(" "+e.toDisplayString(s.trackStatus?"关闭闪光灯":"打开闪光灯"),1)])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"mask1 mask",style:e.normalizeStyle("height:"+s.maskHeight+"px;")},null,4),e.createElementVNode("view",{class:"mask2 mask",style:e.normalizeStyle("width:"+s.maskWidth+"px;top:"+s.maskHeight+"px;height:"+s.canvasHeight+"px")},null,4),e.createElementVNode("view",{class:"mask3 mask",style:e.normalizeStyle("height:"+s.maskHeight+"px;")},null,4),e.createElementVNode("view",{class:"mask4 mask",style:e.normalizeStyle("width:"+s.maskWidth+"px;top:"+s.maskHeight+"px;height:"+s.canvasHeight+"px")},null,4)],64)):e.renderSlot(t.$slots,"error",{key:1},(()=>[e.createElementVNode("view",{class:"error"},[e.createElementVNode("view",{class:"on1"},"相机权限被拒绝，请尝试如下操作："),e.createElementVNode("view",null,"· 刷新页面后重试；"),e.createElementVNode("view",null,"· 在系统中检测当前App或浏览器的相机权限是否被禁用；"),e.createElementVNode("view",null,"· 如果依然不能体验，建议在微信中打开链接；")])]),!0)])}],["__scopeId","data-v-23d9cf3c"]])},methods:{qrcodeSucess(e){Le.checkQr(e),uni.navigateBack({})},qrcodeError(e){_("log","at pages/index/scan.vue:20",e),uni.showModal({title:"摄像头授权失败",content:"摄像头授权失败，请检测当前浏览器是否有摄像头权限。",success:()=>{uni.navigateBack()}})}}},[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("get-qrcode");return e.openBlock(),e.createBlock(r,{onSuccess:a.qrcodeSucess,onError:a.qrcodeError},null,8,["onSuccess","onError"])}]]);const Er=o({data:()=>({html:""}),onLoad:function(e){this.html=e.src}},[["render",function(t,i,o,n,s,a){return e.openBlock(),e.createElementBlock("view",{class:""},[e.createElementVNode("web-view",{src:s.html},null,8,["src"])])}]]),Vr=50,Tr={name:"yq-avatar",data:()=>({csH:"0px",sD:"none",sT:"-10000px",pT:"-10000px",iS:{},sS:{},sO:!0,bW:"19%",bD:"flex",tp:0,imgSrc:{imgSrc:""}}),watch:{avatarSrc(){this.imgSrc.imgSrc=this.avatarSrc}},computed:{inlineH(){return this.inlineTools}},props:{avatarSrc:"",avatarStyle:"",selWidth:"",selHeight:"",expWidth:"",expHeight:"",minScale:"",maxScale:"",canScale:"",canRotate:"",lockWidth:"",lockHeight:"",stretch:"",lock:"",fileType:"",noTab:"",inner:"",quality:"",index:"",bgImage:""},created(){this.cc=uni.createCanvasContext("avatar-canvas",this),this.cco=uni.createCanvasContext("oper-canvas",this),this.ccp=uni.createCanvasContext("prv-canvas",this),this.qlty=parseFloat(this.quality)||1,this.imgSrc.imgSrc=this.avatarSrc,this.letRotate=!1===this.canRotate||!0===this.inner||"true"===this.inner||"false"===this.canRotate?0:1,this.letScale=!1===this.canScale||"false"===this.canScale?0:1,this.isin=!0===this.inner||"true"===this.inner?1:0,this.indx=this.index||void 0,this.mnScale=parseFloat(this.minScale)||.3,this.mxScale=parseFloat(this.maxScale)||4,this.noBar=!0===this.noTab||"true"===this.noTab?1:0,this.stc=this.stretch,this.lck=this.lock,this.fType="jpg"===this.fileType?"jpg":"png",this.isin||!this.letRotate?(this.bW="24%",this.bD="none"):(this.bW="19%",this.bD="flex"),this.noBar?this.fWindowResize():uni.showTabBar({fail:()=>{this.noBar=1},success:()=>{this.noBar=0},complete:e=>{this.fWindowResize()}})},methods:{fWindowResize(){let e=uni.getSystemInfoSync();this.platform=e.platform,this.wW=e.windowWidth,this.drawTop=0,this.wH=e.windowHeight,this.noBar||(this.wH+=Vr),this.csH=this.wH-Vr-this.inlineH+"px",this.tp=this.csH,this.pxRatio=this.wW/750;let t=this.avatarStyle;if(t&&!0!==t&&(t=t.trim())){t=t.split(";");let e={};for(let i of t)if(i){if(i=i.trim().split(":"),i[1].toString().indexOf("upx")>=0){let e=i[1].trim().split(" ");for(let t in e)e[t]&&e[t].toString().indexOf("upx")>=0&&(e[t]=parseFloat(e[t])*this.pxRatio+"px");i[1]=e.join(" ")}e[i[0].trim()]=i[1].trim()}this.iS=e}this.expWidth&&(this.eW=this.expWidth.toString().indexOf("upx")>=0?parseInt(this.expWidth)*this.pxRatio:parseInt(this.expWidth)),this.expHeight&&(this.eH=this.expHeight.toString().indexOf("upx")>=0?parseInt(this.expHeight)*this.pxRatio:parseInt(this.expHeight)),"flex"===this.sD&&this.fDrawInit(!0),this.fHideImg()},fSelect(){this.fSelecting||(this.fSelecting=!0,setTimeout((()=>{this.fSelecting=!1}),500),uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:e=>{uni.showLoading({title:"加载中...",mask:!0});let t=this.imgPath=e.tempFilePaths[0];uni.getImageInfo({src:t,success:e=>{if(this.imgWidth=e.width,this.imgHeight=e.height,this.path=t,!this.hasSel){let e=this.sS||{};if(!this.selWidth||!this.selHeight)return void uni.showModal({title:"裁剪框的宽或高没有设置",showCancel:!1});{let t=this.selWidth.toString().indexOf("upx")>=0?parseInt(this.selWidth)*this.pxRatio:parseInt(this.selWidth),i=this.selHeight.toString().indexOf("upx")>=0?parseInt(this.selHeight)*this.pxRatio:parseInt(this.selHeight);e.width=t+"px",e.height=i+"px",e.top=(this.wH-i-Vr|0)/2+"px",e.left=(this.wW-t|0)/2+"px"}this.sS=e}this.noBar?this.fDrawInit(!0):uni.hideTabBar({complete:()=>{this.fDrawInit(!0)}})},fail:()=>{uni.showToast({title:"请选择正确图片",duration:2e3})},complete(){uni.hideLoading()}})}}))},fUpload(){if(this.fUploading)return;this.fUploading=!0,setTimeout((()=>{this.fUploading=!1}),1e3);let e=this.sS,t=parseInt(e.left),i=parseInt(e.top),o=parseInt(e.width),n=parseInt(e.height),s=this.eW||o*this.pixelRatio,a=this.eH||n*this.pixelRatio;uni.showLoading({title:"加载中...",mask:!0}),this.sD="none",this.sT="-10000px",this.hasSel=!1,this.fHideImg(),uni.canvasToTempFilePath({x:t,y:i,width:o,height:n,destWidth:s,destHeight:a,canvasId:"avatar-canvas",fileType:this.fType,quality:this.qlty,success:e=>{e=e.tempFilePath,this.$emit("upload",{avatar:this.imgSrc,path:e,index:this.indx,data:this.rtn,base64:this.base64||null})},fail:e=>{uni.showToast({title:"error1",duration:2e3})},complete:()=>{uni.hideLoading(),this.noBar||uni.showTabBar(),this.$emit("end")}},this)},fPrvUpload(){if(this.fPrvUploading)return;this.fPrvUploading=!0,setTimeout((()=>{this.fPrvUploading=!1}),1e3);let e=this.sS;parseInt(e.width),parseInt(e.height);let t=this.prvX,i=this.prvY,o=this.prvWidth,n=this.prvHeight,s=this.eW||parseInt(e.width)*this.pixelRatio,a=this.eH||parseInt(e.height)*this.pixelRatio;uni.showLoading({title:"加载中...",mask:!0}),this.sD="none",this.sT="-10000px",this.hasSel=!1,this.fHideImg(),uni.canvasToTempFilePath({x:t,y:i,width:o,height:n,destWidth:s,destHeight:a,canvasId:"prv-canvas",fileType:this.fType,quality:this.qlty,success:e=>{e=e.tempFilePath,this.$emit("upload",{avatar:this.imgSrc,path:e,index:this.indx,data:this.rtn,base64:this.base64||null})},fail:()=>{uni.showToast({title:"error_prv",duration:2e3})},complete:()=>{uni.hideLoading(),this.noBar||uni.showTabBar(),this.$emit("end")}},this)},fDrawInit(e=!1){let t=this.wW,i=this.wH,o=this.imgWidth,n=this.imgHeight,s=o/n,a=t-40,r=i-Vr-80,l=a/r,c=parseInt(this.sS.width),d=parseInt(this.sS.height);switch(this.fixWidth=0,this.fixHeight=0,this.lckWidth=0,this.lckHeight=0,this.stc){case"x":this.fixWidth=1;break;case"y":this.fixHeight=1;break;case"long":s>1?this.fixWidth=1:this.fixHeight=1;break;case"short":s>1?this.fixHeight=1:this.fixWidth=1;break;case"longSel":c>d?this.fixWidth=1:this.fixHeight=1;break;case"shortSel":c>d?this.fixHeight=1:this.fixWidth=1}switch(this.lck){case"x":this.lckWidth=1;break;case"y":this.lckHeight=1;break;case"long":s>1?this.lckWidth=1:this.lckHeight=1;break;case"short":s>1?this.lckHeight=1:this.lckWidth=1;break;case"longSel":c>d?this.lckWidth=1:this.lckHeight=1;break;case"shortSel":c>d?this.lckHeight=1:this.lckWidth=1}this.fixWidth?(a=c,r=a/s):this.fixHeight?(r=d,a=r*s):s<l?n<r?(a=o,r=n):a=r*s:o<a?(a=o,r=n):r=a/s,this.isin&&(a<c&&(a=c,r=a/s,this.lckHeight=0),r<d&&(r=d,a=r*s,this.lckWidth=0)),this.scaleSize=1,this.rotateDeg=0,this.posWidth=(t-a)/2|0,this.posHeight=(i-r-Vr)/2|0,this.useWidth=0|a,this.useHeight=0|r,this.centerX=this.posWidth+a/2,this.centerY=this.posHeight+r/2,this.focusX=0,this.focusY=0;let u=this.sS,m=parseInt(u.left),h=parseInt(u.top),p=parseInt(u.width),g=parseInt(u.height);this.canvas,this.canvasOper,this.cc;let f=this.cco;f.beginPath(),f.setLineWidth(3),f.setGlobalAlpha(1),f.setStrokeStyle("white"),f.strokeRect(m,h,p,g),f.setFillStyle("black"),f.setGlobalAlpha(.5),f.fillRect(0,0,this.wW,h),f.fillRect(0,h,m,g),f.fillRect(0,h+g,this.wW,this.wH-g-h-Vr),f.fillRect(m+p,h,this.wW-p-m,g),f.setGlobalAlpha(1),f.setStrokeStyle("red"),f.moveTo(m+15,h),f.lineTo(m,h),f.lineTo(m,h+15),f.moveTo(m+p-15,h),f.lineTo(m+p,h),f.lineTo(m+p,h+15),f.moveTo(m+15,h+g),f.lineTo(m,h+g),f.lineTo(m,h+g-15),f.moveTo(m+p-15,h+g),f.lineTo(m+p,h+g),f.lineTo(m+p,h+g-15),f.stroke(),f.draw(!1,(()=>{e&&(this.sD="flex",this.sT=this.drawTop+"px",this.fDrawImage(!0))})),this.$emit("init")},fDrawImage(e=!1){let t=Date.now();if(t-this.drawTm<20)return;this.drawTm=t;let i=this.cc,o=this.useWidth*this.scaleSize,n=this.useHeight*this.scaleSize;if(this.bgImage?i.drawImage(this.bgImage,0,0,this.wW,this.wH-Vr):i.fillRect(0,0,this.wW,this.wH-Vr),this.isin){let e=this.focusX*(this.scaleSize-1),t=this.focusY*(this.scaleSize-1);i.translate(this.centerX,this.centerY),i.rotate(this.rotateDeg*Math.PI/180),i.drawImage(this.imgPath,this.posWidth-this.centerX-e,this.posHeight-this.centerY-t,o,n)}else i.translate(this.posWidth+o/2,this.posHeight+n/2),i.rotate(this.rotateDeg*Math.PI/180),i.drawImage(this.imgPath,-o/2,-n/2,o,n);i.draw(!1)},fPreview(){if(this.fPreviewing)return;this.fPreviewing=!0,setTimeout((()=>{this.fPreviewing=!1}),1e3);let e=this.sS,t=parseInt(e.left),i=parseInt(e.top),o=parseInt(e.width),n=parseInt(e.height);uni.showLoading({title:"加载中...",mask:!0}),uni.canvasToTempFilePath({x:t,y:i,width:o,height:n,expWidth:o*this.pixelRatio,expHeight:n*this.pixelRatio,canvasId:"avatar-canvas",fileType:this.fType,quality:this.qlty,success:e=>{this.prvImgTmp=e=e.tempFilePath;let t=this.ccp,i=this.wW,o=parseInt(this.csH);"android"===this.platform&&(o+=Vr);let n=parseInt(this.sS.width),s=parseInt(this.sS.height),a=i-40,r=o-80,l=a/n,c=s*l;c<r?(n=a,s=c):(l=r/s,n*=l,s=r),t.fillRect(0,0,i,o),this.prvX=i=(i-n)/2|0,this.prvY=o=(o-s)/2|0,this.prvWidth=n|=0,this.prvHeight=s|=0,t.drawImage(e,i,o,n,s),t.draw(!1),this.sO=!1,this.pT=this.drawTop+"px"},fail:()=>{uni.showToast({title:"error2",duration:2e3})},complete:()=>{uni.hideLoading()}},this)},fChooseImg(e,t,i){if(t){let e=t.selWidth,i=t.selHeight,o=t.expWidth,n=t.expHeight,s=t.quality,a=t.canRotate,r=t.canScale,l=t.minScale,c=t.maxScale,d=t.stretch,u=t.fileType,m=t.inner,h=t.lock;o&&(this.eW=o.toString().indexOf("upx")>=0?parseInt(o)*this.pxRatio:parseInt(o)),n&&(this.eH=n.toString().indexOf("upx")>=0?parseInt(n)*this.pxRatio:parseInt(n)),this.letRotate=!1===a||!0===m||"true"===m||"false"===a?0:1,this.letScale=!1===r||"false"===r?0:1,this.qlty=parseFloat(s)||1,this.mnScale=parseFloat(l)||.3,this.mxScale=parseFloat(c)||4,this.stc=d,this.isin=!0===m||"true"===m?1:0,this.fType="jpg"===u?"jpg":"png",this.lck=h,this.isin||!this.letRotate?(this.bW="24%",this.bD="none"):(this.bW="19%",this.bD="flex"),e&&i&&(e=e.toString().indexOf("upx")>=0?parseInt(e)*this.pxRatio:parseInt(e),i=i.toString().indexOf("upx")>=0?parseInt(i)*this.pxRatio:parseInt(i),this.sS.width=e+"px",this.sS.height=i+"px",this.sS.top=(this.wH-i-Vr|0)/2+"px",this.sS.left=(this.wW-e|0)/2+"px",this.hasSel=!0)}this.rtn=i,this.indx=e,this.fSelect()},fRotate(){this.rotateDeg+=90-this.rotateDeg%90,this.fDrawImage()},fStart(e){let t=e.touches,i=t[0],o=t[1];if(this.touch0=i,this.touch1=o,o){let e=o.x-i.x,t=o.y-i.y;this.fgDistance=Math.sqrt(e*e+t*t)}},fMove(e){let t=e.touches,i=t[0],o=t[1];if(o){let e=o.x-i.x,t=o.y-i.y,n=Math.sqrt(e*e+t*t),s=.005*(n-this.fgDistance),a=this.scaleSize+s;do{if(!this.letScale)break;if(a<this.mnScale)break;if(a>this.mxScale)break;let e=this.useWidth*s/2,t=this.useHeight*s/2;if(this.isin){let i=this.useWidth*a,o=this.useHeight*a;this.posWidth,this.posHeight;let n,s,r=parseInt(this.sS.left),l=parseInt(this.sS.top),c=parseInt(this.sS.width),d=parseInt(this.sS.height),u=r+c,m=l+d;if(i<=c||o<=d)break;this.cx=n=this.focusX*a-this.focusX,this.cy=s=this.focusY*a-this.focusY,this.posWidth-=e,this.posHeight-=t,this.posWidth-n>r&&(this.posWidth=r+n),this.posWidth+i-n<u&&(this.posWidth=u-i+n),this.posHeight-s>l&&(this.posHeight=l+s),this.posHeight+o-s<m&&(this.posHeight=m-o+s)}else this.posWidth-=e,this.posHeight-=t;this.scaleSize=a}while(0);this.fgDistance=n,o.x!==i.x&&this.letRotate&&(e=(this.touch1.y-this.touch0.y)/(this.touch1.x-this.touch0.x),t=(o.y-i.y)/(o.x-i.x),this.rotateDeg+=180*Math.atan((t-e)/(1+e*t))/Math.PI,this.touch0=i,this.touch1=o),this.fDrawImage()}else if(this.touch0){let e=i.x-this.touch0.x,t=i.y-this.touch0.y,o=this.posWidth+e,n=this.posHeight+t;if(this.isin){let i,s,a=this.useWidth*this.scaleSize,r=this.useHeight*this.scaleSize,l=o,c=n,d=l+a,u=c+r,m=parseInt(this.sS.left),h=parseInt(this.sS.top),p=m+parseInt(this.sS.width),g=h+parseInt(this.sS.height);this.cx=i=this.focusX*this.scaleSize-this.focusX,this.cy=s=this.focusY*this.scaleSize-this.focusY,!this.lckWidth&&Math.abs(e)<100&&(m<l-i?this.posWidth=m+i:p>d-i?this.posWidth=p-a+i:(this.posWidth=o,this.focusX-=e)),!this.lckHeight&&Math.abs(t)<100&&(h<c-s?(this.focusY-=h+s-this.posHeight,this.posHeight=h+s):g>u-s?(this.focusY-=g+s-(this.posHeight+r),this.posHeight=g-r+s):(this.posHeight=n,this.focusY-=t))}else Math.abs(e)<100&&!this.lckWidth&&(this.posWidth=o),Math.abs(t)<100&&!this.lckHeight&&(this.posHeight=n),this.focusX-=e,this.focusY-=t;this.touch0=i,this.fDrawImage()}},fEnd(e){let t=e.touches,i=t&&t[0];t&&t[1],i?this.touch0=i:(this.touch0=null,this.touch1=null)},fHideImg(){this.prvImg="",this.pT="-10000px",this.sO=!0,this.prvImgData=null,this.target=null},fClose(){this.sD="none",this.sT="-10000px",this.hasSel=!1,this.fHideImg(),this.noBar||uni.showTabBar(),this.$emit("end")},fGetImgData(){return new Promise(((e,t)=>{let i=this.prvX,o=this.prvY,n=this.prvWidth,s=this.prvHeight;uni.canvasGetImageData({canvasId:"prv-canvas",x:i,y:o,width:n,height:s,success(t){e(t.data)},fail(e){t(e)}},this)}))},async fColorChange(e){let t=Date.now();if(t-this.prvTm<100)return;if(this.prvTm=t,uni.showLoading({title:"加载中...",mask:!0}),!this.prvImgData){if(!(this.prvImgData=await this.fGetImgData().catch((()=>{uni.showToast({title:"error_read",duration:2e3})}))))return;this.target=new Uint8ClampedArray(this.prvImgData.length)}let i,o,n,s,a,r,l,c,d,u,m,h,p,g,f,v,_=this.prvImgData,y=this.target,w=e.detail.value;if(0===w)y=_;else{w=(w+100)/200,w<.005&&(w=0),w>.995&&(w=1);for(let e=_.length-1;e>=0;e-=4){if(i=_[e-3]/255,o=_[e-2]/255,n=_[e-1]/255,h=Math.max(i,o,n),m=Math.min(i,o,n),c=h-m,h===m?a=0:h===i&&o>=n?a=(o-n)/c*60:h===i&&o<n?a=(o-n)/c*60+360:h===o?a=(n-i)/c*60+120:h===n&&(a=(i-o)/c*60+240),l=(h+m)/2,0===l||h===m?r=0:0<l&&l<=.5?r=c/(2*l):l>.5&&(r=c/(2-2*l)),_[e]&&(s=_[e]),w<.5?r=r*w/.5:w>.5&&(r=2*r+2*w-r*w/.5-1),0===r)i=o=n=Math.round(255*l);else{l<.5?u=l*(1+r):l>=.5&&(u=l+r-l*r),d=2*l-u,p=a/360,g=p+1/3,f=p,v=p-1/3;let e=e=>e<0?e+1:e>1?e-1:e,t=e=>e<1/6?d+6*(u-d)*e:e>=1/6&&e<.5?u:e>=.5&&e<2/3?d+6*(u-d)*(2/3-e):d;i=g=Math.round(255*t(e(g))),o=f=Math.round(255*t(e(f))),n=v=Math.round(255*t(e(v)))}s&&(y[e]=s),y[e-3]=i,y[e-2]=o,y[e-1]=n}}let k=this.prvX,x=this.prvY,b=this.prvWidth,C=this.prvHeight;uni.canvasPutImageData({canvasId:"prv-canvas",x:k,y:x,width:b,height:C,data:y,fail(){uni.showToast({title:"error_put",duration:2e3})},complete(){uni.hideLoading()}},this)},btop(e){return this.base64=e,new Promise((function(t,i){for(var o=e.split(","),n=o[0].match(/:(.*?);/)[1],s=atob(o[1]),a=s.length,r=new Uint8Array(a);a--;)r[a]=s.charCodeAt(a);return t((window.URL||window.webkitURL).createObjectURL(new Blob([r],{type:n})))}))}}};const Ir=o(Tr,[["render",function(t,i,o,n,s,a){return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("image",{src:s.imgSrc.imgSrc,onClick:i[0]||(i[0]=(...e)=>a.fSelect&&a.fSelect(...e)),style:e.normalizeStyle([s.iS]),class:"my-avatar"},null,12,["src"]),e.createElementVNode("canvas",{"canvas-id":"avatar-canvas",id:"avatar-canvas",class:"my-canvas",style:e.normalizeStyle({top:s.sT,height:s.csH}),"disable-scroll":"false"},null,4),e.createElementVNode("canvas",{"canvas-id":"oper-canvas",id:"oper-canvas",class:"oper-canvas",style:e.normalizeStyle({top:s.sT,height:s.csH}),"disable-scroll":"false",onTouchstart:i[1]||(i[1]=(...e)=>a.fStart&&a.fStart(...e)),onTouchmove:i[2]||(i[2]=(...e)=>a.fMove&&a.fMove(...e)),onTouchend:i[3]||(i[3]=(...e)=>a.fEnd&&a.fEnd(...e))},null,36),e.createElementVNode("canvas",{"canvas-id":"prv-canvas",id:"prv-canvas",class:"prv-canvas","disable-scroll":"false",onTouchstart:i[4]||(i[4]=(...e)=>a.fHideImg&&a.fHideImg(...e)),style:e.normalizeStyle({height:s.csH,top:s.pT})},null,36),e.createElementVNode("view",{class:"oper-wrapper",style:e.normalizeStyle({display:s.sD,bottom:0,paddingBottom:a.inlineH+"px",height:50+a.inlineH+"px"})},[e.createElementVNode("view",{class:"oper"},[s.sO?(e.openBlock(),e.createElementBlock("view",{key:0,class:"btn-wrapper"},[e.createElementVNode("view",{onClick:i[5]||(i[5]=(...e)=>a.fSelect&&a.fSelect(...e)),"hover-class":"hover",style:e.normalizeStyle({width:s.bW})},[e.createElementVNode("text",null,"重选")],4),e.createElementVNode("view",{onClick:i[6]||(i[6]=(...e)=>a.fClose&&a.fClose(...e)),"hover-class":"hover",style:e.normalizeStyle({width:s.bW})},[e.createElementVNode("text",null,"关闭")],4),e.createElementVNode("view",{onClick:i[7]||(i[7]=(...e)=>a.fRotate&&a.fRotate(...e)),"hover-class":"hover",style:e.normalizeStyle({width:s.bW,display:s.bD})},[e.createElementVNode("text",null,"旋转")],4),e.createElementVNode("view",{onClick:i[8]||(i[8]=(...e)=>a.fPreview&&a.fPreview(...e)),"hover-class":"hover",style:e.normalizeStyle({width:s.bW})},[e.createElementVNode("text",null,"预览")],4),e.createElementVNode("view",{onClick:i[9]||(i[9]=(...e)=>a.fUpload&&a.fUpload(...e)),"hover-class":"hover",style:e.normalizeStyle({width:s.bW})},[e.createElementVNode("text",null,"上传")],4)])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"clr-wrapper"},[e.createElementVNode("slider",{class:"my-slider",onChange:i[10]||(i[10]=(...e)=>a.fColorChange&&a.fColorChange(...e)),"block-size":"25",value:"0",min:"-100",max:"100",activeColor:"red",backgroundColor:"green","block-color":"grey","show-value":""},null,32),e.createElementVNode("view",{onClick:i[11]||(i[11]=(...e)=>a.fPrvUpload&&a.fPrvUpload(...e)),"hover-class":"hover",style:e.normalizeStyle({width:s.bW})},[e.createElementVNode("text",null,"上传")],4)]))])],4)])}],["__scopeId","data-v-23bfb45b"]]),Pr=me(he),Dr={components:{avatar:Ir},data(){return{loginStore:Pr,globalConfig:Pr.globalConfig,userInfo:{},sexList:[{id:"2",name:this.$t("mine.no_msg")},{id:"1",name:this.$t("mine.sex_nan")},{id:"0",name:this.$t("mine.sex_nv")}],saved:!1,balance:"0.00"}},mounted(){this.get_userInfo(),this.userInfo=JSON.parse(JSON.stringify(Pr.userInfo))},methods:{to_fengmian(){uni.navigateTo({url:"/pages/mine/run_img"})},async get_userInfo(){const e=await this.$myRuquest({url:"/api/front/user/getUserInfo",method:"POST"});200==e.code&&(this.balance=e.data.balance)},logout(){let e=uni.getStorageSync("client_id");this.$api.LoginApi.logout({client_id:e}).then((e=>{0==e.code&&Pr.logout()}))},textareaBInput(e){this.userInfo.motto=e.detail.value},changeSex(e){this.userInfo.sex=parseInt(e.detail.value)},saveInfo(){if(""==this.userInfo.realname)return uni.showToast({title:this.$t("mine.set_t_1"),icon:"none"}),!1;this.saved=!0;let e={realname:this.userInfo.realname,email:this.userInfo.email,sex:this.userInfo.sex,motto:this.userInfo.motto,ages:this.userInfo.ages};this.$api.msgApi.updateUserInfo(e).then((e=>{if(0==e.code){uni.showToast({title:this.$t("mine.set_t_2"),icon:"none"});let e=JSON.parse(JSON.stringify(this.userInfo));Pr.login(e)}})),setTimeout((()=>{this.saved=!1}),8e3)},setAvatar(){uni.navigateTo({url:"/pages/mine/avatar"})},uploadAvatar(e){uni.showLoading({title:this.$t("mine.set_t_1")}),uni.uploadFile({url:this.$api.msgApi.uploadAvatar,filePath:e.path,name:"file",header:{Authorization:uni.getStorageSync("authToken")},formData:{ext:"png"},success:e=>{uni.hideLoading();let t=JSON.parse(e.data);if(0==t.code){uni.showToast({title:t.msg,icon:"none"}),this.userInfo.avatar=t.data;let e=JSON.parse(JSON.stringify(this.userInfo));Pr.login(e)}},fail:e=>{uni.hideLoading()}})}}};const Ar=o(Dr,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom"),l=e.resolveComponent("avatar");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("mine.icon")),1)])),_:1}),e.createElementVNode("form",null,[e.createElementVNode("view",{class:"cu-form-group",style:{height:"140rpx"}},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.$t("mine.icon")),1),e.createElementVNode("view",{class:"im-flex im-align-items-center"},[e.createVNode(l,{selWidth:"240px",selHeight:"480upx",onUpload:a.uploadAvatar,avatarSrc:s.userInfo.avatar,avatarStyle:"width: 100rpx; height: 100rpx; border-radius: 100%;"},null,8,["onUpload","avatarSrc"]),e.createElementVNode("text",{class:"cuIcon-right ml-10 f-18 text-grey"})])])]),e.createElementVNode("view",{class:"padding flex flex-direction"},[e.createElementVNode("button",{class:"cu-btn bg-green lg",style:e.normalizeStyle(s.saved?"border: solid 1px #dbdada;":""),disabled:s.saved,onClick:i[0]||(i[0]=e=>a.saveInfo())},e.toDisplayString(t.$t("mine.save")),13,["disabled"])])])}]]),$r=me(he),Lr={components:{avatar:Ir},data(){return{loginStore:$r,globalConfig:$r.globalConfig,userInfo:{},sexList:[{id:"2",name:this.$t("mine.no_msg")},{id:"1",name:this.$t("mine.sex_nan")},{id:"0",name:this.$t("mine.sex_nv")}],saved:!1,balance:"0.00"}},mounted(){this.get_userInfo(),this.userInfo=JSON.parse(JSON.stringify($r.userInfo))},methods:{to_fengmian(){uni.navigateTo({url:"/pages/mine/run_img"})},async get_userInfo(){const e=await this.$myRuquest({url:"/api/front/user/getUserInfo",method:"POST"});200==e.code&&(this.balance=e.data.balance)},logout(){let e=uni.getStorageSync("client_id");this.$api.LoginApi.logout({client_id:e}).then((e=>{0==e.code&&$r.logout()}))},textareaBInput(e){this.userInfo.motto=e.detail.value},changeSex(e){this.userInfo.sex=parseInt(e.detail.value)},saveInfo(){if(""==this.userInfo.realname)return uni.showToast({title:this.$t("mine.set_t_1"),icon:"none"}),!1;this.saved=!0;let e={realname:this.userInfo.realname,email:this.userInfo.email,sex:this.userInfo.sex,motto:this.userInfo.motto,ages:this.userInfo.ages};this.$api.msgApi.updateUserInfo(e).then((e=>{if(0==e.code){uni.showToast({title:this.$t("mine.set_t_2"),icon:"none"});let e=JSON.parse(JSON.stringify(this.userInfo));$r.login(e)}})),setTimeout((()=>{this.saved=!1}),8e3)},setAvatar(){uni.navigateTo({url:"/pages/mine/avatar"})},uploadAvatar(e){uni.showLoading({title:this.$t("mine.set_t_1")}),uni.uploadFile({url:this.$api.msgApi.uploadAvatar,filePath:e.path,name:"file",header:{Authorization:uni.getStorageSync("authToken")},formData:{ext:"png"},success:e=>{uni.hideLoading();let t=JSON.parse(e.data);if(0==t.code){uni.showToast({title:t.msg,icon:"none"}),this.userInfo.avatar=t.data;let e=JSON.parse(JSON.stringify(this.userInfo));$r.login(e)}},fail:e=>{uni.hideLoading()}})}}};const Mr=o(Lr,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("mine.title")),1)])),_:1}),e.createElementVNode("form",null,[e.createElementVNode("view",{class:"cu-form-group"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.$t("mine.account")),1),e.createElementVNode("view",{class:"text-gray"},e.toDisplayString(s.userInfo.account),1)]),e.createElementVNode("view",{class:"cu-form-group"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.$t("mine.jifen")),1),e.createElementVNode("view",{class:"text-pink"},e.toDisplayString(s.balance),1)]),e.createElementVNode("view",{class:"cu-form-group"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(1==s.globalConfig.sysInfo.runMode?t.$t("mine.ming"):t.$t("mine.nickname")),1),1==s.globalConfig.sysInfo.runMode?(e.openBlock(),e.createElementBlock("view",{key:0,class:"text-gray"},e.toDisplayString(s.userInfo.realname),1)):e.createCommentVNode("",!0),2==s.globalConfig.sysInfo.runMode?e.withDirectives((e.openBlock(),e.createElementBlock("input",{key:1,class:"uni-input",style:{"text-align":"right"},"onUpdate:modelValue":i[0]||(i[0]=e=>s.userInfo.realname=e),placeholder:"请输入昵称"},null,512)),[[e.vModelText,s.userInfo.realname]]):e.createCommentVNode("",!0)]),e.createElementVNode("view",{class:"cu-form-group"},[e.createElementVNode("view",{class:"title"},"e-mail"),e.withDirectives(e.createElementVNode("input",{class:"uni-input",style:{"text-align":"right"},"onUpdate:modelValue":i[1]||(i[1]=e=>s.userInfo.email=e),placeholder:t.$t("mine.emial")},null,8,["placeholder"]),[[e.vModelText,s.userInfo.email]])]),e.createElementVNode("view",{class:"cu-form-group"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.$t("mine.age")),1),e.withDirectives(e.createElementVNode("input",{class:"uni-input",style:{"text-align":"right"},"onUpdate:modelValue":i[2]||(i[2]=e=>s.userInfo.ages=e),placeholder:t.$t("mine.age_num"),type:"number"},null,8,["placeholder"]),[[e.vModelText,s.userInfo.ages]])]),e.createElementVNode("view",{class:"cu-form-group"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.$t("mine.sex")),1),e.createElementVNode("view",null,[e.createElementVNode("radio-group",{onChange:i[3]||(i[3]=(...e)=>a.changeSex&&a.changeSex(...e))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.sexList,(t=>(e.openBlock(),e.createElementBlock("label",{class:"radio mr-10"},[e.createElementVNode("radio",{name:"sex",value:t.id,checked:s.userInfo.sex==t.id},null,8,["value","checked"]),e.createTextVNode(" "+e.toDisplayString(t.name),1)])))),256))],32)])]),e.createElementVNode("view",{class:"cu-form-group align-start"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.$t("mine.sine")),1),e.withDirectives(e.createElementVNode("textarea",{maxlength:"-1","onUpdate:modelValue":i[4]||(i[4]=e=>s.userInfo.motto=e),placeholder:t.$t("mine.sine_place")},null,8,["placeholder"]),[[e.vModelText,s.userInfo.motto]])])]),e.createElementVNode("view",{class:"padding flex flex-direction"},[e.createElementVNode("button",{class:"cu-btn bg-green lg",style:e.normalizeStyle(s.saved?"border: solid 1px #dbdada;":""),disabled:s.saved,onClick:i[5]||(i[5]=e=>a.saveInfo())},e.toDisplayString(t.$t("mine.save")),13,["disabled"])])])}]]),Or=me(he),Fr={components:{avatar:Ir},data(){return{loginStore:Or,globalConfig:Or.globalConfig,userInfo:{},sexList:[{id:"2",name:this.$t("mine.no_msg")},{id:"1",name:this.$t("mine.sex_nan")},{id:"0",name:this.$t("mine.sex_nv")}],saved:!1,balance:"0.00",check_code:""}},mounted(){},methods:{to_fengmian(){uni.navigateTo({url:"/pages/mine/run_img"})},async get_userInfo(){const e=await this.$myRuquest({url:"/api/front/user/getUserInfo",method:"POST"});200==e.code&&(this.balance=e.data.balance)},logout(){let e=uni.getStorageSync("client_id");this.$api.LoginApi.logout({client_id:e}).then((e=>{0==e.code&&Or.logout()}))},textareaBInput(e){this.userInfo.motto=e.detail.value},changeSex(e){this.userInfo.sex=parseInt(e.detail.value)},async saveInfo(){if(""==this.check_code)return uni.showToast({title:this.$t("usercenter.vip_p_desc10"),icon:"none"}),!1;this.saved=!0;200==(await this.$myRuquest({url:"/api/front/user/validateCode",method:"POST",data:{code:this.check_code}})).code&&uni.showToast({title:this.$t("usercenter.vip_p_pop_5"),icon:"none"}),setTimeout((()=>{uni.navigateTo({url:"/pages/mine/index"})}),2e3),setTimeout((()=>{this.saved=!1}),8e3)},setAvatar(){uni.navigateTo({url:"/pages/mine/avatar"})},uploadAvatar(e){uni.showLoading({title:this.$t("mine.set_t_1")}),uni.uploadFile({url:this.$api.msgApi.uploadAvatar,filePath:e.path,name:"file",header:{Authorization:uni.getStorageSync("authToken")},formData:{ext:"png"},success:e=>{uni.hideLoading();let t=JSON.parse(e.data);if(0==t.code){uni.showToast({title:t.msg,icon:"none"}),this.userInfo.avatar=t.data;let e=JSON.parse(JSON.stringify(this.userInfo));Or.login(e)}},fail:e=>{uni.hideLoading()}})}}};const Ur=o(Fr,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("usercenter.l_nav6")),1)])),_:1}),e.createElementVNode("form",null,[e.createElementVNode("view",{class:"cu-form-group align-start"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.$t("usercenter.vip_p_desc9")),1),e.withDirectives(e.createElementVNode("textarea",{maxlength:"-1","onUpdate:modelValue":i[0]||(i[0]=e=>s.check_code=e),placeholder:t.$t("usercenter.vip_p_desc10")},null,8,["placeholder"]),[[e.vModelText,s.check_code]])])]),e.createElementVNode("view",{class:"padding flex flex-direction"},[e.createElementVNode("button",{class:"cu-btn bg-green lg",style:e.normalizeStyle(s.saved?"border: solid 1px #dbdada;":""),disabled:s.saved,onClick:i[1]||(i[1]=e=>a.saveInfo())},e.toDisplayString(t.$t("mine.save")),13,["disabled"])])])}]]),Rr=me(he),zr={data:()=>({userInfo:Rr.userInfo,globalConfig:Rr.globalConfig,modelName:"",code:"",account:"",newCode:"",password:"",originalPassword:"",repass:"",loading:!1,editPass:!1}),onShow(){},methods:{logout(){let e=uni.getStorageSync("client_id");this.$api.LoginApi.logout({client_id:e}).then((e=>{0==e.code&&Rr.logout()}))},editAcc(){},openWeb(e){uni.navigateTo({url:"/pages/mine/webview?src=https://im.raingad.com"})},save(){if(""==this.code&&this.userInfo.is_auth)return uni.showToast({title:"请输入验证码",icon:"none"}),!1;if(this.editPass){if(""==this.password||this.password.length<6||this.password.length>16)return uni.showToast({title:"请输入6-16个字符串的密码",icon:"none"}),!1;if(this.password!=this.repass)return uni.showToast({title:"两次密码不一致",icon:"none"}),!1;let e={password:this.password,code:this.code,originalPassword:this.originalPassword};this.$api.msgApi.editPassword(e).then((e=>{0==e.code&&(this.modelName="",this.password="",this.repass="",uni.showToast({title:e.msg,icon:"none"}))}))}else{if(""==this.account)return uni.showToast({title:"请输入新的账号",icon:"none"}),!1;if(""==this.newCode)return uni.showToast({title:"请输入新账号的验证码",icon:"none"}),!1;let e={account:this.account,code:this.code,newCode:this.newCode};this.$api.msgApi.editAccount(e).then((e=>{0==e.code&&(this.modelName="",this.account="",this.code="",this.newCode="",uni.showToast({title:"修改成功，请重新登陆",icon:"none"}))}))}},sendCode(e){let t=e?this.userInfo.account:this.account,i=this.editPass?3:4;if(""==t)return uni.showToast({title:"请输入新的账号",icon:"none"}),!1;this.loading=!0,this.$api.LoginApi.sendCode({account:t,type:i}).then((e=>{uni.showToast({title:e.msg,icon:"none"}),this.loading=!1}))}}};const jr=o(zr,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("safe.title")),1)])),_:1}),e.createElementVNode("view",{class:"cu-list menu mt-10"},[e.createElementVNode("view",{class:"cu-item",onClick:i[0]||(i[0]=(...e)=>a.editAcc&&a.editAcc(...e))},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("text",{class:"cuIcon-settings text-grey"}),e.createElementVNode("text",null,e.toDisplayString(t.$t("safe.account")),1)]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("text",null,e.toDisplayString(s.userInfo.account),1),e.createElementVNode("text",{class:"text-grey cuIcon-right"})])]),e.createElementVNode("view",{class:"cu-item",onClick:i[1]||(i[1]=e=>{s.modelName="show",s.editPass=!0})},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("text",{class:"cuIcon-lock text-green"}),e.createElementVNode("text",null,e.toDisplayString(t.$t("safe.update_psw")),1)]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("text",{class:"text-grey cuIcon-right"})])])]),e.createElementVNode("view",{class:e.normalizeClass(["cu-modal bottom-modal","show"==s.modelName?"show":""]),onClick:i[13]||(i[13]=e=>s.modelName="")},[e.createElementVNode("view",{class:"cu-dialog",onClick:i[12]||(i[12]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"cu-bar bg-white"},[e.createElementVNode("view",{class:"action text-gray",onClick:i[2]||(i[2]=e=>s.modelName="")},e.toDisplayString(t.$t("safe.close")),1),e.createElementVNode("view",{class:"action text-green",onClick:i[3]||(i[3]=(...e)=>a.save&&a.save(...e))},e.toDisplayString(t.$t("safe.save")),1)]),e.createElementVNode("view",{class:"manage-content mb-20"},[e.createElementVNode("view",{class:"cu-list menu mt-15 bg-white"},[s.userInfo.is_auth?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cu-form-group text-right"},[e.createElementVNode("view",{class:"title"},"验证码"),e.withDirectives(e.createElementVNode("input",{placeholder:"输入验证码",name:"input","onUpdate:modelValue":i[4]||(i[4]=e=>s.code=e)},null,512),[[e.vModelText,s.code]]),e.createElementVNode("button",{class:e.normalizeClass(["cu-btn bg-green shadow cu-load",s.loading?"loading":""]),disabled:s.loading,onClick:i[5]||(i[5]=e=>a.sendCode(!0))},"发送验证码",10,["disabled"])])):e.createCommentVNode("",!0),s.editPass?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[s.userInfo.is_auth?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:0,class:"cu-form-group text-right"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.$t("safe.old_psw")),1),e.withDirectives(e.createElementVNode("input",{placeholder:t.$t("safe.old_psw_1"),name:"input","onUpdate:modelValue":i[9]||(i[9]=e=>s.originalPassword=e)},null,8,["placeholder"]),[[e.vModelText,s.originalPassword]])])),e.createElementVNode("view",{class:"cu-form-group text-right"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.$t("safe.new_psw")),1),e.withDirectives(e.createElementVNode("input",{placeholder:t.$t("safe.new_psw_1"),name:"input","onUpdate:modelValue":i[10]||(i[10]=e=>s.password=e)},null,8,["placeholder"]),[[e.vModelText,s.password]])]),e.createElementVNode("view",{class:"cu-form-group text-right"},[e.createElementVNode("view",{class:"title"},e.toDisplayString(t.$t("safe.renew_psw")),1),e.withDirectives(e.createElementVNode("input",{placeholder:t.$t("safe.renew_psw_1"),name:"input","onUpdate:modelValue":i[11]||(i[11]=e=>s.repass=e)},null,8,["placeholder"]),[[e.vModelText,s.repass]])])],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("view",{class:"text-gray m-15 text-left"},[e.createElementVNode("text",{class:"cuIcon-infofill ml-5 mr-10"}),e.createTextVNode(" 验证账户的真实性，绑定后请使用新账户来登录！ ")]),e.createElementVNode("view",{class:"cu-form-group text-right"},[e.createElementVNode("view",{class:"title"},"新账号"),e.withDirectives(e.createElementVNode("input",{placeholder:"输入新的邮箱或者手机号",name:"input","onUpdate:modelValue":i[6]||(i[6]=e=>s.account=e)},null,512),[[e.vModelText,s.account]])]),e.createElementVNode("view",{class:"cu-form-group text-right"},[e.createElementVNode("view",{class:"title"},"新账号验证码"),e.withDirectives(e.createElementVNode("input",{placeholder:"输入验证码",name:"input","onUpdate:modelValue":i[7]||(i[7]=e=>s.newCode=e)},null,512),[[e.vModelText,s.newCode]]),e.createElementVNode("button",{class:e.normalizeClass(["cu-btn bg-green shadow cu-load",s.loading?"loading":""]),disabled:s.loading,onClick:i[8]||(i[8]=e=>a.sendCode(!1))},"发送验证码",10,["disabled"])])],64))])])])],2)])}]]),Hr=me(he);const Wr=o({data:()=>({loginStore:Hr,globalConfig:Hr.globalConfig,packData:Ui}),onShow(){},methods:{logout(){let e=uni.getStorageSync("client_id");this.$api.LoginApi.logout({client_id:e}).then((e=>{0==e.code&&Hr.logout()}))},openWeb(e){uni.navigateTo({url:"/pages/mine/webview?src=https://im.raingad.com"})},showSetting(){uni.showToast({title:"请在web端进行资料设置",icon:"none"})},editInfo(){uni.navigateTo({url:"/pages/mine/profile"})},setAvatar(){uni.navigateTo({url:"/pages/mine/avatar"})}}},[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode("关于我们")])),_:1}),e.createElementVNode("view",{style:{height:"150rpx"}}),e.createElementVNode("view",{class:"padding im-flex im-rows im-justify-content-center mb-10"},[e.createElementVNode("view",{class:"im-flex im-rows im-justify-content-center"},[e.createElementVNode("image",{class:"login-logo",src:s.globalConfig.sysInfo.logo??s.packData.logo,mode:"fixWidth"},null,8,["src"])])]),e.createElementVNode("view",{class:"app-name"},e.toDisplayString(s.globalConfig.sysInfo.name??s.packData.name),1),e.createElementVNode("view",{class:"app-version mb-20 mt-10 c-999"},"Version "+e.toDisplayString(s.packData.version),1),e.createElementVNode("view",{class:"padding"},[e.createElementVNode("view",{class:"mb-15"},[e.createElementVNode("view",{class:"cuIcon-title"},"支持单聊和群聊")]),e.createElementVNode("view",{class:"mb-15"},[e.createElementVNode("view",{class:"cuIcon-title"},"支持发送表情、图片、语音、视频和文件消息")]),e.createElementVNode("view",{class:"mb-15"},[e.createElementVNode("view",{class:"cuIcon-title"},"单聊支持消息已读未读的状态显示，在线状态显示")]),e.createElementVNode("view",{class:"mb-15"},[e.createElementVNode("view",{class:"cuIcon-title"},"群聊创建、删除和群成员管理、群公告、群禁言等")]),e.createElementVNode("view",{class:"mb-15"},[e.createElementVNode("view",{class:"cuIcon-title"},"支持置顶联系人，消息免打扰")]),e.createElementVNode("view",{class:"mb-15"},[e.createElementVNode("view",{class:"cuIcon-title"},"支持一对一音视频通话（已打通web端和移动端）")])])])}]]),qr=me(he),Jr={data(){return{loginStore:qr,globalConfig:qr.globalConfig,setting:{voiceStatus:!0,vibrateStatus:!1,circleAvatar:!1},language:"",type_list:[{id:1,name:this.$t("set.pop_tit1"),valus:"zh"},{id:2,name:this.$t("set.pop_tit2"),valus:"zhCN"},{id:3,name:this.$t("set.pop_tit3"),valus:"en"}],show_more:!1,index_get:0}},created(){let e=uni.getStorageSync("appSetting")??"";this.language=qr.language,"zh"==this.language?this.index_get=0:"zhCN"==this.language?this.index_get=1:this.index_get=2,e&&(this.setting=e)},methods:{setVoice(e){this.setting.voiceStatus=e.detail.value,this.saveSet()},setVibrate(e){this.setting.vibrateStatus=e.detail.value,this.saveSet()},setAvatar(e){this.setting.circleAvatar=e.detail.value,this.saveSet()},saveSet(){qr.setAppSetting(this.setting)},get_type(e,t,i){1==i?this.index_get=t:(qr.set_language(this.type_list[this.index_get].valus),this.language=qr.language,this.show_more=!1,this.$i18n.locale=this.type_list[this.index_get].valus)}}};const Gr=o(Jr,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("set.title")),1)])),_:1}),e.createElementVNode("view",{class:"cu-bar bg-white solid-bottom margin-top"},[e.createElementVNode("view",{class:"action"},e.toDisplayString(t.$t("set.new_msg")),1)]),e.createElementVNode("view",{class:"cu-list menu"},[e.createElementVNode("view",{class:"cu-item"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("text",null,e.toDisplayString(t.$t("set.notice_t")),1)]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("switch",{class:e.normalizeClass(["switch",s.setting.voiceStatus?"checked":""]),onChange:i[0]||(i[0]=(...e)=>a.setVoice&&a.setVoice(...e)),checked:s.setting.voiceStatus},null,42,["checked"])])]),e.createElementVNode("view",{class:"cu-item"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("text",null,e.toDisplayString(t.$t("set.notice_t1")),1)]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("switch",{class:e.normalizeClass(["switch",s.setting.vibrateStatus?"checked":""]),onChange:i[1]||(i[1]=(...e)=>a.setVibrate&&a.setVibrate(...e)),checked:s.setting.vibrateStatus},null,42,["checked"])])])]),e.createElementVNode("view",{class:"cu-bar bg-white solid-bottom margin-top"},[e.createElementVNode("view",{class:"action"},e.toDisplayString(t.$t("set.notice_t2")),1)]),e.createElementVNode("view",{class:"cu-list menu"},[e.createElementVNode("view",{class:"cu-item"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("text",null,e.toDisplayString(t.$t("set.notice_t3")),1)]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("switch",{class:e.normalizeClass(["switch",s.setting.circleAvatar?"checked":""]),onChange:i[2]||(i[2]=(...e)=>a.setAvatar&&a.setAvatar(...e)),checked:s.setting.circleAvatar},null,42,["checked"])])])]),e.createElementVNode("view",{class:"cu-list menu"},[e.createElementVNode("view",{class:"cu-item"},[e.createElementVNode("view",{class:"content"},[e.createElementVNode("text",null,e.toDisplayString(t.$t("set.language")),1)]),e.createElementVNode("view",{class:"action"},[e.createElementVNode("view",{onClick:i[3]||(i[3]=e=>s.show_more=!0)},["zh"==s.language?(e.openBlock(),e.createElementBlock("view",{key:0},"简体中文")):e.createCommentVNode("",!0),"zhCN"==s.language?(e.openBlock(),e.createElementBlock("view",{key:1},"繁体中文")):e.createCommentVNode("",!0),"en"==s.language?(e.openBlock(),e.createElementBlock("view",{key:2},"English")):e.createCommentVNode("",!0)])])])]),e.withDirectives(e.createElementVNode("view",{class:"type_more"},[e.createElementVNode("view",{style:{"padding-top":"50px"}},[e.createElementVNode("view",{class:"type_tit"},e.toDisplayString(t.$t("set.language")),1),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.type_list,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["type_zi",{type_get:s.index_get==i}]),key:i,onClick:e=>a.get_type(t,i,1)},e.toDisplayString(t.name),11,["onClick"])))),128))]),e.createElementVNode("view",{class:"type_close",onClick:i[4]||(i[4]=e=>a.get_type("","",2))},e.toDisplayString(t.$t("set.ok")),1)],512),[[e.vShow,s.show_more]])])}],["__scopeId","data-v-ce9d30de"]]),Yr={name:"third",data:()=>({web_url:""}),methods:{getMessage(e){_("log","at pages/third/third.vue:28","@message 接收成功1"),(e.detail.data[0].action="message")&&uni.reLaunch({url:"/pages/index/index"})},getPostMessage(e){_("log","at pages/third/third.vue:39","@onPostMessage 接收成功2"),uni.switchTab({url:"/pages/index/index"})}},mounted(){top.addEventListener("message",(e=>{_("log","at pages/third/third.vue:47","获得传参：",e.data)}),!1);var e=document.getElementsByClassName("uni-page-head-hd")[0];e&&(e.style.display="none")},onLoad(e){this.web_url=e.url+"?uid="+e.uid}};const Xr=o(Yr,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode("影院")])),_:1}),e.createElementVNode("view",null,[e.createElementVNode("web-view",{ref:"webview",onMessage:i[0]||(i[0]=(...e)=>a.getMessage&&a.getMessage(...e)),"update-title":!0,src:s.web_url},null,40,["src"])])])}]]),Kr="/static/image/empty.png";const Qr=o({data:()=>({year:0,data_index:0,ifdown:!1,ifpop:!1,page:1,pagesize:10,notice:"下拉刷新",loadingType:0,loadingText:"加载中...",contentText:{contendown:"上拉显示更多",contenrefresh:"正在加载...",contennomore:"没有更多数据了"},timer:{},minDate:1546275676,columns:[],empty_img:"",list:[]}),components:{},methods:{see_money(e){this.list[e].ifsee=!this.list[e].ifsee},see_detail(e){uni.navigateTo({url:"/pages/movie/notice/detail/detail?id="+e.id})},onChange(e){_("log","at pages/movie/bet/list.vue:91",e)},onClose(){this.ifdown=!1},onSelect(e){this.ifdown=!1,this.year=e.detail.value,Toast.loading({duration:0,message:"加載中...",forbidClick:!0}),this.list=[],this.getList()},async getList(e){this.list=[];const t=await this.$myRuquest({method:"Post",url:"/api/front/order/getHistoryOrder",data:{page:this.page,pagesize:5}});200==t.code&&(this.list=t.data.data),e&&e()},async getmorelists(){if(0!==this.loadingType)return!1;this.loadingType=1,uni.showNavigationBarLoading(),this.page++;const e=await this.$myRuquest({method:"Post",url:"/api/front/order/getHistoryOrder",data:{page:this.page,pagesize:5}});if(200==e.code){if(e.data.data.length<1)return this.loadingType=2,void uni.hideNavigationBarLoading();this.list=this.list.concat(e.data.data),this.loadingType=0,uni.hideNavigationBarLoading()}},formatNum(e){if(!e&&0!==e)return 0;let t=e.toString(),i=t.indexOf(".")>-1?/(\d)(?=(\d{3})+\.)/g:/(\d)(?=(?:\d{3})+$)/g;return t.replace(i,"$1,")}},onLoad(){this.list=[],this.page=1,this.getList()},onPullDownRefresh(){this.page=1,this.list=[],this.getList().then((e=>wx.stopPullDownRefresh()))},onReachBottom(){this.getmorelists()}},[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("bet_list.title")),1)])),_:1}),0!==s.list.length?(e.openBlock(),e.createElementBlock("view",{key:0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.list,((i,o)=>(e.openBlock(),e.createElementBlock("view",{class:"list_line_are",key:o},[e.createElementVNode("view",{class:"list_line_line"},[e.createElementVNode("view",{class:"list_line_zi"},e.toDisplayString(t.$t("bet_list.qihao")),1),e.createElementVNode("view",{class:"list_line_zi"},e.toDisplayString(t.$t("bet_list.jifen")),1)]),e.createElementVNode("view",{class:"list_line_line"},[e.createElementVNode("view",{class:"list_line_zi"},e.toDisplayString(i.open_no),1),e.createElementVNode("view",{class:"list_line_zi"},e.toDisplayString(i.amount),1)]),e.createElementVNode("view",{class:"list_line_line"},[e.createElementVNode("view",{class:"list_line_zi"},e.toDisplayString(t.$t("bet_list.time")),1),e.createElementVNode("view",{class:"list_line_zi"},e.toDisplayString(t.$t("bet_list.toupiao")),1)]),e.createElementVNode("view",{class:"list_line_line"},[e.createElementVNode("view",{sclass:"list_line_zi",style:{flex:"1"}},e.toDisplayString(i.create_time),1),e.createElementVNode("view",{class:"list_line_zi"},[e.createElementVNode("view",{style:{display:"flex","justify-items":"flex-start"}},[1==i.multiple_id?(e.openBlock(),e.createElementBlock("view",{key:0,class:"color_n1"},e.toDisplayString(t.$t("bet_list.bet_n1")),1)):e.createCommentVNode("",!0),2==i.multiple_id?(e.openBlock(),e.createElementBlock("view",{key:1,class:"color_n2"},e.toDisplayString(t.$t("bet_list.bet_n2")),1)):e.createCommentVNode("",!0),3==i.multiple_id?(e.openBlock(),e.createElementBlock("view",{key:2,class:"color_n1"},e.toDisplayString(t.$t("bet_list.bet_n3")),1)):e.createCommentVNode("",!0),4==i.multiple_id?(e.openBlock(),e.createElementBlock("view",{key:3,class:"color_n2"},e.toDisplayString(t.$t("bet_list.bet_n4")),1)):e.createCommentVNode("",!0)])])])])))),128)),e.createElementVNode("view",{style:{"text-align":"center","line-height":"50px",color:"#ccc"}},e.toDisplayString(t.$t("bet_list.reload")),1)])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"listare li_are"},[e.createElementVNode("view",{class:"empty_ico"},[e.createElementVNode("image",{src:Kr,style:{"margin-top":"3px"},mode:"widthFix"}),e.createElementVNode("view",{style:{"text-align":"center"}},e.toDisplayString(t.$t("bet_list.no_data")),1)])]))])}],["__scopeId","data-v-2c22992c"]]),Zr=me(he);const el=o({data(){return{pop_notice:!1,active:0,top_title:this.$t("list.title"),show_more:!1,loadingType:0,page:1,State:0,type_list:[],timer:{},list:[],type_list:[],State:"",index_get:99,fromUser:"",language:Zr.language}},methods:{pop_ok(){uni.navigateTo({url:"/pages/movie/kefu/kefu"})},jump(e){1==e?uni.navigateTo({url:"/pages/movie/index/index"}):2==e?uni.navigateTo({url:"/pages/movie/list/index"}):3==e?uni.navigateTo({url:"/pages/movie/bet/bet"}):4==e?uni.navigateTo({url:"/pages/kefu/kefu_index"}):5==e&&uni.navigateTo({url:"/pages/mine/index"})},see_detail(e){0!=this.fromUser.isview||0!=this.fromUser.role?(uni.setStorageSync("movice_info",e),uni.navigateTo({url:"/pages/movie/list/detial?id="+e.id})):this.pop_notice=!0},async get_type_list(){const e=await this.$myRuquest({url:"/api/front/movie/getTypes",method:"POST",data:{page:1}});200==e.code&&(this.type_list=e.data.data)},onClose(){},onChange(e){},openMore(){this.show_more=!this.show_more},get_type(e,t){this.page=1,this.index_get=t,this.openMore(),""!==e?(this.State=e.id,this.top_title=this.$t("list.title")+"-"+e.name):(this.State="",this.top_title=this.$t("list.title")),this.getList()},async get_userinfo(){let e=JSON.parse(JSON.stringify(Zr.userInfo));const t=await this.$myRuquest({url:"/api/front/index/getImUserInfo",method:"POST",data:{user_id:e.user_id}});if(200==t.code){this.fromUser=t.data;let e=JSON.parse(JSON.stringify(t.data));Zr.login(e)}},async getList(e){this.list=[];const t=await this.$myRuquest({method:"Post",url:"/api/front/movie/getMoreList",data:{page:this.page,pagesize:10,type_id:this.State}});200==t.code&&(this.list=t.data.list),e&&e()},async getmorelists(){if(0!==this.loadingType)return!1;this.loadingType=1,uni.showNavigationBarLoading(),this.page++;const e=await this.$myRuquest({method:"Post",url:"/api/front/movie/getMoreList",data:{page:this.page,pagesize:10,type_id:this.State}});if(200==e.code){if(e.data.list.length<1)return this.loadingType=2,void uni.hideNavigationBarLoading();this.list=this.list.concat(e.data.list),this.loadingType=0,uni.hideNavigationBarLoading()}}},mounted(){window.scrollTo({top:0,behavior:"smooth"})},onLoad(e){this.get_type_list(),this.getList(),uni.removeStorageSync("movice_info"),this.show_more=!1;var t=document.getElementsByClassName("uni-page-head-hd")[0];t&&(t.style.display="none")},onShow(){this.get_userinfo(),this.getList(),uni.removeStorageSync("movice_info"),this.fromUser=uni.getStorageSync("userInfo"),this.show_login=!1,uni.getStorageSync("token")},onPullDownRefresh(){this.page=1,this.list=[],this.getList().then((e=>wx.stopPullDownRefresh()))},onReachBottom(){null!==this.timer&&clearTimeout(this.timer),this.timer=setTimeout((()=>{this.getmorelists()}),1e3)}},[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom"),l=e.resolveComponent("Empty");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(s.top_title),1)])),right:e.withCtx((()=>[e.createElementVNode("view",{class:"cuIcon-more mr-10 f-16",onClick:i[0]||(i[0]=(...e)=>a.openMore&&a.openMore(...e))})])),_:1}),0!==s.list.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"list_are"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.list,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:"list_item",key:i,onClick:e=>a.see_detail(t)},[e.createElementVNode("view",{class:"list_zi"},[e.createElementVNode("view",{class:"list_img_are"},[e.createElementVNode("image",{src:t.img,class:"list_zi_img",mode:"widthFix"},null,8,["src"])]),e.createElementVNode("view",{class:"list_foot"},[e.createElementVNode("view",{class:"m_title"},e.toDisplayString(t.name),1),e.createElementVNode("view",{style:{display:"flex"}},[e.createElementVNode("view",{class:"cuIcon-cardboardfill l_ft_r",style:{"font-size":"14px"}}),e.createElementVNode("view",{class:"l_ft_r"},e.toDisplayString(t.view_count),1)])])])],8,["onClick"])))),128))])):(e.openBlock(),e.createBlock(l,{key:1,noDatatext:t.$t("list.no_data"),textcolor:"#999"},null,8,["noDatatext"])),e.withDirectives(e.createElementVNode("view",{class:"type_more"},[e.createElementVNode("view",{style:{"padding-top":"50px"}},[e.createElementVNode("view",{class:"type_tit"},e.toDisplayString(t.$t("list.type_hot")),1),e.createElementVNode("view",{class:e.normalizeClass(["type_zi",{type_get:99==s.index_get}]),onClick:i[1]||(i[1]=e=>a.get_type("",99))},e.toDisplayString(t.$t("list.all")),3),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.type_list,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["type_zi",{type_get:s.index_get==i}]),key:i,onClick:e=>a.get_type(t,i)},["zh"==s.language?(e.openBlock(),e.createElementBlock("view",{key:0},e.toDisplayString(t.name),1)):e.createCommentVNode("",!0),"zhCN"==s.language?(e.openBlock(),e.createElementBlock("view",{key:1},e.toDisplayString(t.name_2),1)):e.createCommentVNode("",!0),"en"==s.language?(e.openBlock(),e.createElementBlock("view",{key:2},e.toDisplayString(t.name_3),1)):e.createCommentVNode("",!0)],10,["onClick"])))),128))]),e.createElementVNode("view",{class:"type_close",onClick:i[2]||(i[2]=e=>s.show_more=!1)},e.toDisplayString(t.$t("list.close")),1)],512),[[e.vShow,s.show_more]]),e.withDirectives(e.createElementVNode("view",null,[e.createElementVNode("view",{class:"com_bg"}),e.createElementVNode("view",{class:"com_main"},[e.createElementVNode("view",{class:"pop_mian"},[e.createElementVNode("view",{class:"pop_title"},e.toDisplayString(t.$t("pop.title")),1),e.createElementVNode("view",{style:{padding:"10px 15px",display:"flex","justify-content":"flex-start","line-height":"25px","flex-wrap":"wrap"}},e.toDisplayString(t.$t("pop.content2")),1),e.createElementVNode("view",{class:"pop_foot"},[e.createElementVNode("view",{class:"pop_ft_btn1",onClick:i[3]||(i[3]=e=>s.pop_notice=!1)},e.toDisplayString(t.$t("pop.close")),1),e.createElementVNode("view",{class:"pop_ft_btn2",onClick:i[4]||(i[4]=e=>a.pop_ok())},e.toDisplayString(t.$t("pop.up")),1)])])])],512),[[e.vShow,s.pop_notice]])])}],["__scopeId","data-v-3ba860e2"]]),tl=me(he),il={data:()=>({top_title:"详情",pop_notice:!1,scrollW:0,show_login:!1,indicatorDots:!0,autoplay:!0,interval:3e3,duration:500,indicatorColor:"#292b40",indicatorActiveColor:"#ffffff",tag:["好看","大片","动作片","青春","喜剧"],detail:{},guess_arr:[],fromUser:""}),methods:{pop_ok(){uni.navigateTo({url:"/pages/movie/kefu/kefu"})},async getList(e){this.list=[];const t=await this.$myRuquest({method:"Post",url:"/api/front/movie/getList",data:{page:1,pagesize:6,tag:"",current_id:e}});200==t.code&&(this.guess_arr=t.data.list)},async add_view(e){200==(await this.$myRuquest({method:"Post",url:"/api/front/movie/addViewCount",data:{id:e}})).code&&this.count_number("isview")},async count_number(e){let t=JSON.parse(JSON.stringify(tl.userInfo));(await this.$myRuquest({url:"/api/front/index/changeImUserData",method:"POST",data:{user_id:t.user_id,column:e}})).code},jump(e){1==e?uni.navigateTo({url:"/pages/index/index"}):2==e?uni.navigateTo({url:"/pages/recharge/recharge"}):3==e?uni.navigateTo({url:"/pages/kefu/kefu_index"}):4==e&&uni.navigateTo({url:"/pages/usercenter/usercenter"})},onClose(){this.show_login=!this.show_login},noOk(){uni.navigateTo({url:"/pages/login/login"})},to_notice(){uni.navigateTo({url:"/pages/notice/notice"})},onNavigationBarButtonTap(e){""!==uni.getStorageSync("token")?0==e.index?uni.navigateTo({url:"/pages/notice/notice"}):uni.navigateTo({url:"/pages/login/login"}):this.show_login=!0},see_detail(e){0!=this.fromUser.isview||0!=this.fromUser.role?(uni.setStorageSync("movice_info",e),uni.navigateTo({url:"/pages/movie/list/detial?id="+e.id})):this.pop_notice=!0},async get_userinfo(){let e=JSON.parse(JSON.stringify(tl.userInfo));const t=await this.$myRuquest({url:"/api/front/index/getImUserInfo",method:"POST",data:{user_id:e.user_id}});if(200==t.code){this.fromUser=t.data;let e=JSON.parse(JSON.stringify(t.data));tl.login(e)}}},onLoad(e){uni.setStorageSync("iffirst",!1),this.detail=uni.getStorageSync("movice_info"),this.top_title=this.detail.name,this.getList(e.id),this.add_view(e.id)},mounted(){window.scrollTo({top:0,behavior:"smooth"})},onShow(){window.scrollTo({top:0,behavior:"smooth"}),this.show_login=!1,uni.getStorageSync("token")}};const ol=o(il,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom"),l=e.resolveComponent("van-icon");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(s.top_title),1)])),_:1}),e.createElementVNode("view",{class:"page-section swiper"},[e.createElementVNode("view",null,[e.createElementVNode("video",{id:"myVideo",src:s.detail.url,onError:i[0]||(i[0]=(...e)=>t.videoErrorCallback&&t.videoErrorCallback(...e)),width:"100%",height:"400px","enable-danmu":"","danmu-btn":"",controls:""},null,40,["src"])]),e.createElementVNode("view",{class:"main_i"},[e.createElementVNode("view",{class:"main_title"},e.toDisplayString(s.detail.name),1),e.createElementVNode("view",{class:"mian_price_line",style:{padding:"7px 0"}},[e.createElementVNode("view",{class:"mark_price"},e.toDisplayString(t.$t("detail.view"))+"："+e.toDisplayString(s.detail.view_count),1)]),e.createElementVNode("view",{class:"main_title",style:{"margin-top":"10px",color:"#2a1468"}},e.toDisplayString(t.$t("detail.jianjie")),1),e.createElementVNode("view",{class:"dangan"},e.toDisplayString(s.detail.desc),1),e.createElementVNode("view",{style:{display:"flex",padding:"10px 0","flex-wrap":"wrap"}},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.detail.hot_tags.split(","),((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass("item_"+i),key:i},e.toDisplayString(t),3)))),128))]),e.createElementVNode("view",{class:"main_title",style:{"margin-top":"10px",color:"#2a1468"}},e.toDisplayString(t.$t("detail.belike")),1),e.createElementVNode("view",{class:"like_are"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.guess_arr,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:"like_zi",key:i,onClick:e=>a.see_detail(t)},[e.createElementVNode("view",{class:"like_zi_are"},[e.createElementVNode("image",{src:t.img,class:"list_zi_img",mode:"widthFix"},null,8,["src"]),e.createElementVNode("view",{class:"like_zi_title"},[e.createElementVNode("view",null,e.toDisplayString(t.name),1),e.createElementVNode("view",null,[e.createVNode(l,{name:"eye-o",class:"l_ft_r"}),e.createTextVNode(e.toDisplayString(t.view_count),1)])])])],8,["onClick"])))),128))])])]),e.withDirectives(e.createElementVNode("view",null,[e.createElementVNode("view",{class:"com_bg"}),e.createElementVNode("view",{class:"com_main"},[e.createElementVNode("view",{class:"pop_mian"},[e.createElementVNode("view",{class:"pop_title"},e.toDisplayString(t.$t("pop.title")),1),e.createElementVNode("view",{style:{padding:"10px 15px",display:"flex","justify-content":"flex-start","line-height":"25px","flex-wrap":"wrap"}},e.toDisplayString(t.$t("pop.content2")),1),e.createElementVNode("view",{class:"pop_foot"},[e.createElementVNode("view",{class:"pop_ft_btn1",onClick:i[1]||(i[1]=e=>s.pop_notice=!1)},e.toDisplayString(t.$t("pop.close")),1),e.createElementVNode("view",{class:"pop_ft_btn2",onClick:i[2]||(i[2]=e=>a.pop_ok())},e.toDisplayString(t.$t("pop.up")),1)])])])],512),[[e.vShow,s.pop_notice]])])}],["__scopeId","data-v-e64263c9"]]);const nl=o({data(){return{year:0,data_index:0,ifdown:!1,ifpop:!1,page:1,pagesize:10,notice:this.$t("notice_list.load_m1"),loadingType:0,loadingText:"加载中...",contentText:{contendown:"上拉显示更多",contenrefresh:"正在加载...",contennomore:"没有更多数据了"},timer:{},minDate:1546275676,columns:[],empty_img:"",list:[]}},components:{},methods:{see_money(e){this.list[e].ifsee=!this.list[e].ifsee},see_detail(e){uni.navigateTo({url:"/pages/movie/notice/detail/detail?id="+e.id})},onChange(e){_("log","at pages/movie/notice/notice.vue:82",e)},onClose(){this.ifdown=!1},onSelect(e){this.ifdown=!1,this.year=e.detail.value,Toast.loading({duration:0,message:"加載中...",forbidClick:!0}),this.list=[],this.getList()},async getList(e){const t=await this.$myRuquest({url:"/api/front/notice/getList",method:"POST",data:{page:this.page,pagesize:this.pagesize,type:3}});200==t.code&&(this.list=[...this.list,...t.data.list]),e&&e()},formatNum(e){if(!e&&0!==e)return 0;let t=e.toString(),i=t.indexOf(".")>-1?/(\d)(?=(\d{3})+\.)/g:/(\d)(?=(?:\d{3})+$)/g;return t.replace(i,"$1,")},async getmorelists(){if(this.notice=this.$t("notice_list.load_m2"),0!==this.loadingType)return!1;this.loadingType=1,uni.showNavigationBarLoading(),this.page++;const e=await this.$myRuquest({url:"/api/front/notice/getList",method:"POST",data:{type:3,page:this.page,pagesize:this.pagesize}});if(200==e.code){if(this.page==Number(e.data.last_page))return this.loadingType=2,this.notice=this.$t("notice_list.load_m3"),void uni.hideNavigationBarLoading();this.list=this.list.concat(e.data.list),this.loadingType=0,uni.hideNavigationBarLoading()}}},onLoad(){this.list=[],this.getList()},onPullDownRefresh(){this.page=1,this.list=[],this.getList().then((e=>wx.stopPullDownRefresh()))},onReachBottom(){this.getmorelists()}},[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom"),l=e.resolveComponent("van-divider"),c=e.resolveComponent("van-icon");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("notice_list.title")),1)])),_:1}),e.createElementVNode("view",{class:"listare"},[0!==s.list.length?(e.openBlock(),e.createElementBlock("view",{key:0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.list,((i,o)=>(e.openBlock(),e.createElementBlock("view",{class:"li_are",key:o,onClick:e=>a.see_detail(i)},[e.createElementVNode("view",{class:"li_a_top"},[e.createTextVNode(e.toDisplayString(i.title)+" ",1),e.createElementVNode("view",{class:"li_a_top_p"},[e.createElementVNode("view",null,e.toDisplayString(i.desc),1)])]),e.createVNode(l),e.createElementVNode("view",{class:"li_a_top money_line"},[e.createElementVNode("view",{style:{width:"120px"}},e.toDisplayString(t.$t("notice_list.more"))+" >>",1),e.createElementVNode("view",{class:"money_lr"},[e.createVNode(c,{name:"arrow"})])])],8,["onClick"])))),128)),e.createElementVNode("view",{style:{"text-align":"center","line-height":"50px",color:"#ccc"}},e.toDisplayString(s.notice),1)])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"listare li_are"},[e.createElementVNode("view",{class:"empty_ico"},[e.createElementVNode("image",{src:Kr,style:{"margin-top":"3px"},mode:"widthFix"}),e.createElementVNode("view",{style:{"text-align":"center"}},e.toDisplayString(t.$t("notice_list.no_data")),1)])]))])])}],["__scopeId","data-v-18a7194c"]]);const sl=o({data:()=>({data_content:{},dd:"<p>dadasdsadas</p>"}),components:{},methods:{unescape:function(e){return e.replace(e?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'")},async get_detail(e){const t=await this.$myRuquest({url:"/api/front/notice/getInfo",method:"POST",data:{id:e}});200==t.code&&(this.data_content=t.data,this.data_content.content=this.unescape(this.data_content.content))},emojiToHtml(e){if(!e)return;let t=this.emojiMap;return e.replace(/\[!(\w+)\]/gi,(function(e,i){var o=i;return t[o]?'<img class=\'mr-5\' style="width:18px;height:18px" emoji-name="'.concat(i,'" src="').concat(t[o],'" />'):"[!".concat(i,"]")}))}},onLoad(e){this.get_detail(e.id)},onShow(){}},[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom"),l=y(e.resolveDynamicComponent("mp-html"),v);return e.openBlock(),e.createElementBlock("view",{style:{"background-color":"#190D30"}},[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("notice_list.title")),1)])),_:1}),e.createElementVNode("view",{class:"mainare"},[e.createElementVNode("view",{class:"msgheadare"},[e.createElementVNode("view",{class:"titel"},e.toDisplayString(s.data_content.title),1)]),e.withDirectives(e.createElementVNode("view",{class:"msg"},[e.createVNode(l,{content:s.data_content.content},null,8,["content"])],512),[[e.vShow,void 0!==s.data_content.content]])])])}],["__scopeId","data-v-85aa90ce"]]),al="/static/image/vip.jpg",rl="/static/image/right.png",ll=me(he);const cl=o({data:()=>({type_l1:0,userinfo:{},list:[],balance:0}),methods:{change_tab(e){this.type_l1=e},getList(){this.$api.third_openApi.get_level_list(this.params).then((e=>{0==e.code&&(this.list=e.data.data)}))},async get_userinfo_im(){let e=JSON.parse(JSON.stringify(ll.userInfo));const t=await this.$myRuquest({url:"/api/front/index/getImUserInfo",method:"POST",data:{user_id:e.user_id}});if(200==t.code){this.userinfo=t.data;let e=JSON.parse(JSON.stringify(t.data));ll.login(e)}},async get_userInfo(){const e=await this.$myRuquest({url:"/api/front/user/getUserInfo",method:"POST"});200==e.code&&(this.balance=e.data.balance)},async to_vip(){if(0==this.balance||this.balance<this.list[this.type_l1].price)return void uni.showToast({title:this.$t("usercenter.vip_p_pop_1"),icon:"none"});if(this.userinfo.islevel==this.list[this.type_l1].id)return void uni.showToast({title:this.$t("usercenter.vip_p_pop_2"),icon:"none"});if(this.userinfo.islevel>this.list[this.type_l1].id)return void uni.showToast({title:this.$t("usercenter.vip_p_pop_3"),icon:"none"});if(200==(await this.$myRuquest({url:"/api/front/index/changeImUserData",method:"POST",data:{user_id:this.userinfo.user_id,islevel:this.list[this.type_l1].id}})).code){uni.showToast({title:this.$t("usercenter.vip_p_pop_4"),icon:"none"}),this.userinfo.islevel=this.list[this.type_l1].id;let e=JSON.parse(JSON.stringify(this.userinfo));ll.login(e)}}},onShow(){this.getList(),this.get_userInfo(),this.get_userinfo_im()}},[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("usercenter.vip_p_title")),1)])),_:1}),e.createElementVNode("view",{style:{padding:"10px","max-height":"200px",position:"relative"}},[e.createElementVNode("image",{src:"/static/image/vip_top.png",mode:"widthFix",style:{width:"100%","max-height":"200px"}}),0==s.userinfo.islevel?(e.openBlock(),e.createElementBlock("view",{key:0,class:"item_btn",onClick:i[0]||(i[0]=(...e)=>a.to_vip&&a.to_vip(...e)),style:{position:"absolute",right:"32px",top:"70px"}},e.toDisplayString(t.$t("usercenter.vip_p_open")),1)):(e.openBlock(),e.createElementBlock("view",{key:1,class:"item_btn",onClick:i[1]||(i[1]=(...e)=>a.to_vip&&a.to_vip(...e)),style:{position:"absolute",right:"32px",top:"70px"}},e.toDisplayString(t.$t("usercenter.vip_p_up")),1)),e.createElementVNode("view",{class:"vip_are_p"},[e.createElementVNode("image",{src:s.userinfo.avatar,mode:"widthFix",style:{height:"30px",width:"30px","border-radius":"50%","margin-right":"5px"}},null,8,["src"]),0==s.userinfo.islevel?(e.openBlock(),e.createElementBlock("view",{key:0},e.toDisplayString(t.$t("usercenter.vip_p_desc1")),1)):e.createCommentVNode("",!0),21==s.userinfo.islevel?(e.openBlock(),e.createElementBlock("view",{key:1},e.toDisplayString(t.$t("usercenter.vip_p_desc2")),1)):e.createCommentVNode("",!0),22==s.userinfo.islevel?(e.openBlock(),e.createElementBlock("view",{key:2},e.toDisplayString(t.$t("usercenter.vip_p_desc3")),1)):e.createCommentVNode("",!0),23==s.userinfo.islevel?(e.openBlock(),e.createElementBlock("view",{key:3},e.toDisplayString(t.$t("usercenter.vip_p_desc4")),1)):e.createCommentVNode("",!0)])]),e.createElementVNode("view",{class:"tab_line"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.list,((i,o)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["tab_l_zi_are",{tab_l_zi_hover:s.type_l1==o}]),key:o,onClick:e=>a.change_tab(o)},[e.createElementVNode("view",{class:"tab_l_zi"},[e.createElementVNode("view",{class:"tab_l_top"},e.toDisplayString(i.price)+"元",1),e.createElementVNode("view",{class:"tab_l_day"},e.toDisplayString(i.name),1),e.createElementVNode("view",{style:{"text-align":"center"}}),0==i.istype?(e.openBlock(),e.createElementBlock("view",{key:0,class:"tab_l_ft"},e.toDisplayString(t.$t("usercenter.vip_p_desc8"))+e.toDisplayString(i.price)+"/"+e.toDisplayString(t.$t("usercenter.vip_p_desc5")),1)):e.createCommentVNode("",!0),1==i.istype?(e.openBlock(),e.createElementBlock("view",{key:1,class:"tab_l_ft"},e.toDisplayString(t.$t("usercenter.vip_p_desc8"))+e.toDisplayString(i.price)+"/"+e.toDisplayString(t.$t("usercenter.vip_p_desc6")),1)):e.createCommentVNode("",!0),2==i.istype?(e.openBlock(),e.createElementBlock("view",{key:2,class:"tab_l_ft"},e.toDisplayString(t.$t("usercenter.vip_p_desc8"))+e.toDisplayString(i.price)+"/"+e.toDisplayString(t.$t("usercenter.vip_p_desc7")),1)):e.createCommentVNode("",!0)])],10,["onClick"])))),128))]),e.withDirectives(e.createElementVNode("view",{class:"vip_ft"},[e.createElementVNode("view",{class:"vip_tit"},e.toDisplayString(t.$t("usercenter.vip_p_main")),1),e.createElementVNode("view",{style:{display:"flex",padding:"10px 0"}},[e.createElementVNode("view",null,[e.createElementVNode("image",{src:al,mode:"widthFix",style:{width:"50px"}})]),e.createElementVNode("view",{style:{"margin-left":"10px"}},[e.createElementVNode("view",{class:"vip_tit_zit"},e.toDisplayString(t.$t("usercenter.vip_p_nav1")),1),e.createElementVNode("view",{class:"vip_tit_zi"},e.toDisplayString(t.$t("usercenter.vip_p_nav1_1")),1)])]),e.createElementVNode("view",{style:{display:"flex",padding:"10px 0"}},[e.createElementVNode("view",null,[e.createElementVNode("image",{src:al,mode:"widthFix",style:{width:"50px"}})]),e.createElementVNode("view",{style:{"margin-left":"10px"}},[e.createElementVNode("view",{class:"vip_tit_zit"},e.toDisplayString(t.$t("usercenter.vip_p_nav2")),1),e.createElementVNode("view",{class:"vip_tit_zi"},e.toDisplayString(t.$t("usercenter.vip_p_nav1_2")),1)])]),e.createElementVNode("view",{style:{display:"flex",padding:"10px 0"}},[e.createElementVNode("view",null,[e.createElementVNode("image",{src:rl,mode:"widthFix",style:{width:"50px"}})]),e.createElementVNode("view",{style:{"margin-left":"10px"}},[e.createElementVNode("view",{class:"vip_tit_zit"},e.toDisplayString(0!==s.list.length?s.list[s.type_l1].iszan:0)+e.toDisplayString(t.$t("usercenter.vip_p_nav3")),1),e.createElementVNode("view",{class:"vip_tit_zi"},e.toDisplayString(t.$t("usercenter.vip_p_nav1_3")),1)])]),e.createElementVNode("view",{style:{display:"flex",padding:"10px 0"}},[e.createElementVNode("view",null,[e.createElementVNode("image",{src:al,mode:"widthFix",style:{width:"50px"}})]),e.createElementVNode("view",{style:{"margin-left":"10px"}},[e.createElementVNode("view",{class:"vip_tit_zit"},e.toDisplayString(t.$t("usercenter.vip_p_nav4"))+e.toDisplayString(0!==s.list.length?s.list[s.type_l1].isview:0)+e.toDisplayString(t.$t("usercenter.vip_p_nav4s")),1),e.createElementVNode("view",{class:"vip_tit_zi"},e.toDisplayString(t.$t("usercenter.vip_p_nav1_4")),1)])]),e.createElementVNode("view",{style:{display:"flex",padding:"10px 0"}},[e.createElementVNode("view",null,[e.createElementVNode("image",{src:al,mode:"widthFix",style:{width:"50px"}})]),e.createElementVNode("view",{style:{"margin-left":"10px"}},[e.createElementVNode("view",{class:"vip_tit_zit"},e.toDisplayString(t.$t("usercenter.vip_p_nav5")),1),e.createElementVNode("view",{class:"vip_tit_zi"},e.toDisplayString(t.$t("usercenter.vip_p_nav1_5")),1)])])],512),[[e.vShow,0==s.type_l1]]),e.withDirectives(e.createElementVNode("view",{class:"vip_ft"},[e.createElementVNode("view",{class:"vip_tit"},e.toDisplayString(t.$t("usercenter.vip_p_main")),1),e.createElementVNode("view",{style:{display:"flex",padding:"10px 0"}},[e.createElementVNode("view",null,[e.createElementVNode("image",{src:al,mode:"widthFix",style:{width:"50px"}})]),e.createElementVNode("view",{style:{"margin-left":"10px"}},[e.createElementVNode("view",{class:"vip_tit_zit"},e.toDisplayString(t.$t("usercenter.vip_p_nav2")),1),e.createElementVNode("view",{class:"vip_tit_zi"},e.toDisplayString(t.$t("usercenter.vip_p_nav1_2s")),1)])]),e.createElementVNode("view",{style:{display:"flex",padding:"10px 0"}},[e.createElementVNode("view",null,[e.createElementVNode("image",{src:rl,mode:"widthFix",style:{width:"50px"}})]),e.createElementVNode("view",{style:{"margin-left":"10px"}},[e.createElementVNode("view",{class:"vip_tit_zit"},e.toDisplayString(0!==s.list.length?s.list[s.type_l1].iszan:0)+e.toDisplayString(t.$t("usercenter.vip_p_nav3")),1),e.createElementVNode("view",{class:"vip_tit_zi"},e.toDisplayString(t.$t("usercenter.vip_p_nav1_3")),1)])]),e.createElementVNode("view",{style:{display:"flex",padding:"10px 0"}},[e.createElementVNode("view",null,[e.createElementVNode("image",{src:al,mode:"widthFix",style:{width:"50px"}})]),e.createElementVNode("view",{style:{"margin-left":"10px"}},[e.createElementVNode("view",{class:"vip_tit_zit"},e.toDisplayString(t.$t("usercenter.vip_p_nav4"))+e.toDisplayString(0!==s.list.length?s.list[s.type_l1].isview:0)+e.toDisplayString(t.$t("usercenter.vip_p_nav4s")),1),e.createElementVNode("view",{class:"vip_tit_zi"},e.toDisplayString(t.$t("usercenter.vip_p_nav1_4")),1)])]),e.createElementVNode("view",{style:{display:"flex",padding:"10px 0"}},[e.createElementVNode("view",null,[e.createElementVNode("image",{src:al,mode:"widthFix",style:{width:"50px"}})]),e.createElementVNode("view",{style:{"margin-left":"10px"}},[e.createElementVNode("view",{class:"vip_tit_zit"},e.toDisplayString(t.$t("usercenter.vip_p_nav5")),1),e.createElementVNode("view",{class:"vip_tit_zi"},e.toDisplayString(t.$t("usercenter.vip_p_nav1_5")),1)])])],512),[[e.vShow,1==s.type_l1]]),e.withDirectives(e.createElementVNode("view",{class:"vip_ft"},[e.createElementVNode("view",{class:"vip_tit"},e.toDisplayString(t.$t("usercenter.vip_p_main")),1),e.createElementVNode("view",{style:{display:"flex",padding:"10px 0"}},[e.createElementVNode("view",null,[e.createElementVNode("image",{src:al,mode:"widthFix",style:{width:"50px"}})]),e.createElementVNode("view",{style:{"margin-left":"10px"}},[e.createElementVNode("view",{class:"vip_tit_zit"},e.toDisplayString(t.$t("usercenter.vip_p_nav2")),1),e.createElementVNode("view",{class:"vip_tit_zi"},e.toDisplayString(t.$t("usercenter.vip_p_nav1_2")),1)])]),e.createElementVNode("view",{style:{display:"flex",padding:"10px 0"}},[e.createElementVNode("view",null,[e.createElementVNode("image",{src:rl,mode:"widthFix",style:{width:"50px"}})]),0!==s.list.length?(e.openBlock(),e.createElementBlock("view",{key:0,style:{"margin-left":"10px"}},[e.createElementVNode("view",{class:"vip_tit_zit"},e.toDisplayString(s.list[s.type_l1].iszan>999?t.$t("usercenter.vip_p_nav3s"):s.list[s.type_l1].iszan)+e.toDisplayString(t.$t("usercenter.vip_p_nav3")),1),e.createElementVNode("view",{class:"vip_tit_zi"},e.toDisplayString(t.$t("usercenter.vip_p_nav1_3")),1)])):e.createCommentVNode("",!0)]),0!==s.list.length?(e.openBlock(),e.createElementBlock("view",{key:0,style:{display:"flex",padding:"10px 0"}},[e.createElementVNode("view",null,[e.createElementVNode("image",{src:al,mode:"widthFix",style:{width:"50px"}})]),e.createElementVNode("view",{style:{"margin-left":"10px"}},[e.createElementVNode("view",{class:"vip_tit_zit"},e.toDisplayString(t.$t("usercenter.vip_p_nav4"))+e.toDisplayString(s.list[s.type_l1].isview>999?t.$t("usercenter.vip_p_nav3s"):s.list[s.type_l1].isview)+e.toDisplayString(t.$t("usercenter.vip_p_nav4s")),1),e.createElementVNode("view",{class:"vip_tit_zi"},e.toDisplayString(t.$t("usercenter.vip_p_nav1_4")),1)])])):e.createCommentVNode("",!0),e.createElementVNode("view",{style:{display:"flex",padding:"10px 0"}},[e.createElementVNode("view",null,[e.createElementVNode("image",{src:al,mode:"widthFix",style:{width:"50px"}})]),e.createElementVNode("view",{style:{"margin-left":"10px"}},[e.createElementVNode("view",{class:"vip_tit_zit"},e.toDisplayString(t.$t("usercenter.vip_p_nav5")),1),e.createElementVNode("view",{class:"vip_tit_zi"},e.toDisplayString(t.$t("usercenter.vip_p_nav1_5")),1)])])],512),[[e.vShow,2==s.type_l1]])])}],["__scopeId","data-v-373e4ead"]]);const dl=o({data:()=>({url:""}),methods:{async get_kefu_url(){const e=await this.$myRuquest({url:"/api/front/index/getKefuUrl",method:"POST",data:{page:1}});200==e.code&&(this.url=e.data)},to_kefu(e){1==e?uni.navigateTo({url:"/pages/movie/kefu/detail"}):window.location.href=this.url.other_val},copyCode(e){let t=e,i=document.createElement("input");i.value=t,document.body.appendChild(i),i.select(),document.execCommand("Copy"),Toast.success("已複製賬號"),i.remove()}},onLoad(){this.get_kefu_url()},onShow(){}},[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("server.title")),1)])),_:1}),e.createElementVNode("view",{class:"main"},[e.createElementVNode("view",{onClick:i[0]||(i[0]=e=>a.to_kefu(1)),class:"kf_item"},[e.createElementVNode("view",{class:"kf_itemico"},[e.createElementVNode("image",{src:"/static/image/online_i1.png",style:{width:"100%"},mode:"widthFix"}),e.createElementVNode("view",{style:{position:"absolute",left:"0",bottom:"64px",width:"100%"}},[e.createElementVNode("view",{style:{"text-align":"center",color:"#fff","font-size":"18px"}},e.toDisplayString(t.$t("server.meiqia")),1)])])]),e.createElementVNode("view",{onClick:i[1]||(i[1]=e=>a.to_kefu(2)),class:"kf_item"},[e.createElementVNode("view",{class:"kf_itemico"},[e.createElementVNode("image",{src:"/static/image/online_i2.png",style:{width:"100%"},mode:"widthFix"}),e.createElementVNode("view",{style:{position:"absolute",left:"0",bottom:"64px",width:"100%"}},[e.createElementVNode("view",{style:{"text-align":"center",color:"#fff","font-size":"18px"}},e.toDisplayString(t.$t("server.whatapp")),1)])])])])])}],["__scopeId","data-v-4e6170e1"]]);const ul=o({data:()=>({url:""}),methods:{async get_kefu_url(){const e=await this.$myRuquest({url:"/api/front/index/getKefuUrl",method:"POST",data:{page:1}});200==e.code&&(this.url=e.data.kefu_url)}},onLoad(){},onShow(){this.get_kefu_url()}},[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode("客服")])),_:1}),e.createElementVNode("view",{class:"main"},[e.createElementVNode("web-view",{src:s.url},null,8,["src"])])])}],["__scopeId","data-v-72b808ec"]]),ml="/static/image/nv.png",hl="/static/image/nan.png",pl=me(he);const gl=o({data(){return{pop_notice:!1,notice_type:1,notice_content:this.$t("pop.content4"),paddingB:0,total:0,params:{page:1,limit:10,is_mine:0},list:[],iflike:!1,had_likes:[],show_talk:!1,talk_data:{},fromUserid:"",fromUser:"",send_content:"",host:""}},methods:{bet_talk(e){this.show_talk=!0,this.talk_data=e},pop_ok(){uni.navigateTo({url:"/pages/movie/kefu/kefu"})},getList(){this.$api.third_openApi.like_me_index(this.params).then((e=>{if(0==e.code){let t=e.data.data;this.total=e.count,t.forEach((e=>{this.$set(e,"iflike",!1),this.$set(e,"isfar",(1.5*Math.random()+1).toFixed(2)),this.$set(e,"ifonline",Math.random()>=.5),this.$set(e,"istime",(.5*Math.random()+1).toFixed(2)),this.had_likes.forEach((t=>{e.account==t&&(e.iflike=!0)}))})),this.fromUser.islevel<22?this.list=t.slice(0,5):this.list=t}}))},setLike(e,t,i){var o={type:e,user_id:uni.getStorageSync("userInfo").user_id,user_account:t};1==e&&this.$api.third_openApi.near_user_like(o).then((e=>{0==e.code&&(this.list[i].iflike=!0)}))},async check_if_friend(e){if(0==this.fromUser.istalk&&0==this.fromUser.role)return this.pop_notice=!0,void(this.notice_type=1);var t=new Array;t.push(this.fromUser.user_id),t.push(e);200==(await this.$myRuquest({url:"/api/front/index/saveImUser",method:"POST",data:{users:t.toString()}})).code&&this.sendMessage(e)},sendMessage(e){let t={id:this.$util.getUuid(),is_group:0,fromUser:this.fromUser,type:"text",toContactId:e,content:this.send_content,sendTime:(new Date).getTime()};this.$api.msgApi.sendMessage(t).then((e=>{0==e.code?(this.show_talk=!1,this.notice_content=this.$t("pop.content6"),this.pop_notice=!0,this.notice_type=2,this.count_number()):uni.showToast({title:e.msg,icon:"none"})})).catch((e=>{}))},async count_number(){let e=JSON.parse(JSON.stringify(pl.userInfo));200==(await this.$myRuquest({url:"/api/front/index/changeImUserData",method:"POST",data:{user_id:e.user_id,column:"istalk"}})).code&&this.get_userinfo()},async get_userinfo(){let e=JSON.parse(JSON.stringify(pl.userInfo));const t=await this.$myRuquest({url:"/api/front/index/getImUserInfo",method:"POST",data:{user_id:e.user_id}});if(200==t.code){this.fromUser=t.data;let e=JSON.parse(JSON.stringify(t.data));pl.login(e)}}},created(){this.paddingB=this.navBarHeight+this.inlineTools,this.getList();var e=uni.getStorageSync("userInfo");this.had_likes=e.islikes.split(","),this.fromUser=uni.getStorageSync("userInfo"),this.host=this.$imgurl()}},[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom"),l=e.resolveComponent("Empty");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("like.title2")),1)])),_:1}),0!==s.list.length?(e.openBlock(),e.createElementBlock("view",{key:0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.list,((i,o)=>e.withDirectives((e.openBlock(),e.createElementBlock("view",{class:"user_line",key:o},[e.createElementVNode("view",{class:"user_l"},[null!==i.avatar?(e.openBlock(),e.createElementBlock("image",{key:0,src:s.host+i.avatar,style:{width:"80px",height:"80px","border-radius":"50%"}},null,8,["src"])):(e.openBlock(),e.createElementBlock("image",{key:1,src:st,style:{width:"80px",height:"80px","border-radius":"50%"}})),e.createElementVNode("view",{class:"item_like"},[i.ifonline?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cuIcon-title",onClick:e=>a.setLike(2,i.account,o)},null,8,["onClick"])):e.createCommentVNode("",!0)])]),e.createElementVNode("view",{class:"user_r"},[e.createElementVNode("view",{class:"item_name"},[e.createElementVNode("view",{style:{display:"flex"}},[0==i.sex?(e.openBlock(),e.createElementBlock("view",{key:0,class:"sex_ico"},[e.createElementVNode("image",{src:ml,style:{width:"100%"},mode:"widthFix"})])):e.createCommentVNode("",!0),1==i.sex?(e.openBlock(),e.createElementBlock("view",{key:1,class:"sex_ico"},[e.createElementVNode("image",{src:hl,style:{width:"100%"},mode:"widthFix"})])):e.createCommentVNode("",!0),e.createTextVNode(" "+e.toDisplayString(i.realname),1)]),e.createElementVNode("view",{class:"col_96",style:{display:"flex",width:"150px","justify-content":"flex-end"}},[e.createElementVNode("view",null,e.toDisplayString(i.isfar)+"km · ",1),i.ifonline?(e.openBlock(),e.createElementBlock("view",{key:0},e.toDisplayString(t.$t("like.like_msg_1")),1)):e.createCommentVNode("",!0),i.ifonline?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:1},e.toDisplayString(i.istime+t.$t("like.like_msg_2")),1))])]),e.createElementVNode("view",{style:{margin:"5px 0","text-align":"right"}},[e.createElementVNode("view",{class:"item_btn",onClick:e=>a.bet_talk(i)},e.toDisplayString(t.$t("like.talk")),9,["onClick"])]),""!==i.motto&&null!==i.motto?(e.openBlock(),e.createElementBlock("view",{key:0,class:"motto"},e.toDisplayString(t.$t("like.sine"))+"："+e.toDisplayString(i.motto),1)):e.createCommentVNode("",!0)])])),[[e.vShow,o<4]]))),128))])):(e.openBlock(),e.createBlock(l,{key:1,noDatatext:t.$t("like.no_data"),textcolor:"#999"},null,8,["noDatatext"])),e.withDirectives(e.createElementVNode("view",null,[e.createElementVNode("view",{class:"com_bg",onClick:i[0]||(i[0]=e=>s.show_talk=!1)}),e.createElementVNode("view",{class:"talk_mian"},[e.createElementVNode("view",{style:{width:"90%",margin:"auto"}},[e.createElementVNode("view",{class:"talk_ico"},[null!==s.talk_data.avatar?(e.openBlock(),e.createElementBlock("image",{key:0,src:s.talk_data.avatar,style:{width:"100%","border-radius":"50%",height:"80px"},mode:"widthFix"},null,8,["src"])):(e.openBlock(),e.createElementBlock("image",{key:1,src:st,style:{width:"100%","border-radius":"50%",height:"80px"},mode:"widthFix"}))]),e.createElementVNode("view",{class:"talk_name"},e.toDisplayString(s.talk_data.realname),1),e.createElementVNode("view",{class:"talk_desc"},[0==s.talk_data.sex?(e.openBlock(),e.createElementBlock("view",{key:0,class:"talk_sex p_type1"},[e.createElementVNode("view",{class:"sex_ico"},[e.createElementVNode("image",{src:et,style:{width:"100%"},mode:"widthFix"})]),e.createElementVNode("view",{style:{"line-height":"25px"}},e.toDisplayString(s.talk_data.ages),1)])):e.createCommentVNode("",!0),1==s.talk_data.sex?(e.openBlock(),e.createElementBlock("view",{key:1,class:"talk_sex p_type1"},[e.createElementVNode("view",{class:"sex_ico"},[e.createElementVNode("image",{src:tt,style:{width:"100%"},mode:"widthFix"})]),e.createElementVNode("view",{style:{"line-height":"25px"}},e.toDisplayString(s.talk_data.ages),1)])):e.createCommentVNode("",!0),2==s.talk_data.sex?(e.openBlock(),e.createElementBlock("view",{key:2,class:"talk_sex p_type3"},[e.createElementVNode("view",{style:{"line-height":"25px"}},e.toDisplayString(s.talk_data.ages),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"talk_sex p_type3"},[e.createElementVNode("view",{style:{"line-height":"25px"}},"vip-"+e.toDisplayString(s.talk_data.islevel),1)])]),e.createElementVNode("view",{class:"talk_form"},[e.createElementVNode("view",{style:{"padding-left":"10px"}},[e.withDirectives(e.createElementVNode("input",{placeholder:t.$t("like.talk_desc_1"),style:{height:"32px","font-size":"14px"},maxlength:"32",name:"input","onUpdate:modelValue":i[1]||(i[1]=e=>s.send_content=e)},null,8,["placeholder"]),[[e.vModelText,s.send_content]])]),e.createElementVNode("view",null,[e.createElementVNode("button",{class:"cu-btn bg-blue shadow",onClick:i[2]||(i[2]=e=>a.check_if_friend(s.talk_data.user_id))},e.toDisplayString(t.$t("like.send")),1)])])])])],512),[[e.vShow,s.show_talk]]),e.withDirectives(e.createElementVNode("view",null,[e.createElementVNode("view",{class:"com_bg"}),e.createElementVNode("view",{class:"com_main"},[e.createElementVNode("view",{class:"pop_mian"},[e.createElementVNode("view",{class:"pop_title"},e.toDisplayString(t.$t("pop.title")),1),e.createElementVNode("view",{style:{padding:"10px 15px","line-height":"25px","flex-wrap":"wrap","text-align":"center"}},e.toDisplayString(s.notice_content),1),e.createElementVNode("view",{class:"pop_foot"},[1==s.notice_type?(e.openBlock(),e.createElementBlock("view",{key:0,class:"pop_ft_btn1",onClick:i[3]||(i[3]=e=>s.pop_notice=!1)},e.toDisplayString(t.$t("pop.close")),1)):e.createCommentVNode("",!0),1==s.notice_type?(e.openBlock(),e.createElementBlock("view",{key:1,class:"pop_ft_btn2",onClick:i[4]||(i[4]=e=>a.pop_ok())},e.toDisplayString(t.$t("pop.up")),1)):e.createCommentVNode("",!0),2==s.notice_type?(e.openBlock(),e.createElementBlock("view",{key:2,class:"pop_ft_btn2",onClick:i[5]||(i[5]=e=>s.pop_notice=!1)},e.toDisplayString(t.$t("pop.ok")),1)):e.createCommentVNode("",!0)])])])],512),[[e.vShow,s.pop_notice]])])}],["__scopeId","data-v-818fb87b"]]),fl=me(he);const vl=o({data:()=>({paddingB:0,total:0,params:{page:1,limit:10,is_mine:0},list:[],iflike:!1,had_likes:[],likes_arr:[],host:""}),methods:{getList(){let e=JSON.parse(JSON.stringify(fl.userInfo));this.$api.third_openApi.near_user_List(this.params).then((t=>{if(0==t.code){let i=t.data.data;this.total=t.count,i.forEach((e=>{this.$set(e,"iflike",!1),this.$set(e,"isfar",(1.5*Math.random()+1).toFixed(2)),this.$set(e,"ifonline",Math.random()>=.5),this.$set(e,"istime",(.5*Math.random()+1).toFixed(2)),0!==this.had_likes.length&&this.had_likes.forEach((t=>{e.account==t&&(e.iflike=!0,this.likes_arr.push(e))}))})),0==e.islevel?this.list=i.slice(0,5):this.list=i}}))},setLike(e,t,i){var o={type:e,user_id:uni.getStorageSync("userInfo").user_id,user_account:t};1==e&&this.$api.third_openApi.near_user_like(o).then((e=>{0==e.code&&(this.list[i].iflike=!0)}))}},created(){this.paddingB=this.navBarHeight+this.inlineTools,this.getList();var e=uni.getStorageSync("userInfo");this.had_likes=e.islikes.split(","),this.host=this.$imgurl()}},[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom"),l=e.resolveComponent("Empty");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode(e.toDisplayString(t.$t("like.title")),1)])),_:1}),0!==s.likes_arr.length?(e.openBlock(),e.createElementBlock("view",{key:0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.likes_arr,((i,o)=>e.withDirectives((e.openBlock(),e.createElementBlock("view",{class:"user_line",key:o},[e.createElementVNode("view",{class:"user_l"},[e.createElementVNode("view",{style:{display:"flex"}},[0==i.sex?(e.openBlock(),e.createElementBlock("view",{key:0,class:"sex_ico"},[e.createElementVNode("image",{src:ml,style:{width:"100%"},mode:"widthFix"})])):e.createCommentVNode("",!0),1==i.sex?(e.openBlock(),e.createElementBlock("view",{key:1,class:"sex_ico"},[e.createElementVNode("image",{src:hl,style:{width:"100%"},mode:"widthFix"})])):e.createCommentVNode("",!0),null!==i.avatar?(e.openBlock(),e.createElementBlock("image",{key:2,src:s.host+i.avatar,style:{width:"80px",height:"80px","border-radius":"50%"}},null,8,["src"])):(e.openBlock(),e.createElementBlock("image",{key:3,src:st,style:{width:"80px",height:"80px","border-radius":"50%"}}))]),e.createElementVNode("view",{class:"item_like"},[i.ifonline?(e.openBlock(),e.createElementBlock("view",{key:0,class:"cuIcon-title",onClick:e=>a.setLike(2,i.account,o)},null,8,["onClick"])):e.createCommentVNode("",!0)])]),e.createElementVNode("view",{class:"user_r"},[e.createElementVNode("view",{class:"item_name"},[e.createTextVNode(e.toDisplayString(i.realname)+" ",1),e.createElementVNode("view",{class:"col_96",style:{display:"flex",width:"150px","justify-content":"flex-end"}},[e.createElementVNode("view",null,e.toDisplayString(i.isfar)+"km · ",1),i.ifonline?(e.openBlock(),e.createElementBlock("view",{key:0},"在线")):e.createCommentVNode("",!0),i.ifonline?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("view",{key:1},e.toDisplayString(i.istime)+"小时",1))])]),e.createElementVNode("view",{style:{margin:"5px 0"}},[0==i.sex?(e.openBlock(),e.createElementBlock("view",{key:0,class:"p_type p_type1"},e.toDisplayString(t.$t("like.sex_nv")),1)):e.createCommentVNode("",!0),1==i.sex?(e.openBlock(),e.createElementBlock("view",{key:1,class:"p_type p_type2"},e.toDisplayString(t.$t("like.sex_nan")),1)):e.createCommentVNode("",!0)]),""!==i.motto&&null!==i.motto?(e.openBlock(),e.createElementBlock("view",{key:0,class:"motto"},e.toDisplayString(t.$t("like.sine"))+"："+e.toDisplayString(i.motto),1)):e.createCommentVNode("",!0)])])),[[e.vShow,o<4]]))),128))])):(e.openBlock(),e.createBlock(l,{key:1,noDatatext:t.$t("like.no_data"),textcolor:"#999"},null,8,["noDatatext"]))])}],["__scopeId","data-v-8606e13e"]]),_l=50,yl={name:"yq-avatar",data:()=>({csH:"0px",sD:"none",sT:"-10000px",pT:"-10000px",iS:{},sS:{},sO:!0,bW:"19%",bD:"flex",tp:0,imgSrc:{imgSrc:""}}),watch:{avatarSrc(){this.imgSrc.imgSrc=this.avatarSrc}},computed:{inlineH(){return this.inlineTools}},props:{avatarSrc:"",avatarStyle:"",selWidth:"",selHeight:"",expWidth:"",expHeight:"",minScale:"",maxScale:"",canScale:"",canRotate:"",lockWidth:"",lockHeight:"",stretch:"",lock:"",fileType:"",noTab:"",inner:"",quality:"",index:"",bgImage:""},created(){this.cc=uni.createCanvasContext("avatar-canvas",this),this.cco=uni.createCanvasContext("oper-canvas",this),this.ccp=uni.createCanvasContext("prv-canvas",this),this.qlty=parseFloat(this.quality)||1,this.imgSrc.imgSrc=this.avatarSrc,this.letRotate=!1===this.canRotate||!0===this.inner||"true"===this.inner||"false"===this.canRotate?0:1,this.letScale=!1===this.canScale||"false"===this.canScale?0:1,this.isin=!0===this.inner||"true"===this.inner?1:0,this.indx=this.index||void 0,this.mnScale=parseFloat(this.minScale)||.3,this.mxScale=parseFloat(this.maxScale)||4,this.noBar=!0===this.noTab||"true"===this.noTab?1:0,this.stc=this.stretch,this.lck=this.lock,this.fType="jpg"===this.fileType?"jpg":"png",this.isin||!this.letRotate?(this.bW="24%",this.bD="none"):(this.bW="19%",this.bD="flex"),this.noBar?this.fWindowResize():uni.showTabBar({fail:()=>{this.noBar=1},success:()=>{this.noBar=0},complete:e=>{this.fWindowResize()}})},methods:{fWindowResize(){let e=uni.getSystemInfoSync();this.platform=e.platform,this.wW=e.windowWidth,this.drawTop=0,this.wH=e.windowHeight,this.noBar||(this.wH+=_l),this.csH=this.wH-_l-this.inlineH+"px",this.tp=this.csH,this.pxRatio=this.wW/750;let t=this.avatarStyle;if(t&&!0!==t&&(t=t.trim())){t=t.split(";");let e={};for(let i of t)if(i){if(i=i.trim().split(":"),i[1].toString().indexOf("upx")>=0){let e=i[1].trim().split(" ");for(let t in e)e[t]&&e[t].toString().indexOf("upx")>=0&&(e[t]=parseFloat(e[t])*this.pxRatio+"px");i[1]=e.join(" ")}e[i[0].trim()]=i[1].trim()}this.iS=e}this.expWidth&&(this.eW=this.expWidth.toString().indexOf("upx")>=0?parseInt(this.expWidth)*this.pxRatio:parseInt(this.expWidth)),this.expHeight&&(this.eH=this.expHeight.toString().indexOf("upx")>=0?parseInt(this.expHeight)*this.pxRatio:parseInt(this.expHeight)),"flex"===this.sD&&this.fDrawInit(!0),this.fHideImg()},fSelect(){this.fSelecting||(this.fSelecting=!0,setTimeout((()=>{this.fSelecting=!1}),500),uni.chooseImage({count:1,sizeType:["original","compressed"],sourceType:["album","camera"],success:e=>{uni.showLoading({title:"加载中...",mask:!0});let t=this.imgPath=e.tempFilePaths[0];uni.getImageInfo({src:t,success:e=>{if(this.imgWidth=e.width,this.imgHeight=e.height,this.path=t,!this.hasSel){let e=this.sS||{};if(!this.selWidth||!this.selHeight)return void uni.showModal({title:"裁剪框的宽或高没有设置",showCancel:!1});{let t=this.selWidth.toString().indexOf("upx")>=0?parseInt(this.selWidth)*this.pxRatio:parseInt(this.selWidth),i=this.selHeight.toString().indexOf("upx")>=0?parseInt(this.selHeight)*this.pxRatio:parseInt(this.selHeight);e.width=t+"px",e.height=i+"px",e.top=(this.wH-i-_l|0)/2+"px",e.left=(this.wW-t|0)/2+"px"}this.sS=e}this.noBar?this.fDrawInit(!0):uni.hideTabBar({complete:()=>{this.fDrawInit(!0)}})},fail:()=>{uni.showToast({title:"请选择正确图片",duration:2e3})},complete(){uni.hideLoading()}})}}))},fUpload(){if(this.fUploading)return;this.fUploading=!0,setTimeout((()=>{this.fUploading=!1}),1e3);let e=this.sS,t=parseInt(e.left),i=parseInt(e.top),o=parseInt(e.width),n=parseInt(e.height),s=this.eW||o*this.pixelRatio,a=this.eH||n*this.pixelRatio;uni.showLoading({title:"加载中...",mask:!0}),this.sD="none",this.sT="-10000px",this.hasSel=!1,this.fHideImg(),uni.canvasToTempFilePath({x:t,y:i,width:o,height:n,destWidth:s,destHeight:a,canvasId:"avatar-canvas",fileType:this.fType,quality:this.qlty,success:e=>{e=e.tempFilePath,this.$emit("upload",{avatar:this.imgSrc,path:e,index:this.indx,data:this.rtn,base64:this.base64||null})},fail:e=>{uni.showToast({title:"error1",duration:2e3})},complete:()=>{uni.hideLoading(),this.noBar||uni.showTabBar(),this.$emit("end")}},this)},fPrvUpload(){if(this.fPrvUploading)return;this.fPrvUploading=!0,setTimeout((()=>{this.fPrvUploading=!1}),1e3);let e=this.sS;parseInt(e.width),parseInt(e.height);let t=this.prvX,i=this.prvY,o=this.prvWidth,n=this.prvHeight,s=this.eW||parseInt(e.width)*this.pixelRatio,a=this.eH||parseInt(e.height)*this.pixelRatio;uni.showLoading({title:"加载中...",mask:!0}),this.sD="none",this.sT="-10000px",this.hasSel=!1,this.fHideImg(),uni.canvasToTempFilePath({x:t,y:i,width:o,height:n,destWidth:s,destHeight:a,canvasId:"prv-canvas",fileType:this.fType,quality:this.qlty,success:e=>{e=e.tempFilePath,this.$emit("upload",{avatar:this.imgSrc,path:e,index:this.indx,data:this.rtn,base64:this.base64||null})},fail:()=>{uni.showToast({title:"error_prv",duration:2e3})},complete:()=>{uni.hideLoading(),this.noBar||uni.showTabBar(),this.$emit("end")}},this)},fDrawInit(e=!1){let t=this.wW,i=this.wH,o=this.imgWidth,n=this.imgHeight,s=o/n,a=t-40,r=i-_l-80,l=a/r,c=parseInt(this.sS.width),d=parseInt(this.sS.height);switch(this.fixWidth=0,this.fixHeight=0,this.lckWidth=0,this.lckHeight=0,this.stc){case"x":this.fixWidth=1;break;case"y":this.fixHeight=1;break;case"long":s>1?this.fixWidth=1:this.fixHeight=1;break;case"short":s>1?this.fixHeight=1:this.fixWidth=1;break;case"longSel":c>d?this.fixWidth=1:this.fixHeight=1;break;case"shortSel":c>d?this.fixHeight=1:this.fixWidth=1}switch(this.lck){case"x":this.lckWidth=1;break;case"y":this.lckHeight=1;break;case"long":s>1?this.lckWidth=1:this.lckHeight=1;break;case"short":s>1?this.lckHeight=1:this.lckWidth=1;break;case"longSel":c>d?this.lckWidth=1:this.lckHeight=1;break;case"shortSel":c>d?this.lckHeight=1:this.lckWidth=1}this.fixWidth?(a=c,r=a/s):this.fixHeight?(r=d,a=r*s):s<l?n<r?(a=o,r=n):a=r*s:o<a?(a=o,r=n):r=a/s,this.isin&&(a<c&&(a=c,r=a/s,this.lckHeight=0),r<d&&(r=d,a=r*s,this.lckWidth=0)),this.scaleSize=1,this.rotateDeg=0,this.posWidth=(t-a)/2|0,this.posHeight=(i-r-_l)/2|0,this.useWidth=0|a,this.useHeight=0|r,this.centerX=this.posWidth+a/2,this.centerY=this.posHeight+r/2,this.focusX=0,this.focusY=0;let u=this.sS,m=parseInt(u.left),h=parseInt(u.top),p=parseInt(u.width),g=parseInt(u.height);this.canvas,this.canvasOper,this.cc;let f=this.cco;f.beginPath(),f.setLineWidth(3),f.setGlobalAlpha(1),f.setStrokeStyle("white"),f.strokeRect(m,h,p,g),f.setFillStyle("black"),f.setGlobalAlpha(.5),f.fillRect(0,0,this.wW,h),f.fillRect(0,h,m,g),f.fillRect(0,h+g,this.wW,this.wH-g-h-_l),f.fillRect(m+p,h,this.wW-p-m,g),f.setGlobalAlpha(1),f.setStrokeStyle("red"),f.moveTo(m+15,h),f.lineTo(m,h),f.lineTo(m,h+15),f.moveTo(m+p-15,h),f.lineTo(m+p,h),f.lineTo(m+p,h+15),f.moveTo(m+15,h+g),f.lineTo(m,h+g),f.lineTo(m,h+g-15),f.moveTo(m+p-15,h+g),f.lineTo(m+p,h+g),f.lineTo(m+p,h+g-15),f.stroke(),f.draw(!1,(()=>{e&&(this.sD="flex",this.sT=this.drawTop+"px",this.fDrawImage(!0))})),this.$emit("init")},fDrawImage(e=!1){let t=Date.now();if(t-this.drawTm<20)return;this.drawTm=t;let i=this.cc,o=this.useWidth*this.scaleSize,n=this.useHeight*this.scaleSize;if(this.bgImage?i.drawImage(this.bgImage,0,0,this.wW,this.wH-_l):i.fillRect(0,0,this.wW,this.wH-_l),this.isin){let e=this.focusX*(this.scaleSize-1),t=this.focusY*(this.scaleSize-1);i.translate(this.centerX,this.centerY),i.rotate(this.rotateDeg*Math.PI/180),i.drawImage(this.imgPath,this.posWidth-this.centerX-e,this.posHeight-this.centerY-t,o,n)}else i.translate(this.posWidth+o/2,this.posHeight+n/2),i.rotate(this.rotateDeg*Math.PI/180),i.drawImage(this.imgPath,-o/2,-n/2,o,n);i.draw(!1)},fPreview(){if(this.fPreviewing)return;this.fPreviewing=!0,setTimeout((()=>{this.fPreviewing=!1}),1e3);let e=this.sS,t=parseInt(e.left),i=parseInt(e.top),o=parseInt(e.width),n=parseInt(e.height);uni.showLoading({title:"加载中...",mask:!0}),uni.canvasToTempFilePath({x:t,y:i,width:o,height:n,expWidth:o*this.pixelRatio,expHeight:n*this.pixelRatio,canvasId:"avatar-canvas",fileType:this.fType,quality:this.qlty,success:e=>{this.prvImgTmp=e=e.tempFilePath;let t=this.ccp,i=this.wW,o=parseInt(this.csH);"android"===this.platform&&(o+=_l);let n=parseInt(this.sS.width),s=parseInt(this.sS.height),a=i-40,r=o-80,l=a/n,c=s*l;c<r?(n=a,s=c):(l=r/s,n*=l,s=r),t.fillRect(0,0,i,o),this.prvX=i=(i-n)/2|0,this.prvY=o=(o-s)/2|0,this.prvWidth=n|=0,this.prvHeight=s|=0,t.drawImage(e,i,o,n,s),t.draw(!1),this.sO=!1,this.pT=this.drawTop+"px"},fail:()=>{uni.showToast({title:"error2",duration:2e3})},complete:()=>{uni.hideLoading()}},this)},fChooseImg(e,t,i){if(t){let e=t.selWidth,i=t.selHeight,o=t.expWidth,n=t.expHeight,s=t.quality,a=t.canRotate,r=t.canScale,l=t.minScale,c=t.maxScale,d=t.stretch,u=t.fileType,m=t.inner,h=t.lock;o&&(this.eW=o.toString().indexOf("upx")>=0?parseInt(o)*this.pxRatio:parseInt(o)),n&&(this.eH=n.toString().indexOf("upx")>=0?parseInt(n)*this.pxRatio:parseInt(n)),this.letRotate=!1===a||!0===m||"true"===m||"false"===a?0:1,this.letScale=!1===r||"false"===r?0:1,this.qlty=parseFloat(s)||1,this.mnScale=parseFloat(l)||.3,this.mxScale=parseFloat(c)||4,this.stc=d,this.isin=!0===m||"true"===m?1:0,this.fType="jpg"===u?"jpg":"png",this.lck=h,this.isin||!this.letRotate?(this.bW="24%",this.bD="none"):(this.bW="19%",this.bD="flex"),e&&i&&(e=e.toString().indexOf("upx")>=0?parseInt(e)*this.pxRatio:parseInt(e),i=i.toString().indexOf("upx")>=0?parseInt(i)*this.pxRatio:parseInt(i),this.sS.width=e+"px",this.sS.height=i+"px",this.sS.top=(this.wH-i-_l|0)/2+"px",this.sS.left=(this.wW-e|0)/2+"px",this.hasSel=!0)}this.rtn=i,this.indx=e,this.fSelect()},fRotate(){this.rotateDeg+=90-this.rotateDeg%90,this.fDrawImage()},fStart(e){let t=e.touches,i=t[0],o=t[1];if(this.touch0=i,this.touch1=o,o){let e=o.x-i.x,t=o.y-i.y;this.fgDistance=Math.sqrt(e*e+t*t)}},fMove(e){let t=e.touches,i=t[0],o=t[1];if(o){let e=o.x-i.x,t=o.y-i.y,n=Math.sqrt(e*e+t*t),s=.005*(n-this.fgDistance),a=this.scaleSize+s;do{if(!this.letScale)break;if(a<this.mnScale)break;if(a>this.mxScale)break;let e=this.useWidth*s/2,t=this.useHeight*s/2;if(this.isin){let i=this.useWidth*a,o=this.useHeight*a;this.posWidth,this.posHeight;let n,s,r=parseInt(this.sS.left),l=parseInt(this.sS.top),c=parseInt(this.sS.width),d=parseInt(this.sS.height),u=r+c,m=l+d;if(i<=c||o<=d)break;this.cx=n=this.focusX*a-this.focusX,this.cy=s=this.focusY*a-this.focusY,this.posWidth-=e,this.posHeight-=t,this.posWidth-n>r&&(this.posWidth=r+n),this.posWidth+i-n<u&&(this.posWidth=u-i+n),this.posHeight-s>l&&(this.posHeight=l+s),this.posHeight+o-s<m&&(this.posHeight=m-o+s)}else this.posWidth-=e,this.posHeight-=t;this.scaleSize=a}while(0);this.fgDistance=n,o.x!==i.x&&this.letRotate&&(e=(this.touch1.y-this.touch0.y)/(this.touch1.x-this.touch0.x),t=(o.y-i.y)/(o.x-i.x),this.rotateDeg+=180*Math.atan((t-e)/(1+e*t))/Math.PI,this.touch0=i,this.touch1=o),this.fDrawImage()}else if(this.touch0){let e=i.x-this.touch0.x,t=i.y-this.touch0.y,o=this.posWidth+e,n=this.posHeight+t;if(this.isin){let i,s,a=this.useWidth*this.scaleSize,r=this.useHeight*this.scaleSize,l=o,c=n,d=l+a,u=c+r,m=parseInt(this.sS.left),h=parseInt(this.sS.top),p=m+parseInt(this.sS.width),g=h+parseInt(this.sS.height);this.cx=i=this.focusX*this.scaleSize-this.focusX,this.cy=s=this.focusY*this.scaleSize-this.focusY,!this.lckWidth&&Math.abs(e)<100&&(m<l-i?this.posWidth=m+i:p>d-i?this.posWidth=p-a+i:(this.posWidth=o,this.focusX-=e)),!this.lckHeight&&Math.abs(t)<100&&(h<c-s?(this.focusY-=h+s-this.posHeight,this.posHeight=h+s):g>u-s?(this.focusY-=g+s-(this.posHeight+r),this.posHeight=g-r+s):(this.posHeight=n,this.focusY-=t))}else Math.abs(e)<100&&!this.lckWidth&&(this.posWidth=o),Math.abs(t)<100&&!this.lckHeight&&(this.posHeight=n),this.focusX-=e,this.focusY-=t;this.touch0=i,this.fDrawImage()}},fEnd(e){let t=e.touches,i=t&&t[0];t&&t[1],i?this.touch0=i:(this.touch0=null,this.touch1=null)},fHideImg(){this.prvImg="",this.pT="-10000px",this.sO=!0,this.prvImgData=null,this.target=null},fClose(){this.sD="none",this.sT="-10000px",this.hasSel=!1,this.fHideImg(),this.noBar||uni.showTabBar(),this.$emit("end")},fGetImgData(){return new Promise(((e,t)=>{let i=this.prvX,o=this.prvY,n=this.prvWidth,s=this.prvHeight;uni.canvasGetImageData({canvasId:"prv-canvas",x:i,y:o,width:n,height:s,success(t){e(t.data)},fail(e){t(e)}},this)}))},async fColorChange(e){let t=Date.now();if(t-this.prvTm<100)return;if(this.prvTm=t,uni.showLoading({title:"加载中...",mask:!0}),!this.prvImgData){if(!(this.prvImgData=await this.fGetImgData().catch((()=>{uni.showToast({title:"error_read",duration:2e3})}))))return;this.target=new Uint8ClampedArray(this.prvImgData.length)}let i,o,n,s,a,r,l,c,d,u,m,h,p,g,f,v,_=this.prvImgData,y=this.target,w=e.detail.value;if(0===w)y=_;else{w=(w+100)/200,w<.005&&(w=0),w>.995&&(w=1);for(let e=_.length-1;e>=0;e-=4){if(i=_[e-3]/255,o=_[e-2]/255,n=_[e-1]/255,h=Math.max(i,o,n),m=Math.min(i,o,n),c=h-m,h===m?a=0:h===i&&o>=n?a=(o-n)/c*60:h===i&&o<n?a=(o-n)/c*60+360:h===o?a=(n-i)/c*60+120:h===n&&(a=(i-o)/c*60+240),l=(h+m)/2,0===l||h===m?r=0:0<l&&l<=.5?r=c/(2*l):l>.5&&(r=c/(2-2*l)),_[e]&&(s=_[e]),w<.5?r=r*w/.5:w>.5&&(r=2*r+2*w-r*w/.5-1),0===r)i=o=n=Math.round(255*l);else{l<.5?u=l*(1+r):l>=.5&&(u=l+r-l*r),d=2*l-u,p=a/360,g=p+1/3,f=p,v=p-1/3;let e=e=>e<0?e+1:e>1?e-1:e,t=e=>e<1/6?d+6*(u-d)*e:e>=1/6&&e<.5?u:e>=.5&&e<2/3?d+6*(u-d)*(2/3-e):d;i=g=Math.round(255*t(e(g))),o=f=Math.round(255*t(e(f))),n=v=Math.round(255*t(e(v)))}s&&(y[e]=s),y[e-3]=i,y[e-2]=o,y[e-1]=n}}let k=this.prvX,x=this.prvY,b=this.prvWidth,C=this.prvHeight;uni.canvasPutImageData({canvasId:"prv-canvas",x:k,y:x,width:b,height:C,data:y,fail(){uni.showToast({title:"error_put",duration:2e3})},complete(){uni.hideLoading()}},this)},btop(e){return this.base64=e,new Promise((function(t,i){for(var o=e.split(","),n=o[0].match(/:(.*?);/)[1],s=atob(o[1]),a=s.length,r=new Uint8Array(a);a--;)r[a]=s.charCodeAt(a);return t((window.URL||window.webkitURL).createObjectURL(new Blob([r],{type:n})))}))}}};const wl=o(yl,[["render",function(t,i,o,n,s,a){return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("image",{src:s.imgSrc.imgSrc,onClick:i[0]||(i[0]=(...e)=>a.fSelect&&a.fSelect(...e)),style:{width:"100%"}},null,8,["src"]),e.createElementVNode("canvas",{"canvas-id":"avatar-canvas",id:"avatar-canvas",class:"my-canvas",style:e.normalizeStyle({top:s.sT,height:s.csH}),"disable-scroll":"false"},null,4),e.createElementVNode("canvas",{"canvas-id":"oper-canvas",id:"oper-canvas",class:"oper-canvas",style:e.normalizeStyle({top:s.sT,height:s.csH}),"disable-scroll":"false",onTouchstart:i[1]||(i[1]=(...e)=>a.fStart&&a.fStart(...e)),onTouchmove:i[2]||(i[2]=(...e)=>a.fMove&&a.fMove(...e)),onTouchend:i[3]||(i[3]=(...e)=>a.fEnd&&a.fEnd(...e))},null,36),e.createElementVNode("canvas",{"canvas-id":"prv-canvas",id:"prv-canvas",class:"prv-canvas","disable-scroll":"false",onTouchstart:i[4]||(i[4]=(...e)=>a.fHideImg&&a.fHideImg(...e)),style:e.normalizeStyle({height:s.csH,top:s.pT})},null,36),e.createElementVNode("view",{class:"oper-wrapper",style:e.normalizeStyle({display:s.sD,bottom:0,paddingBottom:a.inlineH+"px",height:50+a.inlineH+"px"})},[e.createElementVNode("view",{class:"oper"},[s.sO?(e.openBlock(),e.createElementBlock("view",{key:0,class:"btn-wrapper"},[e.createElementVNode("view",{onClick:i[5]||(i[5]=(...e)=>a.fSelect&&a.fSelect(...e)),"hover-class":"hover",style:e.normalizeStyle({width:s.bW})},[e.createElementVNode("text",null,"重选")],4),e.createElementVNode("view",{onClick:i[6]||(i[6]=(...e)=>a.fClose&&a.fClose(...e)),"hover-class":"hover",style:e.normalizeStyle({width:s.bW})},[e.createElementVNode("text",null,"关闭")],4),e.createElementVNode("view",{onClick:i[7]||(i[7]=(...e)=>a.fRotate&&a.fRotate(...e)),"hover-class":"hover",style:e.normalizeStyle({width:s.bW,display:s.bD})},[e.createElementVNode("text",null,"旋转")],4),e.createElementVNode("view",{onClick:i[8]||(i[8]=(...e)=>a.fPreview&&a.fPreview(...e)),"hover-class":"hover",style:e.normalizeStyle({width:s.bW})},[e.createElementVNode("text",null,"预览")],4),e.createElementVNode("view",{onClick:i[9]||(i[9]=(...e)=>a.fUpload&&a.fUpload(...e)),"hover-class":"hover",style:e.normalizeStyle({width:s.bW})},[e.createElementVNode("text",null,"上传")],4)])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"clr-wrapper"},[e.createElementVNode("slider",{class:"my-slider",onChange:i[10]||(i[10]=(...e)=>a.fColorChange&&a.fColorChange(...e)),"block-size":"25",value:"0",min:"-100",max:"100",activeColor:"red",backgroundColor:"green","block-color":"grey","show-value":""},null,32),e.createElementVNode("view",{onClick:i[11]||(i[11]=(...e)=>a.fPrvUpload&&a.fPrvUpload(...e)),"hover-class":"hover",style:e.normalizeStyle({width:s.bW})},[e.createElementVNode("text",null,"上传")],4)]))])],4)])}],["__scopeId","data-v-8b34bea6"]]),kl=me(he),xl={components:{avatar:wl},data:()=>({loginStore:kl,globalConfig:kl.globalConfig,userInfo:{},sexList:[{id:"2",name:"未知"},{id:"1",name:"男"},{id:"0",name:"女"}],saved:!1,balance:"0.00",tabs_arr:[{id:1,name:"封面图",ifshow:!1},{id:2,name:"详细图",ifshow:!1}],tabs:0}),mounted(){this.get_userInfo(),this.userInfo=JSON.parse(JSON.stringify(kl.userInfo)),_("log","at pages/mine/run_img.vue:123","ffffff",this.userInfo)},methods:{tab_change(e){this.tabs=e},async get_userInfo(){const e=await this.$myRuquest({url:"/api/front/user/getUserInfo",method:"POST"});200==e.code&&(this.balance=e.data.balance)},logout(){let e=uni.getStorageSync("client_id");this.$api.LoginApi.logout({client_id:e}).then((e=>{0==e.code&&kl.logout()}))},textareaBInput(e){this.userInfo.motto=e.detail.value},changeSex(e){this.userInfo.sex=parseInt(e.detail.value)},saveInfo(){if(""==this.userInfo.realname)return uni.showToast({title:"请输入昵称",icon:"none"}),!1;this.saved=!0;let e={realname:this.userInfo.realname,email:this.userInfo.email,sex:this.userInfo.sex,motto:this.userInfo.motto,ages:this.userInfo.ages};this.$api.msgApi.updateUserInfo(e).then((e=>{if(0==e.code){uni.showToast({title:"保存成功",icon:"none"});let e=JSON.parse(JSON.stringify(this.userInfo));kl.login(e)}})),setTimeout((()=>{this.saved=!1}),8e3)},setAvatar(){uni.navigateTo({url:"/pages/mine/avatar"})},uploadAvatar(e){uni.showLoading({title:"上传中..."}),uni.uploadFile({url:this.$api.msgApi.uploadAvatar,filePath:e.path,name:"file",header:{Authorization:uni.getStorageSync("authToken")},formData:{ext:"png"},success:e=>{uni.hideLoading();let t=JSON.parse(e.data);if(0==t.code){uni.showToast({title:t.msg,icon:"none"}),this.userInfo.avatar=t.data;let e=JSON.parse(JSON.stringify(this.userInfo));kl.login(e)}},fail:e=>{uni.hideLoading()}})}}};const bl=o(xl,[["render",function(t,i,o,n,s,a){const r=e.resolveComponent("cu-custom"),l=e.resolveComponent("avatar");return e.openBlock(),e.createElementBlock("view",null,[e.createVNode(r,{bgColor:"bg-gradual-pink",isBack:!0},{backText:e.withCtx((()=>[])),content:e.withCtx((()=>[e.createTextVNode("封面图设置")])),_:1}),e.createElementVNode("form",null,[e.createElementVNode("view",{class:"tab_mline"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.tabs_arr,((t,i)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["tab_mline_zi",{tab_hover:s.tabs==i}]),key:i,onClick:e=>a.tab_change(i)},e.toDisplayString(t.name),11,["onClick"])))),128))]),0==s.tabs?(e.openBlock(),e.createElementBlock("view",{key:0},[e.createElementVNode("view",null,[e.createVNode(l,{selWidth:"480px",selHeight:"800px",onUpload:a.uploadAvatar,avatarSrc:s.userInfo.nearby_img,avatarStyle:"width:100%;"},null,8,["onUpload","avatarSrc"])])])):(e.openBlock(),e.createElementBlock("view",{key:1}," 22 "))]),e.createElementVNode("view",{class:"padding flex flex-direction"},[e.createElementVNode("button",{class:"cu-btn bg-green lg",style:e.normalizeStyle(s.saved?"border: solid 1px #dbdada;":""),disabled:s.saved,onClick:i[0]||(i[0]=e=>a.saveInfo())},"保存",12,["disabled"])])])}],["__scopeId","data-v-26d35160"]]);__definePage("pages/index/index",yt),__definePage("pages/index/mv_index",Bt),__definePage("pages/message/chat",ui),__definePage("pages/contacts/index",Ae),__definePage("pages/message/detail",Ni),__definePage("pages/contacts/detail",Ti),__definePage("pages/contacts/friend",Oi),__definePage("pages/contacts/search",Fi),__definePage("pages/login/index",ji),__definePage("pages/login/register",Wi),__definePage("pages/message/call",Ki),__definePage("pages/index/userSelection",$a),__definePage("pages/message/group/groupUser",Fa),__definePage("pages/index/qrcode",_r),__definePage("pages/message/group/info",wr),__definePage("pages/contacts/group",kr),__definePage("pages/index/search",xr),__definePage("pages/index/scan",Sr),__definePage("pages/mine/index",ht),__definePage("pages/mine/webview",Er),__definePage("pages/mine/profile",Ar),__definePage("pages/mine/profile_msg",Mr),__definePage("pages/mine/renzheng",Ur),__definePage("pages/mine/secure",jr),__definePage("pages/mine/about",Wr),__definePage("pages/mine/setting",Gr),__definePage("pages/third/third",Xr),__definePage("pages/compass/index",ze),__definePage("pages/nearby/nearby",rt),__definePage("pages/opengroup/opengroup",Xe),__definePage("pages/movie/bet/bet",Ze),__definePage("pages/movie/bet/list",Qr),__definePage("pages/movie/index/index",Ge),__definePage("pages/movie/list/index",el),__definePage("pages/movie/list/detial",ol),__definePage("pages/movie/notice/notice",nl),__definePage("pages/movie/notice/detail/detail",sl),__definePage("pages/mine/vip/vip",cl),__definePage("pages/movie/kefu/kefu",dl),__definePage("pages/movie/kefu/detail",ul),__definePage("pages/mine/like/like_me",gl),__definePage("pages/mine/like/like",vl),__definePage("pages/mine/run_img",bl);const Cl=we(he),Bl=me(he),Nl={onLaunch:function(){let t=uni.getStorageSync("appSetting")??"";t?Bl.setAppSetting(t):Bl.setAppSetting({voiceStatus:!0,vibrateStatus:!1,circleAvatar:!1}),Bl.getGlobalConfig(),uni.getSystemInfo({success:function(t){const{appContext:i}=e.getCurrentInstance();i.config.globalProperties.StatusBar=t.statusBarHeight,"android"==t.platform?i.config.globalProperties.CustomBar=t.statusBarHeight+50:i.config.globalProperties.CustomBar=t.statusBarHeight+45,i.config.globalProperties.inlineTools=0,i.config.globalProperties.navBarHeight=uni.upx2px(100)}}),uni.onPushMessage((e=>{_("log","at App.vue:90","收到推送消息：",e);let t=e.data;if("click"==e.type){let e=t.payload,i=e.toContactId?e.toContactId:"";if("webrtc"==e.type)return;uni.navigateTo({url:"/pages/message/chat?id="+i})}else if("receive"==e.type){let e=this.appStatus;if(_("log","at App.vue:105","app状态：",e),!e){_("log","at App.vue:108","创建通知栏");let e={title:t.title,content:t.content,payload:t.payload},i=uni.getSystemInfoSync();"android"===i.platform?uni.downloadFile({url:t.payload.fromUser.avatar,success:t=>{200===t.statusCode&&(e.icon=t.tempFilePath,uni.createPushMessage(e))}}):"ios"===i.platform&&uni.createPushMessage(e)}}}))},onUnload(){this.scoketClose(),this.socketIo.traderDetailIndex=100},onShow:function(){this.socketIo.checkStatus()||(_("log","at App.vue:141","ws断线了，重新链接！"),uni.$emit("socketStatus",!1),this.getWebsocketData()),this.appStatus=!0;var e=uni.getStorageSync("language");""!=e&&null!=e||uni.setStorageSync("language","zhCN"),_("log","at App.vue:151","App Show")},methods:{scoketClose(){this.socketIo.connectNum=1;this.socketIo.send({type:"close"}),this.socketIo.Close()},getWebsocketData(){uni.getStorageSync("userInfo");this.socketIo.connectSocketInit({type:"ping"}),uni.$off("getPositonsOrder"),uni.$on("getPositonsOrder",(e=>{var t=uni.getStorageSync("userInfo");let i=e.data;switch(this.connect=!0,e.type){case"ping":this.socketIo.send({type:"pong"});break;case"pong":Bl.$patch({multiport:e.multiport});break;case"init":uni.setStorageSync("client_id",e.client_id),t&&this.$api.LoginApi.bindUid({client_id:e.client_id,user_id:t.user_id,cid:uni.getStorageSync("cid")}).then((e=>{this.socketIo.send({type:"bindUid",user_id:t.user_id,token:uni.getStorageSync("authToken")})})).catch((e=>{}));break;case"isOnline":Cl.updateContacts({id:i.id,is_online:i.is_online});break;case"offline":let o=uni.getStorageSync("client_id");i.id==t.user_id&&i.client_id!=o&&i.isMobile&&(uni.showToast({title:"您的账号在其他地方登录，已被迫下线！",icon:"none",duration:2500}),Bl.logout());break;case"simple":case"group":if(i.fromUser.id!=t.user_id){const e=Cl.getContact(i.toContactId);"system"!=i.toContactId&&1!=e.is_notice||this.playSound()}this.appendMessage(e);break;case"setChatTop":Cl.updateContacts({id:i.id,is_top:i.is_top});break;case"setIsNotice":Cl.updateContacts({id:i.id,is_notice:i.is_notice});break;case"addGroup":Cl.appendContacts(i),this.$api.LoginApi.bindGroup({client_id:uni.getStorageSync("client_id"),group_id:i.id});break;case"setManager":case"addGroupUser":case"removeUser":Cl.updateContacts({id:i.group_id,avatar:i.avatar}),uni.$emit("updateGroup",e);break;case"editGroupName":Cl.updateContacts({id:i.id,displayName:i.displayName});break;case"removeGroup":Cl.deleteContacts({id:i.group_id});break;case"setNotice":Cl.updateContact({id:i.group_id,notice:i.notice});break;case"groupSetting":Cl.updateContact({id:i.group_id,setting:i.setting});break;case"appendContact":_("log","at App.vue:293",123123,i),Cl.appendContacts(i);break;case"webrtc":if(i.fromUser.id==t.user_id&&([902,903,905,906,907].includes(parseInt(i.extends.code))&&(Cl.webrtcLock=!1),1==i.extends.isMobile||"calling"==i.extends.event))return void("calling"==i.extends.event&&this.appendMessage(e));if("offer"==i.extends.event||"answer"==i.extends.event?Cl.webrtcLock=!0:"hangup"==i.extends.event&&(Cl.webrtcLock=!1),"calling"==i.extends.event){this.appendMessage(e);const t=getCurrentPages();"pages/message/call"==t[t.length-1].route?this.$api.msgApi.sendToMsg({toContactId:i.fromUser.user_id,type:i.extends.type,event:"busy",status:i.extends.status,code:907,id:i.id,msg_id:i.msg_id}):uni.navigateTo({url:"/pages/message/call?msg_id="+i.id+"&type="+i.extends.type+"&status="+i.extends.status+"&id="+i.fromUser.user_id+"&name="+i.fromUser.realname+"&avatar="+encodeURI(i.fromUser.avatar)})}else uni.$emit("webrtcConn",i)}})),uni.$on("connectError",(()=>{this.connect=!1,this.scoketError=!0,uni.$emit("socketStatus",!1)}))},appendMessage(e){let t=e.data;if("system"==t.toContactId)Cl.$patch({sysUnread:Cl.sysUnread+=1});else{let o=Cl.contacts,n=t.toContactId;var i=uni.getStorageSync("userInfo");let s=1;t.fromUser.id==i.user_id&&(s=0),t.toContactId==i.user_id&&(n=t.toUser);let a=this.$util.findArray(o,n);if(a)a.lastContent=t.content,a.lastSendTime=1e3*t.sendTime,a.type=t.type,a.unread+=s,Cl.updateContacts(a);else{let e={id:t.toContactId,displayName:t.fromUser.displayName,avatar:t.fromUser.avatar,lastContent:t.content,lastSendTime:1e3*t.sendTime,is_group:t.is_group,unread:s,is_top:0,dep_id:0};o.push(e),Cl.initContacts(o)}Cl.catchSocketAction(e)}},playSound(){let e=uni.getStorageSync("appSetting")??"";if(e.voiceStatus){let e=this;const t=uni.createInnerAudioContext();t.autoplay=!0,t.src="https://file.lcoce.com/static/v5/voice/notice.wav",t.onError((e=>{})),t.onStop((t=>{e.$forceUpdate()}))}e.vibrateStatus&&uni.vibrateLong({success:function(){_("log","at App.vue:429","手机震动")}})}},onHide:function(){this.appStatus=!1,_("log","at App.vue:438","App Hide")}};const Sl=o({data(){return{StatusBar:this.StatusBar,CustomBar:this.CustomBar}},name:"custom",computed:{style(){var e=this.StatusBar,t=this.CustomBar,i=this.bgImage,o=`height:${t}px;padding-top:${e}px;`;return this.bgImage&&(o=`${o}background-image:url(${i});`),o}},props:{bgColor:{type:String,default:""},isBack:{type:[Boolean,String],default:!1},bgImage:{type:String,default:""}},methods:{BackPage(){const e=getCurrentPages();if("pages/message/chat"!=e[e.length-1].route){if(e.length<2&&"undefined"!=typeof __wxConfig){let e="/"+__wxConfig.pages[0];return uni.redirectTo({url:e})}uni.navigateBack({delta:1})}else uni.reLaunch({url:"/pages/index/index"})}}},[["render",function(t,i,o,n,s,a){return e.openBlock(),e.createElementBlock("view",null,[e.createElementVNode("view",{class:"cu-custom",style:e.normalizeStyle([{height:s.CustomBar+"px"}])},[e.createElementVNode("view",{class:e.normalizeClass(["cu-bar",[""!=o.bgImage?"none-bg text-white bg-img":"",o.bgColor]]),style:e.normalizeStyle(a.style)},[o.isBack?(e.openBlock(),e.createElementBlock("view",{key:0,class:"action",onClick:i[0]||(i[0]=(...e)=>a.BackPage&&a.BackPage(...e))},[e.createElementVNode("text",{class:"cuIcon-back"}),e.renderSlot(t.$slots,"backText")])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"action"},[e.renderSlot(t.$slots,"backText")])),e.createElementVNode("view",{class:"content",style:e.normalizeStyle([{top:s.StatusBar+"px"}])},[e.renderSlot(t.$slots,"content")],4),e.createElementVNode("view",{class:"right"},[e.renderSlot(t.$slots,"right")])],6)],4)])}]]);let El={};El.uploadUrl=ce+"/common/upload/uploadFile",El.uploadAvatar=ce+"/common/upload/uploadAvatar",El.initContacts=e=>de("/enterprise/im/getContacts",e),El.getMessageList=e=>de("/enterprise/im/getMessageList",e),El.setChatTopAPI=e=>de("/enterprise/im/setChatTop",e),El.delChatAPI=e=>de("/enterprise/im/delChat",e),El.sendMessage=e=>de("/enterprise/im/sendMessage",e),El.sendMessage_talk=(e,t,i)=>postJsonRequest_talk("/enterprise/im/sendMessage",e,t,i),El.forwardMessage=e=>de("/enterprise/im/forwardMessage",e),El.setMsgIsRead=e=>de("/enterprise/im/setMsgIsRead",e),El.undoMessage=e=>de("/enterprise/im/undoMessage",e),El.sendToMsg=e=>de("/enterprise/im/sendToMsg",e),El.isNoticeAPI=e=>de("/enterprise/im/isNotice",e),El.updateCard=e=>de("/enterprise/im/updateCard",e),El.joinGroup=e=>de("/enterprise/group/joinGroup",e),El.groupUserList=e=>de("/enterprise/group/groupUserList",e),El.setNotice=e=>de("/enterprise/group/setNotice",e),El.groupInfo=e=>de("/enterprise/group/groupInfo",e),El.joinGroup=e=>de("/enterprise/group/joinGroup",e),El.groupSetting=e=>de("/enterprise/group/groupSetting",e),El.changeOwner=e=>de("/enterprise/group/changeOwner",e),El.getAllUser=e=>de("/enterprise/group/getAllUser",e),El.addGroup=e=>de("/enterprise/group/add",e),El.bindGroup=e=>de("/common/index/bindGroup",e),El.editGroupName=e=>de("/enterprise/group/editGroupName",e),El.addGroupUser=e=>de("/enterprise/group/addGroupUser",e),El.removeUser=e=>de("/enterprise/group/removeUser",e),El.removeGroup=e=>de("/enterprise/group/removeGroup",e),El.setManager=e=>de("/enterprise/group/setManager",e),El.getUserInfo=e=>de("/enterprise/im/getUserInfo",e),El.searchUser=e=>de("enterprise/im/searchUser",e),El.updateUserInfo=e=>de("enterprise/im/updateUserInfo",e),El.editAccount=e=>de("enterprise/im/editAccount",e),El.editPassword=e=>de("enterprise/im/editPassword",e);let Vl={delFriend:e=>de("/enterprise/friend/del",e),addFriend:e=>de("/enterprise/friend/add",e),applyList:e=>de("/enterprise/friend/index",e),acceptApply:e=>de("/enterprise/friend/update",e),setNickname:e=>de("/enterprise/friend/setNickname",e)},Tl={thirdList:e=>de("/enterprise/third/index",e),near_user_List:e=>de("/enterprise/third/nearby_index",e),like_me_index:e=>de("/enterprise/third/like_me_index",e),opengroup_List:e=>de("/enterprise/third/open_group_list",e),near_user_like:e=>de("/enterprise/third/islikes",e),into_group:e=>de("/enterprise/group/joinGroup",e),get_level_list:e=>de("/enterprise/third/Level_list",e),get_user_info:e=>de("/enterprise/third/user_info",e)},Il={};Il.get_notice=e=>((e,t)=>{let i=uni.getStorageSync("token");return le({method:"post",url:`${e}`,data:t,header:{"XX-Api-Version":1,"XX-Device-Type":"mobile","XX-Token":i,"content-type":"application/json"}})})("/api/front/notice/getList",e);const Pl={msgApi:El,LoginApi:ue,friendApi:Vl,third_openApi:Tl,moviceApi:Il};class Dl{constructor(e,t,i){this.socketTask=null,this.is_open_socket=!1,this.url=i||re.wssUrl,this.data=e||null,this.connectNum=1,this.traderDetailIndex=100,this.accountStateIndex=100,this.followFlake=!1,this.init=!1,this.timeout=t||2e4,this.heartbeatInterval=null,this.reconnectTimeOut=null}connectSocketInit(e){this.data=e,this.socketTask=uni.connectSocket({url:this.url,success:()=>(_("log","at common/socket.js:25","正准备建立websocket中..."),this.socketTask)}),this.socketTask.onOpen((t=>{uni.$emit("socketStatus",!0),this.connectNum=1,_("log","at common/socket.js:33","WebSocket连接正常！"),this.send(e),clearInterval(this.reconnectTimeOut),clearInterval(this.heartbeatInterval),this.is_open_socket=!0,this.start(),this.socketTask.onMessage((e=>{let t=JSON.parse(e.data);t&&uni.$emit("getPositonsOrder",t)}))})),this.init||(uni.onSocketError((e=>{_("log","at common/socket.js:51","WebSocket连接打开失败，请检查！"),this.socketTask=null,this.is_open_socket=!1,clearInterval(this.heartbeatInterval),clearInterval(this.reconnectTimeOut),this.connectNum<6?(this.traderDetailIndex,this.reconnect(),this.connectNum+=1):(uni.$emit("connectError"),this.connectNum=1)})),this.init=!0),this.socketTask.onClose((()=>{_("log","at common/socket.js:69","已经被关闭了-------"),clearInterval(this.heartbeatInterval),clearInterval(this.reconnectTimeOut),this.is_open_socket=!1,this.socketTask=null,this.connectNum<6?this.reconnect():(uni.$emit("connectError"),this.connectNum=1)}))}Close(){this.is_open_socket&&this.socketTask.close({success(){uni.showToast({title:"SocketTask 关闭成功",icon:"none"})}})}send(e){this.socketTask&&this.socketTask.send({data:JSON.stringify(e),async success(){}})}checkStatus(){return _("log","at common/socket.js:111","检查状态"),clearInterval(this.reconnectTimeOut),!(!this.socketTask||[2,3].includes(this.socketTask.readyState))||(_("log","at common/socket.js:114","未链接！"),!1)}start(){this.heartbeatInterval=setInterval((()=>{this.send({type:"ping"})}),this.timeout)}reconnect(){clearInterval(this.heartbeatInterval),this.is_open_socket||2!=this.traderDetailIndex&&0!=this.accountStateIndex&&!this.followFlake||(_("log","at common/socket.js:135","5秒后重新连接..."),this.reconnectTimeOut=setInterval((()=>{this.connectSocketInit(this.data)}),5e3))}arrayFilter(e,t="normal",i=0){let o=[],n=[],s={arr1:[],arr2:[]};return o=e.filter((e=>1==e.flwsig)),n=e.filter((e=>0==e.flwsig)),"normal"==t?i?(o=e.filter((e=>1==e.flwsig&&e.sigtraderid==i)),o):o.concat(n):(i>0?(o=e.filter((e=>1==e.flwsig&&e.sigtraderid==i)),s.arr1=o):s.arr1=o,s.arr2=n,s)}}const Al=o({name:"Empty",props:{src:{type:String,default:"/static/image/empty.png"},showImage:{type:Boolean,default:!0},noDatatext:{type:String,default:()=>"暂无数据"},textcolor:{type:String,default:"#333333"}},data:()=>({})},[["render",function(t,i,o,n,s,a){return e.openBlock(),e.createElementBlock("view",{class:"lz-empty-box"},[o.showImage?(e.openBlock(),e.createElementBlock("view",{key:0,class:"im-flex im-align-items-center im-justify-content-center"},[e.createElementVNode("image",{class:"empty-img",src:o.src},null,8,["src"])])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"text-center"},[e.createElementVNode("text",{class:e.normalizeClass(o.showImage?" mt-20":""),style:e.normalizeStyle({color:o.textcolor})},e.toDisplayString(o.noDatatext),7)])])}],["__scopeId","data-v-2abb5e1d"]]);const $l=o({name:"tags",props:{size:{type:String,default:"mini"},type:{type:String,default:"primary"},text:{type:String,default:()=>"暂无"}},data:()=>({})},[["render",function(t,i,o,n,s,a){return e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["mr-5 radius-4 im-tags lh-15x",["mini"==o.size?"im-tags-mini":"","small"==o.size?"im-tags-samll":"","medium"==o.size?"im-tags-medium":"","info"==o.type?"im-tags-info":"","success"==o.type?"im-tags-success":"","warning"==o.type?"im-tags-warning":"","danger"==o.type?"im-tags-danger":""]])},e.toDisplayString(o.text),3)}],["__scopeId","data-v-d2074d82"]]),Ll=()=>"",Ml=()=>"https://imweb.baobaoi.vip",Ol=e=>new Promise(((t,i)=>{if(null==e.type){let o=uni.getStorageSync("ifLogin");uni.getStorageSync("sid"),uni.request({url:""+e.url,method:e.method||"GET",data:e.data||{},header:e.header||{"XX-Api-Version":1,"XX-Device-Type":"mobile","XX-Token":o,"content-type":"application/json"},success:e=>{9999!=e.data.code&&t(e.data)},fail:e=>{uni.showToast({title:"Error"}),i(e)}})}else uni.request({url:BASE_URL2+e.url,method:e.method||"GET",data:e.data||{},success:e=>{if(200!==e.data.code)return uni.showToast({title:"Error"});t(e.data)},fail:e=>{uni.showToast({title:"Error"}),i(e)}})})),Fl="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,Ul=e=>Fl?Symbol(e):e,Rl=e=>JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),zl=e=>"number"==typeof e&&isFinite(e),jl=e=>"[object RegExp]"===ic(e),Hl=e=>oc(e)&&0===Object.keys(e).length;function Wl(e,t){"undefined"!=typeof console&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}const ql=Object.assign;function Jl(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const Gl=Object.prototype.hasOwnProperty;function Yl(e,t){return Gl.call(e,t)}const Xl=Array.isArray,Kl=e=>"function"==typeof e,Ql=e=>"string"==typeof e,Zl=e=>"boolean"==typeof e,ec=e=>null!==e&&"object"==typeof e,tc=Object.prototype.toString,ic=e=>tc.call(e),oc=e=>"[object Object]"===ic(e),nc=Object.prototype.hasOwnProperty;function sc(e,t){return nc.call(e,t)}const ac=e=>null!==e&&"object"==typeof e,rc=[];rc[0]={w:[0],i:[3,0],"[":[4],o:[7]},rc[1]={w:[1],".":[2],"[":[4],o:[7]},rc[2]={w:[2],i:[3,0],0:[3,0]},rc[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]},rc[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]},rc[5]={"'":[4,0],o:8,l:[5,0]},rc[6]={'"':[4,0],o:8,l:[6,0]};const lc=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function cc(e){if(null==e)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function dc(e){const t=e.trim();return("0"!==e.charAt(0)||!isNaN(parseInt(e)))&&(i=t,lc.test(i)?function(e){const t=e.charCodeAt(0);return t!==e.charCodeAt(e.length-1)||34!==t&&39!==t?e:e.slice(1,-1)}(t):"*"+t);var i}const uc=new Map;function mc(e,t){if(!ac(e))return null;let i=uc.get(t);if(i||(i=function(e){const t=[];let i,o,n,s,a,r,l,c=-1,d=0,u=0;const m=[];function h(){const t=e[c+1];if(5===d&&"'"===t||6===d&&'"'===t)return c++,n="\\"+t,m[0](),!0}for(m[0]=()=>{void 0===o?o=n:o+=n},m[1]=()=>{void 0!==o&&(t.push(o),o=void 0)},m[2]=()=>{m[0](),u++},m[3]=()=>{if(u>0)u--,d=4,m[0]();else{if(u=0,void 0===o)return!1;if(o=dc(o),!1===o)return!1;m[1]()}};null!==d;)if(c++,i=e[c],"\\"!==i||!h()){if(s=cc(i),l=rc[d],a=l[s]||l.l||8,8===a)return;if(d=a[0],void 0!==a[1]&&(r=m[a[1]],r&&(n=i,!1===r())))return;if(7===d)return t}}(t),i&&uc.set(t,i)),!i)return null;const o=i.length;let n=e,s=0;for(;s<o;){const e=n[i[s]];if(void 0===e)return null;n=e,s++}return n}function hc(e){if(!ac(e))return e;for(const t in e)if(sc(e,t))if(t.includes(".")){const i=t.split("."),o=i.length-1;let n=e;for(let e=0;e<o;e++)i[e]in n||(n[i[e]]={}),n=n[i[e]];n[i[o]]=e[t],delete e[t],ac(n[i[o]])&&hc(n[i[o]])}else ac(e[t])&&hc(e[t]);return e}
/*!
    * @intlify/runtime v9.1.9
    * (c) 2021 kazuya kawaguchi
    * Released under the MIT License.
    */const pc=e=>e,gc=e=>"",fc=e=>0===e.length?"":e.join(""),vc=e=>null==e?"":Xl(e)||oc(e)&&e.toString===tc?JSON.stringify(e,null,2):String(e);function _c(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0}function yc(e={}){const t=e.locale,i=function(e){const t=zl(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(zl(e.named.count)||zl(e.named.n))?zl(e.named.count)?e.named.count:zl(e.named.n)?e.named.n:t:t}(e),o=ec(e.pluralRules)&&Ql(t)&&Kl(e.pluralRules[t])?e.pluralRules[t]:_c,n=ec(e.pluralRules)&&Ql(t)&&Kl(e.pluralRules[t])?_c:void 0,s=e.list||[],a=e.named||{};zl(e.pluralIndex)&&function(e,t){t.count||(t.count=e),t.n||(t.n=e)}(i,a);function r(t){const i=Kl(e.messages)?e.messages(t):!!ec(e.messages)&&e.messages[t];return i||(e.parent?e.parent.message(t):gc)}const l=oc(e.processor)&&Kl(e.processor.normalize)?e.processor.normalize:fc,c=oc(e.processor)&&Kl(e.processor.interpolate)?e.processor.interpolate:vc,d={list:e=>s[e],named:e=>a[e],plural:e=>e[o(i,e.length,n)],linked:(t,i)=>{const o=r(t)(d);return Ql(i)?(n=i,e.modifiers?e.modifiers[n]:pc)(o):o;var n},message:r,type:oc(e.processor)&&Ql(e.processor.type)?e.processor.type:"text",interpolate:c,normalize:l};return d}
/*!
    * @intlify/message-compiler v9.1.9
    * (c) 2021 kazuya kawaguchi
    * Released under the MIT License.
    */function wc(e,t,i={}){const{domain:o,messages:n,args:s}=i,a=new SyntaxError(String(e));return a.code=e,t&&(a.location=t),a.domain=o,a}
/*!
    * @intlify/core-base v9.1.9
    * (c) 2021 kazuya kawaguchi
    * Released under the MIT License.
    */let kc=0;function xc(e={}){const t=Ql(e.version)?e.version:"9.1.9",i=Ql(e.locale)?e.locale:"en-US",o=Xl(e.fallbackLocale)||oc(e.fallbackLocale)||Ql(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:i,n=oc(e.messages)?e.messages:{[i]:{}},s=oc(e.datetimeFormats)?e.datetimeFormats:{[i]:{}},a=oc(e.numberFormats)?e.numberFormats:{[i]:{}},r=ql({},e.modifiers||{},{upper:e=>Ql(e)?e.toUpperCase():e,lower:e=>Ql(e)?e.toLowerCase():e,capitalize:e=>Ql(e)?`${e.charAt(0).toLocaleUpperCase()}${e.substr(1)}`:e}),l=e.pluralRules||{},c=Kl(e.missing)?e.missing:null,d=!Zl(e.missingWarn)&&!jl(e.missingWarn)||e.missingWarn,u=!Zl(e.fallbackWarn)&&!jl(e.fallbackWarn)||e.fallbackWarn,m=!!e.fallbackFormat,h=!!e.unresolving,p=Kl(e.postTranslation)?e.postTranslation:null,g=oc(e.processor)?e.processor:null,f=!Zl(e.warnHtmlMessage)||e.warnHtmlMessage,v=!!e.escapeParameter,_=Kl(e.messageCompiler)?e.messageCompiler:undefined,y=Kl(e.onWarn)?e.onWarn:Wl,w=e,k=ec(w.__datetimeFormatters)?w.__datetimeFormatters:new Map,x=ec(w.__numberFormatters)?w.__numberFormatters:new Map,b=ec(w.__meta)?w.__meta:{};kc++;return{version:t,cid:kc,locale:i,fallbackLocale:o,messages:n,datetimeFormats:s,numberFormats:a,modifiers:r,pluralRules:l,missing:c,missingWarn:d,fallbackWarn:u,fallbackFormat:m,unresolving:h,postTranslation:p,processor:g,warnHtmlMessage:f,escapeParameter:v,messageCompiler:_,onWarn:y,__datetimeFormatters:k,__numberFormatters:x,__meta:b}}function bc(e,t,i,o,n){const{missing:s,onWarn:a}=e;if(null!==s){const o=s(e,i,t,n);return Ql(o)?o:t}return t}function Cc(e,t,i){const o=e;o.__localeChainCache||(o.__localeChainCache=new Map);let n=o.__localeChainCache.get(i);if(!n){n=[];let e=[i];for(;Xl(e);)e=Bc(n,e,t);const s=Xl(t)?t:oc(t)?t.default?t.default:null:t;e=Ql(s)?[s]:s,Xl(e)&&Bc(n,e,!1),o.__localeChainCache.set(i,n)}return n}function Bc(e,t,i){let o=!0;for(let n=0;n<t.length&&Zl(o);n++){const s=t[n];Ql(s)&&(o=Nc(e,t[n],i))}return o}function Nc(e,t,i){let o;const n=t.split("-");do{o=Sc(e,n.join("-"),i),n.splice(-1,1)}while(n.length&&!0===o);return o}function Sc(e,t,i){let o=!1;if(!e.includes(t)&&(o=!0,t)){o="!"!==t[t.length-1];const n=t.replace(/!/g,"");e.push(n),(Xl(i)||oc(i))&&i[n]&&(o=i[n])}return o}function Ec(e,t,i){e.__localeChainCache=new Map,Cc(e,i,t)}function Vc(e){return wc(e,null,void 0)}const Tc=()=>"",Ic=e=>Kl(e);function Pc(e,...t){const{fallbackFormat:i,postTranslation:o,unresolving:n,fallbackLocale:s,messages:a}=e,[r,l]=Ac(...t),c=(Zl(l.missingWarn)?l.missingWarn:e.missingWarn,Zl(l.fallbackWarn)?l.fallbackWarn:e.fallbackWarn,Zl(l.escapeParameter)?l.escapeParameter:e.escapeParameter),d=!!l.resolvedMessage,u=Ql(l.default)||Zl(l.default)?Zl(l.default)?r:l.default:i?r:"",m=i||""!==u,h=Ql(l.locale)?l.locale:e.locale;c&&function(e){Xl(e.list)?e.list=e.list.map((e=>Ql(e)?Jl(e):e)):ec(e.named)&&Object.keys(e.named).forEach((t=>{Ql(e.named[t])&&(e.named[t]=Jl(e.named[t]))}))}(l);let[p,g,f]=d?[r,h,a[h]||{}]:function(e,t,i,o,n,s){const{messages:a,onWarn:r}=e,l=Cc(e,o,i);let c,d={},u=null;const m="translate";for(let h=0;h<l.length&&(c=l[h],d=a[c]||{},null===(u=mc(d,t))&&(u=d[t]),!Ql(u)&&!Kl(u));h++){const i=bc(e,t,c,0,m);i!==t&&(u=i)}return[u,c,d]}(e,r,h,s),v=r;if(d||Ql(p)||Ic(p)||m&&(p=u,v=p),!(d||(Ql(p)||Ic(p))&&Ql(g)))return n?-1:r;let _=!1;const y=Ic(p)?p:Dc(e,r,g,p,v,(()=>{_=!0}));if(_)return p;const w=function(e,t,i,o){const{modifiers:n,pluralRules:s}=e,a=o=>{const n=mc(i,o);if(Ql(n)){let i=!1;const s=Dc(e,o,t,n,o,(()=>{i=!0}));return i?Tc:s}return Ic(n)?n:Tc},r={locale:t,modifiers:n,pluralRules:s,messages:a};e.processor&&(r.processor=e.processor);o.list&&(r.list=o.list);o.named&&(r.named=o.named);zl(o.plural)&&(r.pluralIndex=o.plural);return r}(e,g,f,l),k=function(e,t,i){return t(i)}(0,y,yc(w));return o?o(k):k}function Dc(e,t,i,o,n,s){const{messageCompiler:a,warnHtmlMessage:r}=e;if(Ic(o)){const e=o;return e.locale=e.locale||i,e.key=e.key||t,e}const l=a(o,function(e,t,i,o,n,s){return{warnHtmlMessage:n,onError:e=>{throw s&&s(e),e},onCacheKey:e=>((e,t,i)=>Rl({l:e,k:t,s:i}))(t,i,e)}}(0,i,n,0,r,s));return l.locale=i,l.key=t,l.source=o,l}function Ac(...e){const[t,i,o]=e,n={};if(!Ql(t)&&!zl(t)&&!Ic(t))throw Vc(14);const s=zl(t)?String(t):(Ic(t),t);return zl(i)?n.plural=i:Ql(i)?n.default=i:oc(i)&&!Hl(i)?n.named=i:Xl(i)&&(n.list=i),zl(o)?n.plural=o:Ql(o)?n.default=o:oc(o)&&ql(n,o),[s,n]}function $c(e,...t){const{datetimeFormats:i,unresolving:o,fallbackLocale:n,onWarn:s}=e,{__datetimeFormatters:a}=e,[r,l,c,d]=Lc(...t);Zl(c.missingWarn)?c.missingWarn:e.missingWarn;Zl(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const u=!!c.part,m=Ql(c.locale)?c.locale:e.locale,h=Cc(e,n,m);if(!Ql(r)||""===r)return new Intl.DateTimeFormat(m).format(l);let p,g={},f=null;for(let y=0;y<h.length&&(p=h[y],g=i[p]||{},f=g[r],!oc(f));y++)bc(e,r,p,0,"datetime format");if(!oc(f)||!Ql(p))return o?-1:r;let v=`${p}__${r}`;Hl(d)||(v=`${v}__${JSON.stringify(d)}`);let _=a.get(v);return _||(_=new Intl.DateTimeFormat(p,ql({},f,d)),a.set(v,_)),u?_.formatToParts(l):_.format(l)}function Lc(...e){const[t,i,o,n]=e;let s,a={},r={};if(Ql(t)){if(!/\d{4}-\d{2}-\d{2}(T.*)?/.test(t))throw Vc(16);s=new Date(t);try{s.toISOString()}catch(ln){throw Vc(16)}}else if("[object Date]"===ic(t)){if(isNaN(t.getTime()))throw Vc(15);s=t}else{if(!zl(t))throw Vc(14);s=t}return Ql(i)?a.key=i:oc(i)&&(a=i),Ql(o)?a.locale=o:oc(o)&&(r=o),oc(n)&&(r=n),[a.key||"",s,a,r]}function Mc(e,t,i){const o=e;for(const n in i){const e=`${t}__${n}`;o.__datetimeFormatters.has(e)&&o.__datetimeFormatters.delete(e)}}function Oc(e,...t){const{numberFormats:i,unresolving:o,fallbackLocale:n,onWarn:s}=e,{__numberFormatters:a}=e,[r,l,c,d]=Fc(...t);Zl(c.missingWarn)?c.missingWarn:e.missingWarn;Zl(c.fallbackWarn)?c.fallbackWarn:e.fallbackWarn;const u=!!c.part,m=Ql(c.locale)?c.locale:e.locale,h=Cc(e,n,m);if(!Ql(r)||""===r)return new Intl.NumberFormat(m).format(l);let p,g={},f=null;for(let y=0;y<h.length&&(p=h[y],g=i[p]||{},f=g[r],!oc(f));y++)bc(e,r,p,0,"number format");if(!oc(f)||!Ql(p))return o?-1:r;let v=`${p}__${r}`;Hl(d)||(v=`${v}__${JSON.stringify(d)}`);let _=a.get(v);return _||(_=new Intl.NumberFormat(p,ql({},f,d)),a.set(v,_)),u?_.formatToParts(l):_.format(l)}function Fc(...e){const[t,i,o,n]=e;let s={},a={};if(!zl(t))throw Vc(14);const r=t;return Ql(i)?s.key=i:oc(i)&&(s=i),Ql(o)?s.locale=o:oc(o)&&(a=o),oc(n)&&(a=n),[s.key||"",r,s,a]}function Uc(e,t,i){const o=e;for(const n in i){const e=`${t}__${n}`;o.__numberFormatters.has(e)&&o.__numberFormatters.delete(e)}}
/*!
    * vue-i18n v9.1.9
    * (c) 2022 kazuya kawaguchi
    * Released under the MIT License.
    */function Rc(e,...t){return wc(e,null,void 0)}const zc=Ul("__transrateVNode"),jc=Ul("__datetimeParts"),Hc=Ul("__numberParts");Ul("__enableEmitter"),Ul("__disableEmitter");const Wc=Ul("__setPluralRules");Ul("__intlifyMeta");const qc=Ul("__injectWithOption");let Jc=0;function Gc(t){return(i,o,n,s)=>t(o,n,e.getCurrentInstance()||void 0,s)}function Yc(e,t){const{messages:i,__i18n:o}=t,n=oc(i)?i:Xl(o)?{}:{[e]:{}};if(Xl(o)&&o.forEach((({locale:e,resource:t})=>{e?(n[e]=n[e]||{},Kc(t,n[e])):Kc(t,n)})),t.flatJson)for(const s in n)Yl(n,s)&&hc(n[s]);return n}const Xc=e=>!ec(e)||Xl(e);function Kc(e,t){if(Xc(e)||Xc(t))throw Rc(20);for(const i in e)Yl(e,i)&&(Xc(e[i])||Xc(t[i])?t[i]=e[i]:Kc(e[i],t[i]))}function Qc(t={}){const{__root:i}=t,o=void 0===i;let n=!Zl(t.inheritLocale)||t.inheritLocale;const s=e.ref(i&&n?i.locale.value:Ql(t.locale)?t.locale:"en-US"),a=e.ref(i&&n?i.fallbackLocale.value:Ql(t.fallbackLocale)||Xl(t.fallbackLocale)||oc(t.fallbackLocale)||!1===t.fallbackLocale?t.fallbackLocale:s.value),r=e.ref(Yc(s.value,t)),l=e.ref(oc(t.datetimeFormats)?t.datetimeFormats:{[s.value]:{}}),c=e.ref(oc(t.numberFormats)?t.numberFormats:{[s.value]:{}});let d=i?i.missingWarn:!Zl(t.missingWarn)&&!jl(t.missingWarn)||t.missingWarn,u=i?i.fallbackWarn:!Zl(t.fallbackWarn)&&!jl(t.fallbackWarn)||t.fallbackWarn,m=i?i.fallbackRoot:!Zl(t.fallbackRoot)||t.fallbackRoot,h=!!t.fallbackFormat,p=Kl(t.missing)?t.missing:null,g=Kl(t.missing)?Gc(t.missing):null,f=Kl(t.postTranslation)?t.postTranslation:null,v=!Zl(t.warnHtmlMessage)||t.warnHtmlMessage,_=!!t.escapeParameter;const y=i?i.modifiers:oc(t.modifiers)?t.modifiers:{};let w,k=t.pluralRules||i&&i.pluralRules;w=xc({version:"9.1.9",locale:s.value,fallbackLocale:a.value,messages:r.value,messageCompiler:function(e){return t=>t.normalize([e])},datetimeFormats:l.value,numberFormats:c.value,modifiers:y,pluralRules:k,missing:null===g?void 0:g,missingWarn:d,fallbackWarn:u,fallbackFormat:h,unresolving:!0,postTranslation:null===f?void 0:f,warnHtmlMessage:v,escapeParameter:_,__datetimeFormatters:oc(w)?w.__datetimeFormatters:void 0,__numberFormatters:oc(w)?w.__numberFormatters:void 0,__v_emitter:oc(w)?w.__v_emitter:void 0,__meta:{framework:"vue"}}),Ec(w,s.value,a.value);const x=e.computed({get:()=>s.value,set:e=>{s.value=e,w.locale=s.value}}),b=e.computed({get:()=>a.value,set:e=>{a.value=e,w.fallbackLocale=a.value,Ec(w,s.value,e)}}),C=e.computed((()=>r.value)),B=e.computed((()=>l.value)),N=e.computed((()=>c.value));function S(e,t,o,n,d,u){let h;if(s.value,a.value,r.value,l.value,c.value,h=e(w),zl(h)&&-1===h){const[e,o]=t();return i&&m?n(i):d(e)}if(u(h))return h;throw Rc(14)}function E(...e){return S((t=>Pc(t,...e)),(()=>Ac(...e)),0,(t=>t.t(...e)),(e=>e),(e=>Ql(e)))}const V={normalize:function(t){return t.map((t=>Ql(t)?e.createVNode(e.Text,null,t,0):t))},interpolate:e=>e,type:"vnode"};function T(e){return r.value[e]||{}}Jc++,i&&(e.watch(i.locale,(e=>{n&&(s.value=e,w.locale=e,Ec(w,s.value,a.value))})),e.watch(i.fallbackLocale,(e=>{n&&(a.value=e,w.fallbackLocale=e,Ec(w,s.value,a.value))})));return{id:Jc,locale:x,fallbackLocale:b,get inheritLocale(){return n},set inheritLocale(e){n=e,e&&i&&(s.value=i.locale.value,a.value=i.fallbackLocale.value,Ec(w,s.value,a.value))},get availableLocales(){return Object.keys(r.value).sort()},messages:C,datetimeFormats:B,numberFormats:N,get modifiers(){return y},get pluralRules(){return k||{}},get isGlobal(){return o},get missingWarn(){return d},set missingWarn(e){d=e,w.missingWarn=d},get fallbackWarn(){return u},set fallbackWarn(e){u=e,w.fallbackWarn=u},get fallbackRoot(){return m},set fallbackRoot(e){m=e},get fallbackFormat(){return h},set fallbackFormat(e){h=e,w.fallbackFormat=h},get warnHtmlMessage(){return v},set warnHtmlMessage(e){v=e,w.warnHtmlMessage=e},get escapeParameter(){return _},set escapeParameter(e){_=e,w.escapeParameter=e},t:E,rt:function(...e){const[t,i,o]=e;if(o&&!ec(o))throw Rc(15);return E(t,i,ql({resolvedMessage:!0},o||{}))},d:function(...e){return S((t=>$c(t,...e)),(()=>Lc(...e)),0,(t=>t.d(...e)),(()=>""),(e=>Ql(e)))},n:function(...e){return S((t=>Oc(t,...e)),(()=>Fc(...e)),0,(t=>t.n(...e)),(()=>""),(e=>Ql(e)))},te:function(e,t){return null!==mc(T(Ql(t)?t:s.value),e)},tm:function(e){const t=function(e){let t=null;const i=Cc(w,a.value,s.value);for(let o=0;o<i.length;o++){const n=mc(r.value[i[o]]||{},e);if(null!=n){t=n;break}}return t}(e);return null!=t?t:i&&i.tm(e)||{}},getLocaleMessage:T,setLocaleMessage:function(e,t){r.value[e]=t,w.messages=r.value},mergeLocaleMessage:function(e,t){r.value[e]=r.value[e]||{},Kc(t,r.value[e]),w.messages=r.value},getDateTimeFormat:function(e){return l.value[e]||{}},setDateTimeFormat:function(e,t){l.value[e]=t,w.datetimeFormats=l.value,Mc(w,e,t)},mergeDateTimeFormat:function(e,t){l.value[e]=ql(l.value[e]||{},t),w.datetimeFormats=l.value,Mc(w,e,t)},getNumberFormat:function(e){return c.value[e]||{}},setNumberFormat:function(e,t){c.value[e]=t,w.numberFormats=c.value,Uc(w,e,t)},mergeNumberFormat:function(e,t){c.value[e]=ql(c.value[e]||{},t),w.numberFormats=c.value,Uc(w,e,t)},getPostTranslationHandler:function(){return Kl(f)?f:null},setPostTranslationHandler:function(e){f=e,w.postTranslation=e},getMissingHandler:function(){return p},setMissingHandler:function(e){null!==e&&(g=Gc(e)),p=e,w.missing=g},[zc]:function(...t){return S((e=>{let i;const o=e;try{o.processor=V,i=Pc(o,...t)}finally{o.processor=null}return i}),(()=>Ac(...t)),0,(e=>e[zc](...t)),(t=>[e.createVNode(e.Text,null,t,0)]),(e=>Xl(e)))},[Hc]:function(...e){return S((t=>Oc(t,...e)),(()=>Fc(...e)),0,(t=>t[Hc](...e)),(()=>[]),(e=>Ql(e)||Xl(e)))},[jc]:function(...e){return S((t=>$c(t,...e)),(()=>Lc(...e)),0,(t=>t[jc](...e)),(()=>[]),(e=>Ql(e)||Xl(e)))},[Wc]:function(e){k=e,w.pluralRules=k},[qc]:t.__injectWithOption}}function Zc(e={}){const t=Qc(function(e){const t=Ql(e.locale)?e.locale:"en-US",i=Ql(e.fallbackLocale)||Xl(e.fallbackLocale)||oc(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:t,o=Kl(e.missing)?e.missing:void 0,n=!Zl(e.silentTranslationWarn)&&!jl(e.silentTranslationWarn)||!e.silentTranslationWarn,s=!Zl(e.silentFallbackWarn)&&!jl(e.silentFallbackWarn)||!e.silentFallbackWarn,a=!Zl(e.fallbackRoot)||e.fallbackRoot,r=!!e.formatFallbackMessages,l=oc(e.modifiers)?e.modifiers:{},c=e.pluralizationRules,d=Kl(e.postTranslation)?e.postTranslation:void 0,u=!Ql(e.warnHtmlInMessage)||"off"!==e.warnHtmlInMessage,m=!!e.escapeParameterHtml,h=!Zl(e.sync)||e.sync;let p=e.messages;if(oc(e.sharedMessages)){const t=e.sharedMessages;p=Object.keys(t).reduce(((e,i)=>{const o=e[i]||(e[i]={});return ql(o,t[i]),e}),p||{})}const{__i18n:g,__root:f,__injectWithOption:v}=e,_=e.datetimeFormats,y=e.numberFormats;return{locale:t,fallbackLocale:i,messages:p,flatJson:e.flatJson,datetimeFormats:_,numberFormats:y,missing:o,missingWarn:n,fallbackWarn:s,fallbackRoot:a,fallbackFormat:r,modifiers:l,pluralRules:c,postTranslation:d,warnHtmlMessage:u,escapeParameter:m,inheritLocale:h,__i18n:g,__root:f,__injectWithOption:v}}(e)),i={id:t.id,get locale(){return t.locale.value},set locale(e){t.locale.value=e},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(e){t.fallbackLocale.value=e},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get formatter(){return{interpolate:()=>[]}},set formatter(e){},get missing(){return t.getMissingHandler()},set missing(e){t.setMissingHandler(e)},get silentTranslationWarn(){return Zl(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(e){t.missingWarn=Zl(e)?!e:e},get silentFallbackWarn(){return Zl(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(e){t.fallbackWarn=Zl(e)?!e:e},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(e){t.fallbackFormat=e},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(e){t.setPostTranslationHandler(e)},get sync(){return t.inheritLocale},set sync(e){t.inheritLocale=e},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(e){t.warnHtmlMessage="off"!==e},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(e){t.escapeParameter=e},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(e){},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t(...e){const[i,o,n]=e,s={};let a=null,r=null;if(!Ql(i))throw Rc(15);const l=i;return Ql(o)?s.locale=o:Xl(o)?a=o:oc(o)&&(r=o),Xl(n)?a=n:oc(n)&&(r=n),t.t(l,a||r||{},s)},rt:(...e)=>t.rt(...e),tc(...e){const[i,o,n]=e,s={plural:1};let a=null,r=null;if(!Ql(i))throw Rc(15);const l=i;return Ql(o)?s.locale=o:zl(o)?s.plural=o:Xl(o)?a=o:oc(o)&&(r=o),Ql(n)?s.locale=n:Xl(n)?a=n:oc(n)&&(r=n),t.t(l,a||r||{},s)},te:(e,i)=>t.te(e,i),tm:e=>t.tm(e),getLocaleMessage:e=>t.getLocaleMessage(e),setLocaleMessage(e,i){t.setLocaleMessage(e,i)},mergeLocaleMessage(e,i){t.mergeLocaleMessage(e,i)},d:(...e)=>t.d(...e),getDateTimeFormat:e=>t.getDateTimeFormat(e),setDateTimeFormat(e,i){t.setDateTimeFormat(e,i)},mergeDateTimeFormat(e,i){t.mergeDateTimeFormat(e,i)},n:(...e)=>t.n(...e),getNumberFormat:e=>t.getNumberFormat(e),setNumberFormat(e,i){t.setNumberFormat(e,i)},mergeNumberFormat(e,i){t.mergeNumberFormat(e,i)},getChoiceIndex:(e,t)=>-1,__onComponentInstanceCreated(t){const{componentInstanceCreatedListener:o}=e;o&&o(t,i)}};return i}const ed={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:e=>"parent"===e||"global"===e,default:"parent"},i18n:{type:Object}},td={name:"i18n-t",props:ql({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:e=>zl(e)||!isNaN(e)}},ed),setup(t,i){const{slots:o,attrs:n}=i,s=t.i18n||cd({useScope:t.scope,__useComponent:!0}),a=Object.keys(o).filter((e=>"_"!==e));return()=>{const o={};t.locale&&(o.locale=t.locale),void 0!==t.plural&&(o.plural=Ql(t.plural)?+t.plural:t.plural);const r=function({slots:e},t){return 1===t.length&&"default"===t[0]?e.default?e.default():[]:t.reduce(((t,i)=>{const o=e[i];return o&&(t[i]=o()),t}),{})}(i,a),l=s[zc](t.keypath,r,o),c=ql({},n);return Ql(t.tag)||ec(t.tag)?e.h(t.tag,c,l):e.h(e.Fragment,c,l)}}};function id(t,i,o,n){const{slots:s,attrs:a}=i;return()=>{const i={part:!0};let r={};t.locale&&(i.locale=t.locale),Ql(t.format)?i.key=t.format:ec(t.format)&&(Ql(t.format.key)&&(i.key=t.format.key),r=Object.keys(t.format).reduce(((e,i)=>o.includes(i)?ql({},e,{[i]:t.format[i]}):e),{}));const l=n(t.value,i,r);let c=[i.key];Xl(l)?c=l.map(((e,t)=>{const i=s[e.type];return i?i({[e.type]:e.value,index:t,parts:l}):[e.value]})):Ql(l)&&(c=[l]);const d=ql({},a);return Ql(t.tag)||ec(t.tag)?e.h(t.tag,d,c):e.h(e.Fragment,d,c)}}const od=["localeMatcher","style","unit","unitDisplay","currency","currencyDisplay","useGrouping","numberingSystem","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","notation","formatMatcher"],nd={name:"i18n-n",props:ql({value:{type:Number,required:!0},format:{type:[String,Object]}},ed),setup(e,t){const i=e.i18n||cd({useScope:"parent",__useComponent:!0});return id(e,t,od,((...e)=>i[Hc](...e)))}},sd=["dateStyle","timeStyle","fractionalSecondDigits","calendar","dayPeriod","numberingSystem","localeMatcher","timeZone","hour12","hourCycle","formatMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName"],ad={name:"i18n-d",props:ql({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},ed),setup(e,t){const i=e.i18n||cd({useScope:"parent",__useComponent:!0});return id(e,t,sd,((...e)=>i[jc](...e)))}};function rd(e){const t=(t,{instance:i,value:o,modifiers:n})=>{if(!i||!i.$)throw Rc(22);const s=function(e,t){const i=e;if("composition"===e.mode)return i.__getInstance(t)||e.global;{const o=i.__getInstance(t);return null!=o?o.__composer:e.global.__composer}}(e,i.$),a=function(e){if(Ql(e))return{path:e};if(oc(e)){if(!("path"in e))throw Rc(19);return e}throw Rc(20)}(o);t.textContent=s.t(...function(e){const{path:t,locale:i,args:o,choice:n,plural:s}=e,a={},r=o||{};Ql(i)&&(a.locale=i);zl(n)&&(a.plural=n);zl(s)&&(a.plural=s);return[t,r,a]}(a))};return{beforeMount:t,beforeUpdate:t}}function ld(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[Wc](t.pluralizationRules||e.pluralizationRules);const i=Yc(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(i).forEach((t=>e.mergeLocaleMessage(t,i[t]))),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach((i=>e.mergeDateTimeFormat(i,t.datetimeFormats[i]))),t.numberFormats&&Object.keys(t.numberFormats).forEach((i=>e.mergeNumberFormat(i,t.numberFormats[i]))),e}function cd(t={}){const i=e.getCurrentInstance();if(null==i)throw Rc(16);if(!i.appContext.app.__VUE_I18N_SYMBOL__)throw Rc(17);const o=e.inject(i.appContext.app.__VUE_I18N_SYMBOL__);if(!o)throw Rc(22);const n="composition"===o.mode?o.global:o.global.__composer,s=Hl(t)?"__i18n"in i.type?"local":"global":t.useScope?t.useScope:"local";if("global"===s){let e=ec(t.messages)?t.messages:{};"__i18nGlobal"in i.type&&(e=Yc(n.locale.value,{messages:e,__i18n:i.type.__i18nGlobal}));const o=Object.keys(e);if(o.length&&o.forEach((t=>{n.mergeLocaleMessage(t,e[t])})),ec(t.datetimeFormats)){const e=Object.keys(t.datetimeFormats);e.length&&e.forEach((e=>{n.mergeDateTimeFormat(e,t.datetimeFormats[e])}))}if(ec(t.numberFormats)){const e=Object.keys(t.numberFormats);e.length&&e.forEach((e=>{n.mergeNumberFormat(e,t.numberFormats[e])}))}return n}if("parent"===s){let e=function(e,t,i=!1){let o=null;const n=t.root;let s=t.parent;for(;null!=s;){const t=e;if("composition"===e.mode)o=t.__getInstance(s);else{const e=t.__getInstance(s);null!=e&&(o=e.__composer),i&&o&&!o[qc]&&(o=null)}if(null!=o)break;if(n===s)break;s=s.parent}return o}(o,i,t.__useComponent);return null==e&&(e=n),e}if("legacy"===o.mode)throw Rc(18);const a=o;let r=a.__getInstance(i);if(null==r){const o=i.type,s=ql({},t);o.__i18n&&(s.__i18n=o.__i18n),n&&(s.__root=n),r=Qc(s),function(t,i,o){e.onMounted((()=>{}),i),e.onUnmounted((()=>{t.__deleteInstance(i)}),i)}(a,i),a.__setInstance(i,r)}return r}const dd=["locale","fallbackLocale","availableLocales"],ud=["t","rt","d","n","tm"];const md={en:{nav:{home:"Home",message:"Message",serve:"Serve",contacts:"Contacts",mine:"Mine"},tab_nav:{nav1:"Cinema",nav2:"Welfare group",nav3:"Search",nav4:"Nearby people"},shipin:{title1:"photo",title2:"video",title3:"file",title4:"voice call",title5:"Video call"},welcome:"Welcome to join the morning glory. I am a human receptionist and will provide you with 24-hour consultation services",pop:{title:"Prompt",content1:"You are currently an ordinary user and do not have the permission to view TA who likes me. To view more, you can open a membership. Please contact customer service",content2:"You have reached the daily limit for the number of videos you can watch and browse. If you watch more, you can become a member. Please contact customer service",content3:"You have reached your preferred daily limit for browsing nearby people. To view more, you can open a membership. Please contact customer service",content4:"You have reached the daily limit for the number of times you can greet. For more privileges, you can upgrade to a member. Please contact customer service",content5:"You have reached the daily limit of the number of times you can click to like TA. For more permissions, you can upgrade to a member. Please contact customer service",content6:"Waiting for TA's response! Can be viewed in the column messages",content7:"You have not yet opened a membership and do not have permission to use this feature at the moment",close:"Close",up:"Go upgrade",ok:"Confirm"},index:{part_1:"Today's recommendation",part_2:"Popular",more:"More"},usercenter:{title:"Mine",vip_title:"My Prerogative",vip_desc:"50/month to receive VIP privileges",l_nav1:"Like my TA",l_nav2:"My favorite TA",l_nav3:"Setting",l_nav4:"Account security",l_nav5:"Complete information",l_nav6:"Account authentication",login_put:"Log out",vip_p_title:"VIP Member",vip_p_open:"Activate now",vip_p_up:"Upgrade now",vip_p_desc1:"Member not yet activated",vip_p_desc2:"Monthly Card VIP",vip_p_desc3:"Quarterly Card VIP",vip_p_desc4:"Annual VIP card",vip_p_desc5:"Month",vip_p_desc6:"Quarterly",vip_p_desc7:"Annual",vip_p_desc8:"￥",vip_p_desc9:"Authenticator",vip_p_desc10:"Please enter the authentication code and consult customer service",vip_p_main:"VIP privileges",vip_p_nav1:"See who I like",vip_p_nav1_1:" I like TA! View my unforgettable TA ",vip_p_nav2:"See who likes me",vip_p_nav1_2:" Does she like me? View the top 5 TAs who have a crush on me ",vip_p_nav1_2s:" Does she like me? Don't miss the TA who is satisfied with me",vip_p_nav3:"right slides",vip_p_nav3s:"infinite",vip_p_nav1_3:" Breaking the daily right slip limit and not missing any opportunities",vip_p_nav4:"Watch videos every day",vip_p_nav4s:"times",vip_p_nav1_4:" Breaking through daily video viewing and launching, it's great to watch popular videos ",vip_p_nav5:"Membership identification ",vip_p_nav1_5:" Obtain a red nickname ",vip_p_pop_1:"Insufficient points",vip_p_pop_2:"You are already at this level",vip_p_pop_3:"The current level cannot be downgraded",vip_p_pop_4:"Successfully opened",vip_p_pop_5:"Certification successful",vip_p_pop_6:"Certified"},talk:{reload:"Update message list",add_friend:"Add friends",new_group:"Create group chat",close:"Cancel"},group:{in_group:"Enter ",add_group:"Join",no_data:"No record",seccess:"Joined successfully"},bet:{now:"Current number of periods",go_on:"In voting",close:"Under lockdown",history:"Historical ticketing",bet_n1:"Single",bet_n2:"Knife",bet_n3:"Straight",bet_n4:"Enter",rule:"Vote rule",content:"游戏投票规则",outlist:"My ticket issuance",bet_tit:"Quick voting",balance:"Available points",bet_tit_1:"Voting points",reset:"Reset",set_ok:"Vote",close:"Close",pop_tit1:"Insufficient points",pop_tit2:"Please enter points",pop_tit3:"Please select the voting object",pop_tit4:"Voting successful",flow_tit:"Task Progress",flow1:"Task 1",flow2:"Task 2",flow3:"Task 3",flow_type1:"Completed",flow_type2:"Incomplete"},bet_list:{title:"My ticket issuance",qihao:"ISSUE",jifen:"integral",time:"time",toupiao:"vote",bet_n1:"Spring",bet_n2:"Summer",bet_n3:"Autumn",bet_n4:"Winter",no_data:"No record",reload:"pull-to-refresh",loading:"Loading"},nearby:{title:"Nearby people",detail:"Detail",actie_time:"minute ago",actie_time2:"minute ago",actie_times:"active",actie_time2s:"active",like_ta:"person likes TA",about_me:"About Me",talk:"Say hello",like:"Like"},message:{group_title:"Group chat",no_read:"unread entry",cancle_top:"Cancel Topping",set_top:"Top Chat",set_notice:"Disturbance free",cancle_notice:"Cancel immunity",del_talk:"Delete Session",no_data:"No record",reedit:"Re edit",read:"Read",unread:"Unread",close:"Close",reback:"Recall message",copy:"Copy",re_turn:"Forward",quxiao:"Cancel",copyTxt_t1:"text",copyTxt_t2:"message",copyTxt_t3:"pictures link",copyTxt_t4:"file link",reback_msg:"You withdrew a message",pop_tit1:"The system has closed single chat, or the group has opened a ban, so messages cannot be sent",pop_tit2:"The file size cannot exceed 10M",msg_tit:"Chat message",msg_add:"Add Members",msg_remove:"Remove Members",msg_see:"View all group members",msg_group_name:"Group chat name",msg_group_notice:"Notice",msg_group_nonotice:"No Notice",msg_group_guanli:"Management",msg_group_rename:"Change Name",msg_group_set_no:"No Disturbance",msg_group_set_top:"Topping",msg_group_close:"Dissolution",msg_group_out:"Exit group chat",save:"Save",msg_group_notice2:"Please enter the announcement...",msg_group_set_t1:"Only group owners and administrators can manage",msg_group_set_t2:"After activation, other members cannot modify group names, edit announcements, etc",msg_group_set_t3:"Allow group members to invite",msg_group_set_t4:"After activation, other members can invite others to join the group chat",msg_group_set_t5:"Allow adding group members as friends",msg_group_set_t6:"After activation, members can view each other's information and add them as friends or send messages",msg_group_set_t7:"Group chat ban",msg_group_close2:"Close",msg_group_set_r1:"Only administrators can speak",msg_group_set_r2:"Only group leaders can speak",pop_no_t1:"Are you sure you want to",pop_no_t2:"User privacy enabled！",pop_no_t3:"Are you sure you want to delete it?"},contact:{title:"Personal Information",remarks:"Notes",no_set:"not set",emial:"Emial",sex:"Gender",sex_nan:"Male",sex_nv:"Woman",no_msg:"unknown",send_msg:"Send a message",call:"Call",video:"Audio and video calls",del_friend:"Delete Friends",add_friend:"Add friends",video_yuyin:"voice call",video_shiping:"Video call",close:"Close",other:"Other terminals are currently on call",sure_del:"Are you sure you want to delete this friend？",check_msg:"Please enter verification information",check_remark:"Please enter a note！",can_not_set:"Unable to set",check_remark2:"Please enter note information",check_remark3:"Please enter a friend's note",invite:"New invitation",group_tit:"Group chat",total:"friends",no_user:"No contact person",search_placeholder:"Enter search keywords",search_title:"Search for friends",search:"Please enter user account for search",search_btn:"Search",see_more:"View",no_data:"No record",search_no_data:"No data found in search",search_pop:"Please enter user account for search"},friend:{title:"New invitation",replay_add:"Apply to add you as a friend",reback:"Refused",send:"Send a message",control:"operate",talk:"Say hello",jujue:"Refused",retalk:"Say hello again",wait_tongyi:"To be agreed",no_data:"No record",send_by_me:"I initiated it",send_for_me:"I received it",pop_tit:"You can greet people nearby",pop_n1:"Prompt",pop_n2:"Are you sure you agree to the friend's request",pop_n3:"Refuse",pop_n4:"Accept"},group_sys:{title:"Group chat list",no_data:"No record",user_list:"Group members",search_placeholder:"Enter search keywords",role_t1:"Group Leader",role_t2:"administrators",search_no_data:"No data found in search",change_admin:"Transfer of management authority",role_set_t1:"Cancel administrator",role_set_t2:"Set as administrator",out_group:"Remove from group chat",ok:"Cancel",pop_tit1:"Are you sure you want to delete this member",pop_tit2:"Are you sure to transfer management permissions to this member?",pop_tit3:"User privacy enabled！",message_tit:"Group information",message_tit2:"Join group chat",message_tit3:"Enter Chat",pop_tit4:"The group chat has closed the group addition request",call_title:"Call"},like:{title:"My favorite TA",sex_nv:"Woman",sex_nan:"Man",sine:"signature",no_data:"No record",title2:"Like my TA",like_msg_1:"on line",like_msg_1:"hour",talk:"Say Hello",talk_desc_1:"Just give a casual greeting",send:"Send"},mine:{title:"Personal Information",icon:"Avatar",fengmian:"",account:"Account ",jifen:"Integral",ming:"Name",nickname:"Nickname",emial:"Please enter the email address",age:"Age",age_num:"Please enter a number",sex:"gender",sine:"Signature",sine_place:"Please enter your personal signature",save:"Save",sex_nan:"Man",sex_nv:"Woman",no_msg:"Unknown",set_t_1:"Please enter your nickname",set_t_2:"Successfully saved",set_t_3:"Uploading..."},safe:{title:"Account security",account:"My Account",update_psw:"Change password",save:"Save",close:"Cancel",old_psw:"Original password",old_psw_1:"Enter the original password",new_psw:"New password",new_psw_1:"Enter a new password",renew_psw:"Repeat New Password",renew_psw_1:"Repeatedly entering a new password"},set:{title:"Setting",new_msg:"News",notice_t:"Sound",notice_t1:"Vibrate",notice_t2:"Other ",notice_t3:"Round avatar",language:"Language",ok:"Confirm",pop_tit1:"Chinese",pop_tit2:"Traditional Chinese",pop_tit3:"English"},server:{title:"Service",meiqia:"Online Service",whatapp:"WhatsApp"},list:{no_data:"No record",type_hot:"Popular categories",all:"All",close:"Close",title:"cinema"},notice_list:{title:"Notice",more:"Detail",no_data:"No record",load_m1:"Pull up to load more",load_m2:"Loading...",load_m3:"no more data"},login:{tit_l1:"Account ",tit_l1_p1:"account ",tit_l2:"Password",tit_l1_p2:"Please enter password",tit_l3:"验证码",tit_l1_p3:"请输入验证码",tit_l4:"Remember",tit_l5:"Forgot password? Click here",tit_l6:"log on",tit_l7:"register",pop_tit1:"Please enter your account ！",pop_tit2:"Please enter password！"},register:{title:"Register",tit_l1:"Account ",tit_l1_p1:"Account",tit_l2:"User Name/Nickname",tit_l1_p2:"Please enter your username or nickname",tit_l3:"Password",tit_l1_p3:"Please enter password",tit_l4:"Duplicate password",tit_l1_p4:"Please re-enter the password again",ok:"Register",pop_tit1:"Please enter your account number！",pop_tit2:"Please enter your username or nickname！",pop_tit3:"Please enter a 6-16 digit password！",pop_tit4:"Two different password inputs！"},detail:{view:"View",jianjie:"Introduction",belike:"Guess you like it"}},zhCN:{nav:{home:"首頁",message:"消息",serve:"客服",contacts:"通訊錄",mine:"我的"},tab_nav:{nav1:"影院",nav2:"福利群",nav3:"搜查",nav4:"附近的人"},shipin:{title1:"照片",title2:"视频",title3:"文件",title4:"语音通话",title5:"视频通话"},welcome:"歡迎加入喇叭花，我是人工接待員將為您24小時諮詢服務",pop:{title:"提示",content1:"您當前為普通用戶暫無許可權查看喜歡我的TA，查看更多可開通會員，請聯系客服",content2:"您當前可觀看瀏覽視頻數量已達到每日限制，觀看更多可開通會員，請聯系客服",content3:"您當前瀏覽附近的人已達到喜歡的每日限制，觀看更多可開通會員，請聯系客服",content4:"您當前可打招呼次數已達到每日限制，更多許可權可升級會員，請聯系客服",content5:"您當前可點擊喜歡TA的次數已達到每日限制，更多許可權可升級會員，請聯系客服",content6:"已打招呼，等待TA的回應！ 可在欄目-消息中查看",content7:"您還未開通會員，暫無使用該功能許可權",close:"關閉",up:"去陞級",ok:"確定"},index:{part_1:"今日推薦",part_2:"熱門",more:"更多"},usercenter:{title:"我的",vip_title:"我的特權",vip_desc:"￥200/月即可獲得特權VIP",l_nav1:"喜歡我的TA",l_nav2:"我喜歡的TA",l_nav3:"通用設定",l_nav4:"帳號安全",l_nav5:"資訊完善",l_nav6:"帳號認證",login_put:"登出",vip_p_title:"VIP會員",vip_p_open:"立即開通",vip_p_up:"立即陞級",vip_p_desc1:"暫未啟動會員",vip_p_desc2:"月卡VIP",vip_p_desc3:"季度卡VIP",vip_p_desc4:"年卡VIP",vip_p_desc5:"月",vip_p_desc6:"季度",vip_p_desc7:"年",vip_p_desc8:"￥",vip_p_desc9:"認證碼",vip_p_desc10:"請輸入認證碼，諮詢客服",vip_p_main:"VIP特權",vip_p_nav1:"查看我喜歡了誰",vip_p_nav1_1:" 我喜歡了TA！ 查看我念念不忘的TA ",vip_p_nav2:"查看誰喜歡我",vip_p_nav1_2:" TA喜歡了我？ 查看前5名對我心動的TA ",vip_p_nav1_2s:" TA喜歡了我？ 不錯過對我滿意的TA",vip_p_nav3:"次右滑",vip_p_nav3s:"無限",vip_p_nav1_3:" 突破每天右滑上限，不錯過每個機會 ",vip_p_nav4:"視頻每天",vip_p_nav4s:"次觀看",vip_p_nav1_4:" 突破每天視頻觀看上線，不錯熱門視頻吃瓜",vip_p_nav5:"會員身份標識 ",vip_p_nav1_5:" 獲得紅字昵稱 ",vip_p_pop_1:"積分不足",vip_p_pop_2:"您已經是該等級了",vip_p_pop_3:"當前等級不能降級",vip_p_pop_4:"開通成功",vip_p_pop_5:"認證成功",vip_p_pop_6:"已認證"},talk:{reload:"更新消息清單",add_friend:"添加朋友",new_group:"創建群聊",close:"取消"},group:{in_group:"立即進入",add_group:"加入群聊",no_data:"暫無記錄",seccess:"加入成功"},bet:{now:"當前期數",go_on:"投票中",close:"封盤中",history:"歷史出票",bet_n1:"單",bet_n2:"刀",bet_n3:"直",bet_n4:"入",rule:"投票規則",content:"遊戲投票規則",outlist:"我的出票",bet_tit:"快捷投票",balance:"可用積分",bet_tit_1:"投票積分",reset:"重置",set_ok:"投票",close:"關閉",pop_tit1:"積分不足",pop_tit2:"請輸入積分",pop_tit3:"請選擇投票對象",pop_tit4:"投票成功",flow_tit:"任務進度",flow1:"任務一",flow2:"任務二",flow3:"任務三",flow_type1:"已完成",flow_type2:"未完成"},bet_list:{title:"我的出票",qihao:"期號",jifen:"投票積分",time:"投票時間",toupiao:"投票",bet_n1:"单",bet_n2:"刀",bet_n3:"直",bet_n4:"入",no_data:"暫無記錄",reload:"下拉重繪",loading:"加載中"},nearby:{title:"附近的人",detail:"查看詳情",actie_time:"分鐘前活躍",actie_time2:"分鐘前活躍",actie_times:"",actie_time2s:"",like_ta:"人喜歡了TA",about_me:"關於我",talk:"打招呼",like:"喜歡"},message:{group_title:"群聊",no_read:"條未讀",cancle_top:"取消置頂",set_top:"置頂聊天",set_notice:"免擾",cancle_notice:"取消免擾",del_talk:"删除會話",no_data:"暫無聊天",reedit:"重新編輯",read:"已讀",unread:"未讀",close:"關閉",reback:"撤回消息",copy:"複製",re_turn:"轉發",quxiao:"取消",copyTxt_t1:"文字",copyTxt_t2:"消息",copyTxt_t3:"圖片連結",copyTxt_t4:"檔案連結",reback_msg:"你撤回了一條消息",pop_tit1:"系統已關閉單聊，或者群已開啟禁言，無法發送消息",pop_tit2:"文件大小不能超過10M",msg_tit:"聊天資訊",msg_add:"添加成員",msg_remove:"移除成員",msg_see:"查看全部群成員",msg_group_name:"群聊名稱",msg_group_notice:"群公告",msg_group_nonotice:"暫無公告",msg_group_guanli:"群管理",msg_group_rename:"修改群名稱",msg_group_set_no:"消息免打擾",msg_group_set_top:"置頂聊天",msg_group_close:"解散群聊",msg_group_out:"退出群聊",save:"保存",msg_group_notice2:"請輸入公告內容...",msg_group_set_t1:"僅群主和群管理員可以管理",msg_group_set_t2:"啟用後，其他成員不能修改群名稱，編輯公告等",msg_group_set_t3:"允許群成員邀請",msg_group_set_t4:"啟用後，其他成員可以邀請其他人加入群聊",msg_group_set_t5:"允許添加群成員為好友",msg_group_set_t6:"啟用後，成員可以互相查看資料並添加為好友或發消息",msg_group_set_t7:"群聊禁言",msg_group_close2:"關閉",msg_group_set_r1:"僅管理員可發言",msg_group_set_r2:"僅群主可發言",pop_no_t1:"確定要",pop_no_t2:"已開啟用戶隱私！",pop_no_t3:"確定要删除嗎?"},contact:{title:"個人資訊",remarks:"備註",no_set:"未設定",emial:"郵箱",sex:"性别",sex_nan:"男",sex_nv:"女",no_msg:"未知",send_msg:"發消息",call:"打電話",video:"音視頻通話",del_friend:"删除好友",add_friend:"加好友",video_yuyin:"語音通話",video_shiping:"視頻通話",close:"取消",other:"其他終端正在通話中",sure_del:"確定要删除該好友嗎？",check_msg:"請輸入驗證資訊",check_remark:"請輸入備註！",can_not_set:"無法設定",check_remark2:"請輸入備註資訊",check_remark3:"請輸入好友備註！",invite:"新邀請",group_tit:"群聊",total:"個朋友",no_user:"暫無連絡人",search_placeholder:"輸入蒐索的關鍵字",search_title:"蒐索朋友",search:"請輸入用戶帳號進行蒐索",search_btn:"蒐索",see_more:"查看",no_data:"暫無數據",search_no_data:"未蒐索到數據",search_pop:"請輸入用戶帳號進行蒐索"},friend:{title:"新邀請",replay_add:"和你打了招呼",reback:"已拒絕",send:"發消息",control:"操作",talk:"打了招呼",jujue:"已拒絕",retalk:"再打招呼",wait_tongyi:"待同意",no_data:"暫無群聊",send_by_me:"我發起的",send_for_me:"我收到的",pop_tit:"可去附近的人打招呼",pop_n1:"提示",pop_n2:"你確定同意該好友的請求嗎",pop_n3:"拒絕",pop_n4:"接受"},group_sys:{title:"群聊清單",no_data:"暫無群聊",user_list:"群成員",search_placeholder:"輸入蒐索的關鍵字",role_t1:"群主",role_t2:"管理員",search_no_data:"未蒐索到數據",change_admin:"轉讓管理許可權",role_set_t1:"取消管理員",role_set_t2:"設為管理員",out_group:"移出群聊",ok:"取消",pop_tit1:"確定要删除該成員嗎",pop_tit2:"確定將管理許可權轉移給該成員嗎?",pop_tit3:"已開啟用戶隱私！",message_tit:"群資訊",message_tit2:"加入群聊",message_tit3:"進入聊天",pop_tit4:"該群聊已經關閉加群申請",call_title:"通話"},like:{title:"我喜歡的TA",sex_nv:"女",sex_nan:"男",sine:"簽名",no_data:"暫無記錄",title2:"喜歡我的TA",like_msg_1:"線上",like_msg_1:"小時",talk:"打招呼",talk_desc_1:"隨意打個招呼吧",send:"發送"},mine:{title:"個人資訊",icon:"頭像",fengmian:"",account:"帳號",jifen:"積分",ming:"姓名",nickname:"昵稱",emial:"請輸入email地址",age:"年紀",age_num:"請輸入數位",sex:"性别",sine:"個性簽名",sine_place:"請輸入個性簽名",save:"保存",sex_nan:"男",sex_nv:"女",no_msg:"未知",set_t_1:"請輸入昵稱",set_t_2:"保存成功",set_t_3:"上傳中..."},safe:{title:"帳號安全",account:"我的帳號",update_psw:"修改密碼",save:"保存",close:"取消",old_psw:"原密碼",old_psw_1:"輸入原來的密碼",new_psw:"新密碼",new_psw_1:"輸入新的密碼",renew_psw:"重複新密碼",renew_psw_1:"重複輸入新密碼"},set:{title:"通用設定",new_msg:"新消息",notice_t:"聲音",notice_t1:"震動",notice_t2:"其他設定",notice_t3:"圓形頭像",language:"語言",ok:"確定",pop_tit1:"中文",pop_tit2:"繁体中文",pop_tit3:"English"},server:{title:"客服",meiqia:"線上客服",whatapp:"WhatsApp"},list:{no_data:"暫無記錄",type_hot:"熱門分類",all:"全部",close:"關閉",title:"影院"},notice_list:{title:"系統通知",more:"查看詳情",no_data:"暫無通知記錄...",load_m1:"上拉加載更多",load_m2:"正在加載...",load_m3:"沒有更多數據了"},login:{tit_l1:"帳號",tit_l1_p1:"帳號",tit_l2:"密碼",tit_l1_p2:"請輸入密碼",tit_l3:"验证码",tit_l1_p3:"请输入验证码",tit_l4:"記住我",tit_l5:"忘記密碼？ 點擊聯系客服",tit_l6:"登入",tit_l7:"注册",pop_tit1:"請輸入帳號！",pop_tit2:"請輸入密碼！"},register:{title:"帳號注册",tit_l1:"帳號",tit_l1_p1:"帳號",tit_l2:"用戶名/昵稱",tit_l1_p2:"請輸入用戶名或昵稱",tit_l3:"密碼",tit_l1_p3:"請輸入密碼",tit_l4:"重複密碼",tit_l1_p4:"請重複輸入密碼",ok:"注册",pop_tit1:"請輸入帳號！",pop_tit2:"請輸入用戶名或者昵稱！",pop_tit3:"請輸入6-16比特密碼！",pop_tit4:"兩次密碼輸入不相同！"},detail:{view:"流覽量",jianjie:"簡介",belike:"猜你喜歡"}},zh:{nav:{home:"首页",message:"消息",serve:"客服",contacts:"通讯录",mine:"我的"},tab_nav:{nav1:"影院",nav2:"福利群",nav3:"搜索",nav4:"附近的人"},shipin:{title1:"照片",title2:"视频",title3:"文件",title4:"语音通话",title5:"视频通话"},welcome:"欢迎加入喇叭花，我是人工接待员将为您24小时咨询服务",pop:{title:"提示",content1:"您当前为普通用户暂无权限查看喜欢我的TA，查看更多可开通会员，请联系客服",content2:"您当前可观看浏览视频数量已达到每日限制，观看更多可开通会员，请联系客服",content3:"您当前浏览附近的人已达到喜欢的每日限制，观看更多可开通会员，请联系客服",content4:"您当前可打招呼次数已达到每日限制，更多权限可升级会员，请联系客服",content5:"您当前可点击喜欢TA的次数已达到每日限制，更多权限可升级会员，请联系客服",content6:"已打招呼，等待TA的回应！可在栏目-消息中查看",content7:"您还未开通会员，暂无使用该功能权限",close:"关闭",up:"去升级",ok:"确定"},index:{part_1:"今日推荐",part_2:"热门",more:"更多"},usercenter:{title:"我的",vip_title:"我的特权",vip_desc:"￥50/月即可获得特权VIP",l_nav5:"信息完善",l_nav6:"账号认证",l_nav1:"喜欢我的TA",l_nav2:"我喜欢的TA",l_nav3:"通用设置",l_nav4:"账号安全",login_put:"退出登录",vip_p_title:"VIP会员",vip_p_open:"立即开通",vip_p_up:"立即升级",vip_p_desc1:"暂未激活会员",vip_p_desc2:"月卡VIP",vip_p_desc3:"季度卡VIP",vip_p_desc4:"年卡VIP",vip_p_desc5:"月",vip_p_desc6:"季度",vip_p_desc7:"年",vip_p_desc8:"￥",vip_p_desc9:"认证码",vip_p_desc10:"请输入认证码，咨询客服",vip_p_main:"VIP特权",vip_p_nav1:"查看我喜欢了谁",vip_p_nav1_1:" 我喜欢了TA！查看我念念不忘的TA ",vip_p_nav2:"查看谁喜欢我",vip_p_nav1_2:" TA喜欢了我？查看前5名对我心动的TA ",vip_p_nav1_2s:" TA喜欢了我？不错过对我满意的TA",vip_p_nav3:"次右滑",vip_p_nav3s:"无限",vip_p_nav1_3:" 突破每天右滑上限，不错过每个机会 ",vip_p_nav4:"视频每天",vip_p_nav4s:"次观看",vip_p_nav1_4:" 突破每天视频观看上线，不错热门视频吃瓜 ",vip_p_nav5:"会员身份标识 ",vip_p_nav1_5:" 获得红字昵称 ",vip_p_pop_1:"积分不足",vip_p_pop_2:"您已经是该等级了",vip_p_pop_3:"当前等级不能降级",vip_p_pop_4:"开通成功",vip_p_pop_5:"认证成功",vip_p_pop_6:"已认证"},talk:{reload:"更新消息列表",add_friend:"添加朋友",new_group:"创建群聊",close:"取消"},group:{in_group:"立即进入",add_group:"加入群聊",no_data:"暂无记录",seccess:"加入成功"},bet:{now:"当前期数",go_on:"投票中",close:"封盘中",history:"历史出票",bet_n1:"单",bet_n2:"刀",bet_n3:"直",bet_n4:"入",rule:"投票规则",content:"游戏投票规则",outlist:"我的出票",bet_tit:"快捷投票",balance:"可用积分",bet_tit_1:"投票积分",reset:"重置",set_ok:"投票",close:"关闭",pop_tit1:"积分不足",pop_tit2:"请输入积分",pop_tit3:"请选择投票对象",pop_tit4:"投票成功",flow_tit:"任务进度",flow1:"任务一",flow2:"任务二",flow3:"任务三",flow_type1:"已完成",flow_type2:"未完成"},bet_list:{title:"我的出票",qihao:"期号",jifen:"投票积分",time:"投票时间",toupiao:"投票",bet_n1:"单",bet_n2:"刀",bet_n3:"直",bet_n4:"入",no_data:"暂无记录",reload:"下拉刷新",loading:"加载中"},nearby:{title:"附近的人",detail:"查看详情",actie_time:"分钟前活跃",actie_time2:"分钟前活跃",actie_times:"",actie_time2s:"",like_ta:"人喜欢了TA",about_me:"关于我",talk:"打招呼",like:"喜欢"},message:{group_title:"群聊",no_read:"条未读",cancle_top:"取消置顶",set_top:"置顶聊天",set_notice:"免扰",cancle_notice:"取消免扰",del_talk:"删除会话",no_data:"暂无聊天",reedit:"重新编辑",read:"已读",unread:"未读",close:"关闭",reback:"撤回消息",copy:"复制",re_turn:"转发",quxiao:"取消",copyTxt_t1:"文本",copyTxt_t2:"消息",copyTxt_t3:"图片链接",copyTxt_t4:"文件链接",reback_msg:"你撤回了一条消息",pop_tit1:"系统已关闭单聊，或者群已开启禁言，无法发送消息",pop_tit2:"文件大小不能超过10M",msg_tit:"聊天信息",msg_add:"添加成员",msg_remove:"移除成员",msg_see:"查看全部群成员",msg_group_name:"群聊名称",msg_group_notice:"群公告",msg_group_nonotice:"暂无公告",msg_group_guanli:"群管理",msg_group_rename:"修改群名称",msg_group_set_no:"消息免打扰",msg_group_set_top:"置顶聊天",msg_group_close:"解散群聊",msg_group_out:"退出群聊",save:"保存",msg_group_notice2:"请输入公告内容...",msg_group_set_t1:"仅群主和群管理员可以管理",msg_group_set_t2:"启用后，其他成员不能修改群名称，编辑公告等",msg_group_set_t3:"允许群成员邀请",msg_group_set_t4:"启用后，其他成员可以邀请其他人加入群聊",msg_group_set_t5:"允许添加群成员为好友",msg_group_set_t6:"启用后，成员可以互相查看资料并添加为好友或发消息",msg_group_set_t7:"群聊禁言",msg_group_close2:"关闭",msg_group_set_r1:"仅管理员可发言",msg_group_set_r2:"仅群主可发言",pop_no_t1:"确定要",pop_no_t2:"已开启用户隐私！",pop_no_t3:"确定要删除吗?"},contact:{title:"个人信息",remarks:"备注",no_set:"未设置",emial:"邮箱",sex:"性别",sex_nan:"男",sex_nv:"女",no_msg:"未知",send_msg:"发消息",call:"打电话",video:"音视频通话",del_friend:"删除好友",add_friend:"加好友",video_yuyin:"语音通话",video_shiping:"视频通话",close:"取消",other:"其他终端正在通话中",sure_del:"确定要删除该好友吗？",check_msg:"请输入验证信息",check_remark:"请输入备注！",can_not_set:"无法设置",check_remark2:"请输入备注信息",check_remark3:"请输入好友备注！",invite:"新邀请",group_tit:"群聊",total:"个朋友",no_user:"暂无联系人",search_placeholder:"输入搜索的关键词",search_title:"搜索朋友",search:"请输入用户账号进行搜索",search_btn:"搜索",see_more:"查看",no_data:"暂无数据",search_no_data:"未搜索到数据",search_pop:"请输入用户账号进行搜索"},friend:{title:"新邀请",replay_add:"和你打了招呼",reback:"已拒绝",send:"发消息",control:"操作",talk:"打了招呼",jujue:"已拒绝",retalk:"再打招呼",wait_tongyi:"待同意",no_data:"暂无群聊",send_by_me:"我发起的",send_for_me:"我收到的",pop_tit:"可去附近的人打招呼",pop_n1:"提示",pop_n2:"你确定同意该好友的请求吗",pop_n3:"拒绝",pop_n4:"接受"},group_sys:{title:"群聊列表",no_data:"暂无群聊",user_list:"群成员",search_placeholder:"输入搜索的关键词",role_t1:"群主",role_t2:"管理员",search_no_data:"未搜索到数据",change_admin:"转让管理权限",role_set_t1:"取消管理员",role_set_t2:"设为管理员",out_group:"移出群聊",ok:"取消",pop_tit1:"确定要删除该成员吗",pop_tit2:"确定将管理权限转移给该成员吗?",pop_tit3:"已开启用户隐私！",message_tit:"群信息",message_tit2:"加入群聊",message_tit3:"进入聊天",pop_tit4:"该群聊已经关闭加群申请",call_title:"通话"},like:{title:"我喜欢的TA",sex_nv:"女",sex_nan:"男",sine:"签名",no_data:"暂无记录",title2:"喜欢我的TA",like_msg_1:"在线",like_msg_1:"小时",talk:"打招呼",talk_desc_1:"随意打个招呼吧",send:"发送"},mine:{title:"个人信息",icon:"头像",fengmian:"",account:"账号",jifen:"积分",ming:"姓名",nickname:"昵称",emial:"请输入email地址",age:"年纪",age_num:"请输入数字",sex:"性别",sine:"个性签名",sine_place:"请输入个性签名",save:"保存",sex_nan:"男",sex_nv:"女",no_msg:"未知",set_t_1:"请输入昵称",set_t_2:"保存成功",set_t_3:"上传中..."},safe:{title:"账号安全",account:"我的账号",update_psw:"修改密码",save:"保存",close:"取消",old_psw:"原密码",old_psw_1:"输入原来的密码",new_psw:"新密码",new_psw_1:"输入新的密码",renew_psw:"重复新密码",renew_psw_1:"重复输入新密码"},set:{title:"通用设置",new_msg:"新消息",notice_t:"声音",notice_t1:"震动",notice_t2:"其他设置",notice_t3:"圆形头像",language:"语言",ok:"确定",pop_tit1:"中文",pop_tit2:"繁体中文",pop_tit3:"English"},server:{title:"客服",meiqia:"在线客服",whatapp:"WhatsApp"},list:{no_data:"暂无记录",type_hot:"热门分类",all:"全部",close:"关闭",title:"影院"},notice_list:{title:"系统通知",more:"查看详情",no_data:"暂无通知记录...",load_m1:"上拉加载更多",load_m2:"正在加载...",load_m3:"沒有更多数据了"},login:{tit_l1:"账号",tit_l1_p1:"账号",tit_l2:"密码",tit_l1_p2:"请输入密码",tit_l3:"验证码",tit_l1_p3:"请输入验证码",tit_l4:"记住我",tit_l5:"忘记密码？点击联系客服",tit_l6:"登录",tit_l7:"注册",pop_tit1:"请输入账号！",pop_tit2:"请输入密码！"},register:{title:"账号注册",tit_l1:"账号",tit_l1_p1:"账号",tit_l2:"用户名/昵称",tit_l1_p2:"请输入用户名或昵称",tit_l3:"密码",tit_l1_p3:"请输入密码",tit_l4:"重复密码",tit_l1_p4:"请重复输入密码",ok:"注册",pop_tit1:"请输入账号！",pop_tit2:"请输入用户名或者昵称！",pop_tit3:"请输入6-16位密码！",pop_tit4:"两次密码输入不相同！"},detail:{view:"浏览量",jianjie:"简介",belike:"猜你喜欢"}}},hd=function(t={}){const i=!Zl(t.legacy)||t.legacy,o=!!t.globalInjection,n=new Map,s=i?Zc(t):Qc(t),a=Ul(""),r={get mode(){return i?"legacy":"composition"},async install(t,...n){t.__VUE_I18N_SYMBOL__=a,t.provide(t.__VUE_I18N_SYMBOL__,r),!i&&o&&function(t,i){const o=Object.create(null);dd.forEach((t=>{const n=Object.getOwnPropertyDescriptor(i,t);if(!n)throw Rc(22);const s=e.isRef(n.value)?{get:()=>n.value.value,set(e){n.value.value=e}}:{get:()=>n.get&&n.get()};Object.defineProperty(o,t,s)})),t.config.globalProperties.$i18n=o,ud.forEach((e=>{const o=Object.getOwnPropertyDescriptor(i,e);if(!o||!o.value)throw Rc(22);Object.defineProperty(t.config.globalProperties,`$${e}`,o)}))}(t,r.global),function(e,t,...i){const o=oc(i[0])?i[0]:{},n=!!o.useI18nComponentName;(!Zl(o.globalInstall)||o.globalInstall)&&(e.component(n?"i18n":td.name,td),e.component(nd.name,nd),e.component(ad.name,ad)),e.directive("t",rd(t))}(t,r,...n),i&&t.mixin(function(t,i,o){return{beforeCreate(){const n=e.getCurrentInstance();if(!n)throw Rc(22);const s=this.$options;if(s.i18n){const e=s.i18n;s.__i18n&&(e.__i18n=s.__i18n),e.__root=i,this===this.$root?this.$i18n=ld(t,e):(e.__injectWithOption=!0,this.$i18n=Zc(e))}else s.__i18n?this===this.$root?this.$i18n=ld(t,s):this.$i18n=Zc({__i18n:s.__i18n,__injectWithOption:!0,__root:i}):this.$i18n=t;t.__onComponentInstanceCreated(this.$i18n),o.__setInstance(n,this.$i18n),this.$t=(...e)=>this.$i18n.t(...e),this.$rt=(...e)=>this.$i18n.rt(...e),this.$tc=(...e)=>this.$i18n.tc(...e),this.$te=(e,t)=>this.$i18n.te(e,t),this.$d=(...e)=>this.$i18n.d(...e),this.$n=(...e)=>this.$i18n.n(...e),this.$tm=e=>this.$i18n.tm(e)},mounted(){},beforeUnmount(){const t=e.getCurrentInstance();if(!t)throw Rc(22);delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,o.__deleteInstance(t),delete this.$i18n}}}(s,s.__composer,r))},get global(){return s},__instances:n,__getInstance:e=>n.get(e)||null,__setInstance(e,t){n.set(e,t)},__deleteInstance(e){n.delete(e)}};return r}({legacy:!1,globalInjection:!0,locale:me(he).language,messages:md,globalInjection:!0});const{app:pd,Vuex:gd,Pinia:fd}=function(){const t=e.createVueApp(Nl);return t.config.globalProperties.appStatus=!0,t.config.globalProperties.$util=ye,t.config.globalProperties.$api=Pl,t.config.globalProperties.$myRuquest=Ol,t.config.globalProperties.$baseurl=Ll,t.config.globalProperties.$imgurl=Ml,t.config.globalProperties.$store=he,t.config.globalProperties.socketIo=new Dl,t.component("cu-custom",Sl),t.component("Empty",Al),t.component("Tags",$l),t.use(he),t.use(hd),{app:t}}();uni.Vuex=gd,uni.Pinia=fd,pd.provide("__globalStyles",__uniConfig.styles),pd._component.mpType="app",pd._component.render=()=>{},pd.mount("#app")}(Vue,uni.VueShared);
