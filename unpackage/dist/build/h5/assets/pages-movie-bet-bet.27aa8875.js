import{_ as t,a as e,s as l,c as a,n as s,K as i,o as _,e as o,w as n,m as u,i as f,f as d,j as c,t as r,q as h,v as b,k as m,l as p,r as y,F as g,x,P as w,Q as k,z as $}from"./index-2a18bb69.js";const v=e(l);const N=t({data:()=>({tab_index:0,loginStore:v,pop_notice:!1,scroll_ft:!1,pop_bet:!1,index_ico:"@/static/image/shouye.png",index_ico_h:"",cz_ico:"",cz_ico_h:"",kf_ico:"",kf_ico_h:"",user_ico:"",user_ico_h:"",bet_num:"",max_num:0,qishu:"",qishu_id:"",ifrun:!0,ifhistory:!1,history_list:[],Number_arr:[],Number_laster:[],cost_arr:[10,50,100,200,500,1e3],userinfo:{},time1:0,time2:0,time3:0,time_build:null,if_over:!1,pageHeight:0,flow_data:{},shop_list:[]}),watch:{watch:{$route(t){t.fullPath}},bet_num(t){Number(t)>this.max_num?this.bet_num=this.max_num:this.bet_num=t},time3:function(t){var e=this;if(0==this.time1&&0==this.time2&&t<8&&(this.ifrun=!1),this.time2==t&&0==t)return this.if_over=!0,this.ifrun=!1,clearInterval(this.time_build),this.time_build=null,void setTimeout((function(){e.getNewOpenData()}),3e3);(t<0||NaN==t||"NaN"==t)&&(this.ifrun=!1,clearInterval(this.time_build),this.time_build=null,setTimeout((function(){e.getNewOpenData()}),3e3))}},methods:{change_tab(t){this.tab_index=t,this.pop_bet=!1,1==t?this.get_shop_list(1):2==t&&this.get_shop_list(2)},get_sys_userinfo(){var t={user_id:JSON.parse(JSON.stringify(v.userInfo)).user_id};this.$api.third_openApi.get_user_info(t).then((t=>{if(0==t.code){let e=t.data.data;this.flow_data=e[0]}}))},get_shop_list(t){var e={type_id:t};this.$api.third_openApi.shop_list(e).then((t=>{0==t.code&&(this.shop_list=t.data.data)}))},see_detail(t){a("shop_info",t),s({url:"/pages/movie/bet/detial?id="+t.id})},change_num(t){},showtime(t,e){if(""!==e){var l=new Date,a=new Date(e).getTime()-l.getTime(),s=Math.floor(a/864e5),i=Math.floor(a/36e5%24),_=Math.floor(a/6e4%60),o=Math.floor(a/1e3%60);return this.time1=i,this.time2=_,this.time3=o,s+"å¤©"+i+":"+_+":"+o}},jump(t){1==t?s({url:"/pages/movie/index/index"}):2==t?s({url:"/pages/movie/list/index"}):3==t?s({url:"/pages/movie/bet/bet"}):4==t?s({url:"/pages/kefu/kefu_index"}):5==t&&s({url:"/pages/mine/index"})},see_list(){s({url:"/pages/movie/bet/list"})},get_bet_num(t,e){this.Number_arr[e].ifhad?this.Number_arr[e].ifhad=!1:this.Number_arr[e].ifhad=!0;const l=this.Number_arr.find((t=>1==t.ifhad));this.pop_bet=void 0!==l,this.pageHeight<820&&1==this.pop_bet&&(this.scroll_ft=!0)},get_num(t){this.bet_num=t},reset(){this.bet_num=""},async get_userInfo(){const t=await this.$myRuquest({url:"/api/front/user/getUserInfo",method:"POST"});200==t.code&&(this.userinfo=t.data,this.max_num=this.userinfo.balance)},async getNewOpenData(){const t=await this.$myRuquest({url:"/api/front/movie/getNewOpenData",method:"POST"});200==t.code&&(this.getHistoryOpenData(),this.qishu=t.data.open_no,this.qishu_id=t.data.id,this.time_build=setInterval((()=>{this.showtime("",t.data.open_time)}),1e3),this.ifrun=!0)},async getOpenData(){const t=await this.$myRuquest({url:"/api/front/movie/getActionDetail",method:"POST"});200==t.code&&(this.qishu=t.data.next_open_data.open_no,this.qishu_id=t.data.next_open_data.id,this.time_build=setInterval((()=>{this.showtime("",t.data.next_open_data.open_time)}),1e3))},async getHistoryOpenData(){const t=await this.$myRuquest({url:"/api/front/movie/getHistoryOpenData",method:"POST",data:{page:1,pagesize:10}});200==t.code&&(this.Number_laster=t.data.data)},async submit_bet(){if(Number(this.bet_num)>Number(this.max_num))return void i({title:this.$t("bet.pop_tit1"),icon:"none"});if(Number(this.bet_num)<0||0==Number(this.bet_num))return void i({title:this.$t("bet.pop_tit2"),icon:"none"});let t=new Array;if(this.Number_arr.forEach((e=>{1==e.ifhad&&t.push(e.value)})),0==t.length)return void i({title:this.$t("bet.pop_tit3"),icon:"none"});200==(await this.$myRuquest({url:"/api/front/order/createOrder",method:"POST",data:{next_open_id:this.qishu_id,multiple_id:t.toString(),amount:Number(this.bet_num)}})).code&&(i({title:this.$t("bet.pop_tit4"),icon:"success"}),this.bet_num="",this.Number_arr.forEach((t=>{t.ifhad=!1})),this.get_userInfo())},run_fun(){this.get_sys_userinfo(),this.get_userInfo(),this.getOpenData(),this.getHistoryOpenData(),this.Number_arr=[{name:this.$t("bet.bet_n1"),value:1,ifhad:!1},{name:this.$t("bet.bet_n2"),value:2,ifhad:!1},{name:this.$t("bet.bet_n3"),value:3,ifhad:!1},{name:this.$t("bet.bet_n4"),value:4,ifhad:!1}]}},onLoad(){this.pop_notice=!1;var t=document.getElementsByClassName("uni-page-head-hd")[0];t&&(t.style.display="none")},mounted(){this.pageHeight=document.documentElement.clientHeight},onShow(){}},[["render",function(t,e,l,a,s,i){const v=f,N=$,C=x("Empty"),I=w,z=k;return _(),o(v,{class:u({scroll_ft:s.scroll_ft})},{default:n((()=>[d(v,{class:"bet_tab"},{default:n((()=>[d(v,{class:u(["bet_tab_zi",{bet_tab_haver:0==s.tab_index}]),onClick:e[0]||(e[0]=t=>i.change_tab(0))},{default:n((()=>[c(r(t.$t("bet.tab1")),1)])),_:1},8,["class"]),d(v,{class:u(["bet_tab_zi",{bet_tab_haver:1==s.tab_index}]),onClick:e[1]||(e[1]=t=>i.change_tab(1))},{default:n((()=>[c(r(t.$t("bet.tab2")),1)])),_:1},8,["class"]),d(v,{class:u(["bet_tab_zi",{bet_tab_haver:2==s.tab_index}]),onClick:e[2]||(e[2]=t=>i.change_tab(2))},{default:n((()=>[c(r(t.$t("bet.tab3")),1)])),_:1},8,["class"])])),_:1}),h(d(v,null,{default:n((()=>[d(v,{class:"bet_top"},{default:n((()=>[d(v,{style:{padding:"10px  15px"}},{default:n((()=>[d(v,{class:"bet_line bet_ge"},{default:n((()=>[d(v,null,{default:n((()=>[c(r(t.$t("bet.now")),1)])),_:1})])),_:1}),d(v,{style:{display:"flex","align-items":"center"},class:"bet_ge"},{default:n((()=>[d(v,{style:{"font-weight":"bold","font-size":"16px","margin-right":"3px","text-decoration":"none"}},{default:n((()=>[c(r(s.qishu),1)])),_:1}),s.ifrun?(_(),o(v,{key:0},{default:n((()=>[c(r(t.$t("bet.go_on")),1)])),_:1})):m("",!0),s.ifrun?m("",!0):(_(),o(v,{key:1},{default:n((()=>[c(r(t.$t("bet.close")),1)])),_:1}))])),_:1}),d(v,{class:"time"},{default:n((()=>[c(r(s.time2+":"+s.time3),1)])),_:1}),d(v,{class:"bet_line bet_ge"},{default:n((()=>[(_(!0),p(g,null,y(s.Number_laster.slice(0,1),((e,l)=>(_(),o(v,{style:{display:"flex"},key:l},{default:n((()=>[d(v,{style:{"margin-right":"10px","text-decoration":"none"}},{default:n((()=>[c(r(e.open_no),1)])),_:2},1024),e.number>5||5==e.number?(_(),o(v,{key:0,class:"color_n2"},{default:n((()=>[c(r(t.$t("bet.bet_n1")),1)])),_:1})):m("",!0),e.number<4||4==e.number?(_(),o(v,{key:1,class:"color_n1"},{default:n((()=>[c(r(t.$t("bet.bet_n2")),1)])),_:1})):m("",!0),e.number%2==1?(_(),o(v,{key:2,class:"color_n1"},{default:n((()=>[c(r(t.$t("bet.bet_n3")),1)])),_:1})):m("",!0),e.number%2==0?(_(),o(v,{key:3,class:"color_n2"},{default:n((()=>[c(r(t.$t("bet.bet_n4")),1)])),_:1})):m("",!0)])),_:2},1024)))),128)),d(v,{onClick:e[3]||(e[3]=t=>s.ifhistory=!s.ifhistory),style:{display:"flex"}},{default:n((()=>[c(r(t.$t("bet.history"))+" ",1),s.ifhistory?m("",!0):(_(),o(v,{key:0,class:"cuIcon-unfold",style:{"line-height":"19px","margin-left":"2px"}})),s.ifhistory?(_(),o(v,{key:1,class:"cuIcon-fold",style:{"line-height":"19px","margin-left":"2px"}})):m("",!0)])),_:1}),h(d(v,{class:"history_are",onClick:e[4]||(e[4]=t=>s.ifhistory=!1)},{default:n((()=>[0!==s.Number_laster.length?(_(),o(v,{key:0,style:{padding:"0px 15px"}},{default:n((()=>[(_(!0),p(g,null,y(s.Number_laster,((e,l)=>(_(),o(v,{style:{display:"flex",padding:"5px 0"},key:l},{default:n((()=>[d(v,{style:{"margin-right":"10px"}},{default:n((()=>[c(r(e.open_no),1)])),_:2},1024),e.number>5||5==e.number?(_(),o(v,{key:0,class:"color_n2"},{default:n((()=>[c(r(t.$t("bet.bet_n1")),1)])),_:1})):m("",!0),e.number<4||4==e.number?(_(),o(v,{key:1,class:"color_n1"},{default:n((()=>[c(r(t.$t("bet.bet_n2")),1)])),_:1})):m("",!0),e.number%2==1?(_(),o(v,{key:2,class:"color_n1"},{default:n((()=>[c(r(t.$t("bet.bet_n3")),1)])),_:1})):m("",!0),e.number%2==0?(_(),o(v,{key:3,class:"color_n2"},{default:n((()=>[c(r(t.$t("bet.bet_n4")),1)])),_:1})):m("",!0)])),_:2},1024)))),128))])),_:1})):m("",!0)])),_:1},512),[[b,s.ifhistory]])])),_:1})])),_:1})])),_:1}),d(v,{class:"bet_top_ft"},{default:n((()=>[d(v,{class:"bet_t_ft_m",onClick:e[5]||(e[5]=t=>s.pop_notice=!0)},{default:n((()=>[c(r(t.$t("bet.rule")),1)])),_:1}),d(v,{class:"bet_t_ft_m",onClick:i.see_list,style:{display:"flex","justify-content":"center",color:"#e6557f"}},{default:n((()=>[c(r(t.$t("bet.outlist"))+" ",1),d(v,{class:"cuIcon-right",style:{"line-height":"40px","margin-left":"2px"}})])),_:1},8,["onClick"])])),_:1}),d(v,{class:"bet_main"},{default:n((()=>[(_(!0),p(g,null,y(s.Number_arr,((t,e)=>(_(),o(v,{class:"bet_mainzi",key:e},{default:n((()=>[d(v,{class:u(["bet_zi",{bet_zi_get:t.ifhad}]),onClick:l=>i.get_bet_num(t,e)},{default:n((()=>[c(r(t.name),1)])),_:2},1032,["class","onClick"])])),_:2},1024)))),128))])),_:1})])),_:1},512),[[b,0==s.tab_index]]),h(d(v,null,{default:n((()=>[0!==s.shop_list.length?(_(),o(v,{key:0,class:"list_are"},{default:n((()=>[(_(!0),p(g,null,y(s.shop_list,((t,e)=>(_(),o(v,{class:"list_item",key:e,onClick:e=>i.see_detail(t)},{default:n((()=>[d(v,{class:"list_zi"},{default:n((()=>[d(v,{class:"list_img_are"},{default:n((()=>[d(N,{src:t.logo,class:"list_zi_img",mode:"widthFix"},null,8,["src"])])),_:2},1024),d(v,{class:"list_foot"},{default:n((()=>[d(v,{class:"m_title"},{default:n((()=>[c(r(t.title),1)])),_:2},1024),d(v,{style:{display:"flex","align-items":"center"}},{default:n((()=>[d(v,{class:"cuIcon-moneybag l_ft_r",style:{"font-size":"14px"}}),d(v,{class:"l_ft_r"},{default:n((()=>[c(r(t.price),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):(_(),o(C,{key:1,noDatatext:t.$t("list.no_data"),textcolor:"#999"},null,8,["noDatatext"]))])),_:1},512),[[b,1==s.tab_index]]),h(d(v,null,{default:n((()=>[0!==s.shop_list.length?(_(),o(v,{key:0,class:"list_are"},{default:n((()=>[(_(!0),p(g,null,y(s.shop_list,((t,e)=>(_(),o(v,{class:"list_item",key:e,onClick:e=>i.see_detail(t)},{default:n((()=>[d(v,{class:"list_zi"},{default:n((()=>[d(v,{class:"list_img_are"},{default:n((()=>[d(N,{src:t.logo,class:"list_zi_img",mode:"widthFix"},null,8,["src"])])),_:2},1024),d(v,{class:"list_foot"},{default:n((()=>[d(v,{class:"m_title"},{default:n((()=>[c(r(t.title),1)])),_:2},1024),d(v,{style:{display:"flex","align-items":"center"}},{default:n((()=>[d(v,{class:"cuIcon-moneybag l_ft_r",style:{"font-size":"14px"}}),d(v,{class:"l_ft_r"},{default:n((()=>[c(r(t.price),1)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1})):(_(),o(C,{key:1,noDatatext:t.$t("list.no_data"),textcolor:"#999"},null,8,["noDatatext"]))])),_:1},512),[[b,2==s.tab_index]]),d(v,{style:{"padding-left":"15px",color:"#e6557f","font-size":"16px","font-weight":"bold",margin:"15px 0"}},{default:n((()=>[c(r(t.$t("bet.flow_tit")),1)])),_:1}),d(v,{style:{"padding-left":"10%","padding-bottom":"45px"}},{default:n((()=>[d(v,{class:"flow_line"},{default:n((()=>[d(v,{style:{width:"40%"}},{default:n((()=>[d(v,{style:{"margin-left":"-10px"},class:"color1"},{default:n((()=>[c(r(t.$t("bet.flow1")),1)])),_:1}),d(v,{class:"flow_m"},{default:n((()=>[1==s.flow_data.flow1?(_(),o(v,{key:0,class:"cuIcon-title color1"})):m("",!0),0==s.flow_data.flow1?(_(),o(v,{key:1,class:"cuIcon-title color2"})):m("",!0),d(v,{class:u(["flow_l color2_bg",{color1_bg:1==s.flow_data.flow1}]),style:{flex:"1"}},null,8,["class"])])),_:1}),1==s.flow_data.flow1?(_(),o(v,{key:0,style:{"margin-left":"-10px"},class:"color1"},{default:n((()=>[c(r(t.$t("bet.flow_type1")),1)])),_:1})):(_(),o(v,{key:1,style:{"margin-left":"-10px"},class:"color2"},{default:n((()=>[c(r(t.$t("bet.flow_type2")),1)])),_:1}))])),_:1}),d(v,{style:{width:"40%"}},{default:n((()=>[d(v,{style:{"margin-left":"-10px"},class:"color1"},{default:n((()=>[c(r(t.$t("bet.flow2")),1)])),_:1}),d(v,{class:"flow_m"},{default:n((()=>[1==s.flow_data.flow2?(_(),o(v,{key:0,class:"cuIcon-roundcheckfill color1"})):m("",!0),0==s.flow_data.flow2?(_(),o(v,{key:1,class:"cuIcon-title color2"})):m("",!0),d(v,{class:u(["flow_l color2_bg",{color1_bg:1==s.flow_data.flow2}]),style:{flex:"1"}},null,8,["class"])])),_:1}),1==s.flow_data.flow2?(_(),o(v,{key:0,style:{"margin-left":"-10px"},class:"color1"},{default:n((()=>[c(r(t.$t("bet.flow_type1")),1)])),_:1})):(_(),o(v,{key:1,style:{"margin-left":"-10px"},class:"color2"},{default:n((()=>[c(r(t.$t("bet.flow_type2")),1)])),_:1}))])),_:1}),d(v,{style:{width:"20%"}},{default:n((()=>[d(v,{style:{"margin-left":"-10px"},class:"color1"},{default:n((()=>[c(r(t.$t("bet.flow3")),1)])),_:1}),d(v,{class:"flow_m"},{default:n((()=>[1==s.flow_data.flow3?(_(),o(v,{key:0,class:"cuIcon-roundcheckfill color1"})):m("",!0),0==s.flow_data.flow3?(_(),o(v,{key:1,class:"cuIcon-title color2"})):m("",!0)])),_:1}),1==s.flow_data.flow3?(_(),o(v,{key:0,style:{"margin-left":"-10px"},class:"color1"},{default:n((()=>[c(r(t.$t("bet.flow_type1")),1)])),_:1})):(_(),o(v,{key:1,style:{"margin-left":"-10px"},class:"color2"},{default:n((()=>[c(r(t.$t("bet.flow_type2")),1)])),_:1}))])),_:1})])),_:1})])),_:1}),h(d(v,{class:"bet_foot"},{default:n((()=>[d(v,{class:"bet_f_m"},{default:n((()=>[d(v,{class:"bet_f_mtit"},{default:n((()=>[d(v,null,{default:n((()=>[c(r(t.$t("bet.bet_tit")),1)])),_:1}),d(v,{class:"had_num"},{default:n((()=>[c(r(t.$t("bet.balance"))+":"+r(s.max_num),1)])),_:1})])),_:1}),d(v,{class:"bet_num_line"},{default:n((()=>[(_(!0),p(g,null,y(s.cost_arr,((t,e)=>(_(),o(v,{class:"bet_num",key:e,onClick:e=>i.get_num(t)},{default:n((()=>[c(r(t),1)])),_:2},1032,["onClick"])))),128))])),_:1}),d(v,{class:"bet_num_line",style:{padding:"15px 0"}},{default:n((()=>[d(v,{style:{"line-height":"30px"}},{default:n((()=>[c(r(t.$t("bet.bet_tit_1"))+":",1)])),_:1}),d(v,null,{default:n((()=>[d(I,{class:"uni-input inmut_l",modelValue:s.bet_num,"onUpdate:modelValue":e[6]||(e[6]=t=>s.bet_num=t),onInput:e[7]||(e[7]=t=>i.change_num(s.bet_num)),type:"number",placeholder:""},null,8,["modelValue"])])),_:1}),d(v,null,{default:n((()=>[d(z,{type:"default",class:"reset_btn",onClick:i.reset},{default:n((()=>[c(r(t.$t("bet.reset")),1)])),_:1},8,["onClick"])])),_:1})])),_:1}),s.ifrun?(_(),o(z,{key:0,type:"default",class:"ok_btn",disabled:!s.ifrun,onClick:i.submit_bet},{default:n((()=>[c(r(t.$t("bet.set_ok")),1)])),_:1},8,["disabled","onClick"])):m("",!0),s.ifrun?m("",!0):(_(),o(z,{key:1,type:"default",class:"ok_btn2"},{default:n((()=>[c(r(t.$t("bet.close")),1)])),_:1}))])),_:1})])),_:1},512),[[b,s.pop_bet]]),h(d(v,null,{default:n((()=>[d(v,{class:"com_bg"}),d(v,{class:"com_main"},{default:n((()=>[d(v,{class:"pop_mian"},{default:n((()=>[d(v,{class:"pop_title"},{default:n((()=>[c(r(t.$t("bet.rule")),1)])),_:1}),d(v,{style:{padding:"10px 15px",display:"flex","justify-content":"flex-start","line-height":"25px","flex-wrap":"wrap"}},{default:n((()=>[c(r(t.$t("bet.content")),1)])),_:1}),d(v,{class:"pop_foot"},{default:n((()=>[d(v,{class:"pop_ft_btn2",onClick:e[8]||(e[8]=t=>s.pop_notice=!1)},{default:n((()=>[c(r(t.$t("bet.close")),1)])),_:1})])),_:1})])),_:1})])),_:1})])),_:1},512),[[b,s.pop_notice]])])),_:1},8,["class"])}],["__scopeId","data-v-08d08a75"]]);export{N as default};
